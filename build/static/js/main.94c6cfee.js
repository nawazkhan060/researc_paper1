/*! For license information please see main.94c6cfee.js.LICENSE.txt */
(()=>{var e={9:(e,t,n)=>{"use strict";var s=n(483),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,r={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,s)&&!l.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===r[s]&&(r[s]=t[s]);return{$$typeof:i,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},122:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,i=e[s];if(!(0<r(i,t)))break e;e[s]=t,e[n]=i,n=s}}function s(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,i=e.length,a=i>>>1;s<a;){var o=2*(s+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<i&&0>r(d,l)?(e[s]=d,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<i&&0>r(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=s(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function w(e){if(g=!1,y(e),!f)if(null!==s(c))f=!0,R(k);else{var t=s(d);null!==t&&D(w,t.startTime-e)}}function k(e,n){f=!1,g&&(g=!1,x(N),N=-1),m=!0;var r=p;try{for(y(n),u=s(c);null!==u&&(!(u.expirationTime>n)||e&&!E());){var a=u.callback;if("function"===typeof a){u.callback=null,p=u.priorityLevel;var o=a(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?u.callback=o:u===s(c)&&i(c),y(n)}else i(c);u=s(c)}if(null!==u)var l=!0;else{var h=s(d);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{u=null,p=r,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,_=!1,A=null,N=-1,S=5,C=-1;function E(){return!(t.unstable_now()-C<S)}function M(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?j():(_=!1,A=null)}}else _=!1}if("function"===typeof b)j=function(){b(M)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=M,j=function(){T.postMessage(null)}}else j=function(){v(M,0)};function R(e){A=e,_||(_=!0,j())}function D(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===s(c)&&e===s(d)&&(g?(x(N),N=-1):g=!0,D(w,r-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,R(k))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},146:(e,t)=>{"use strict";var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,f(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,s){var i,r={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:r,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,i,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case s:l=!0}}if(l)return a=a(l=e),e=""===r?"."+C(l,0):r,w(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),E(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+C(o=e[c],c);l+=E(o,t,i,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,i,d=r+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var s=[],i=0;return E(e,s,"","",function(e){return t.call(n,e,i++)}),s}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=j.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:r,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},483:(e,t,n)=>{"use strict";e.exports=n(146)},557:(e,t,n)=>{"use strict";e.exports=n(122)},568:e=>{"use strict";var t=function(){};e.exports=t},723:(e,t,n)=>{"use strict";e.exports=n(9)},775:(e,t,n)=>{"use strict";var s=n(998);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},914:(e,t,n)=>{"use strict";var s=n(483),i=n(557);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,s,i,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,s){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,s)&&(n=null),s||null===i?function(e){return!!h.call(m,e)||!h.call(p,e)&&(u.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,s=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,F=Object.assign;function O(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),r=s.stack.split("\n"),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==r[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function z(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case A:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){s=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=G(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=V(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(s&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),s=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=fe(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,_e=null;function Ae(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(r(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ne(e){je?_e?_e.push(e):_e=[e]:je=e}function Se(){if(je){var e=je,t=_e;if(_e=je=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Me=!1;function Pe(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ce(e,t,n)}finally{Me=!1,(null!==je||null!==_e)&&(Ee(),Se())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var s=wi(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Re=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Re=!1}function Le(e,t,n,s,i,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,Fe=null,Oe=!1,Be=null,We={onError:function(e){Ie=!0,Fe=e}};function ze(e,t,n,s,i,r,a,o,l){Ie=!1,Fe=null,Le.apply(We,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(s=i.return)){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===s)return Ve(i),t;a=a.sibling}throw Error(r(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,st=i.unstable_IdlePriority,it=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?s=ht(o):0!==(r&=a)&&(s=ht(r))}else 0!==(a=n&~i)?s=ht(a):0!==r&&(s=ht(r));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)i=1<<(n=31-at(t)),s|=e[n],t&=~i;return s}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-at(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,_t,At,Nt=!1,St=[],Ct=null,Et=null,Mt=null,Pt=new Map,Tt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,s,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=xi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void At(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);ye=s,n.target.dispatchEvent(s),ye=null,t.shift()}return!0}function Bt(e,t,n){Ot(e)&&n.delete(t)}function Wt(){Nt=!1,null!==Ct&&Ot(Ct)&&(Ct=null),null!==Et&&Ot(Et)&&(Et=null),null!==Mt&&Ot(Mt)&&(Mt=null),Pt.forEach(Bt),Tt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function Ut(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var s=St[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Et&&zt(Et,e),null!==Mt&&zt(Mt,e),Pt.forEach(t),Tt.forEach(t),n=0;n<Rt.length;n++)(s=Rt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Ht=y.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,s){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,n,s)}finally{bt=i,Ht.transition=r}}function qt(e,t,n,s){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,n,s)}finally{bt=i,Ht.transition=r}}function Xt(e,t,n,s){if(Vt){var i=Kt(e,t,n,s);if(null===i)Vs(e,t,s,Yt,n),Lt(e,s);else if(function(e,t,n,s,i){switch(t){case"focusin":return Ct=It(Ct,e,t,n,s,i),!0;case"dragenter":return Et=It(Et,e,t,n,s,i),!0;case"mouseover":return Mt=It(Mt,e,t,n,s,i),!0;case"pointerover":var r=i.pointerId;return Pt.set(r,It(Pt.get(r)||null,e,t,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Tt.set(r,It(Tt.get(r)||null,e,t,n,s,i)),!0}return!1}(i,e,t,n,s))s.stopPropagation();else if(Lt(e,s),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var r=bi(i);if(null!==r&&wt(r),null===(r=Kt(e,t,n,s))&&Vs(e,t,s,Yt,n),r===i)break;i=r}null!==i&&s.stopPropagation()}else Vs(e,t,s,null,n)}}var Yt=null;function Kt(e,t,n,s){if(Yt=null,null!==(e=xi(e=we(s))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,s=n.length,i="value"in Qt?Qt.value:Qt.textContent,r=i.length;for(e=0;e<s&&n[e]===i[e];e++);var a=s-e;for(t=1;t<=a&&n[s-t]===i[r-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,s,i,r){for(var a in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),hn=F({},cn,{view:0,detail:0}),un=rn(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=rn(pn),fn=rn(F({},pn,{dataTransfer:0})),gn=rn(F({},hn,{relatedTarget:0})),vn=rn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(xn),yn=rn(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function An(){return _n}var Nn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(Nn),Cn=rn(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Mn=rn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=rn(Pn),Rn=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var In=d&&"TextEvent"in window&&!Ln,Fn=d&&(!Dn||Ln&&8<Ln&&11>=Ln),On=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,s){Ne(s),0<(t=qs(t,"onChange")).length&&(n=new dn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Os(e,0)}function Kn(e){if(X(yi(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var $n;if(d){var Zn="oninput"in document;if(!Zn){var es=document.createElement("div");es.setAttribute("oninput","return;"),Zn="function"===typeof es.oninput}$n=Zn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function ts(){qn&&(qn.detachEvent("onpropertychange",ns),Xn=qn=null)}function ns(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Gn(t,Xn,e,we(e)),Pe(Yn,t)}}function ss(e,t,n){"focusin"===e?(ts(),Xn=n,(qn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function is(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function rs(e,t){if("click"===e)return Kn(t)}function as(e,t){if("input"===e||"change"===e)return Kn(t)}var os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!h.call(t,i)||!os(e[i],t[i]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function hs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function us(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ms(e){var t=us(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hs(n.ownerDocument.documentElement,n)){if(null!==s&&ps(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=void 0===s.end?r:Math.min(s.end,i),!e.extend&&r>s&&(i=s,s=r,r=i),i=ds(n,r);var a=ds(n,s);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fs=d&&"documentMode"in document&&11>=document.documentMode,gs=null,vs=null,xs=null,bs=!1;function ys(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bs||null==gs||gs!==Y(s)||("selectionStart"in(s=gs)&&ps(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},xs&&ls(xs,s)||(xs=s,0<(s=qs(vs,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gs)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},js={},_s={};function As(e){if(js[e])return js[e];if(!ks[e])return e;var t,n=ks[e];for(t in n)if(n.hasOwnProperty(t)&&t in _s)return js[e]=n[t];return e}d&&(_s=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);var Ns=As("animationend"),Ss=As("animationiteration"),Cs=As("animationstart"),Es=As("transitionend"),Ms=new Map,Ps="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(e,t){Ms.set(e,t),l(t,[e])}for(var Rs=0;Rs<Ps.length;Rs++){var Ds=Ps[Rs];Ts(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Ts(Ns,"onAnimationEnd"),Ts(Ss,"onAnimationIteration"),Ts(Cs,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Es,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Is=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Fs(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,i,a,o,l,c){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(r(198));var d=Fe;Ie=!1,Fe=null,Oe||(Oe=!0,Be=d)}}(s,t,void 0,e),e.currentTarget=null}function Os(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;Fs(i,o,c),r=l}else for(a=0;a<s.length;a++){if(l=(o=s[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;Fs(i,o,c),r=l}}}if(Oe)throw e=Be,Oe=!1,Be=null,e}function Bs(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var s=e+"__bubble";n.has(s)||(Hs(t,e,2,!1),n.add(s))}function Ws(e,t,n){var s=0;t&&(s|=4),Hs(n,e,s,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[zs]){e[zs]=!0,a.forEach(function(t){"selectionchange"!==t&&(Is.has(t)||Ws(t,!1,e),Ws(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zs]||(t[zs]=!0,Ws("selectionchange",!1,t))}}function Hs(e,t,n,s){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),s?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vs(e,t,n,s,i){var r=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var o=s.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=s.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=xi(o)))return;if(5===(l=a.tag)||6===l){s=r=a;continue e}o=o.parentNode}}s=s.return}Pe(function(){var s=r,i=we(n),a=[];e:{var o=Ms.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ns:case Ss:case Cs:l=vn;break;case Es:l=Mn;break;case"scroll":l=un;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var d=0!==(4&t),h=!d&&"scroll"===e,u=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=s;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==u&&(null!=(f=Te(m,u))&&d.push(Gs(m,f,p)))),h)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(d=mn,f="onMouseLeave",u="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cn,f="onPointerLeave",u="onPointerEnter",m="pointer"),h=null==l?o:yi(l),p=null==c?o:yi(c),(o=new d(f,m+"leave",l,n,i)).target=h,o.relatedTarget=p,f=null,xi(i)===s&&((d=new d(u,m+"enter",c,n,i)).target=p,d.relatedTarget=h,f=d),h=f,l&&c)e:{for(u=c,m=0,p=d=l;p;p=Xs(p))m++;for(p=0,f=u;f;f=Xs(f))p++;for(;0<m-p;)d=Xs(d),m--;for(;0<p-m;)u=Xs(u),p--;for(;m--;){if(d===u||null!==u&&d===u.alternate)break e;d=Xs(d),u=Xs(u)}d=null}else d=null;null!==l&&Ys(a,o,l,d,!1),null!==c&&null!==h&&Ys(a,h,c,d,!0)}if("select"===(l=(o=s?yi(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Vn(o))if(Qn)g=as;else{g=is;var v=ss}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rs);switch(g&&(g=g(e,s))?Gn(a,g,n,i):(v&&v(e,o,s),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=s?yi(s):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gs=v,vs=s,xs=null);break;case"focusout":xs=vs=gs=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,ys(a,n,i);break;case"selectionchange":if(fs)break;case"keydown":case"keyup":ys(a,n,i)}var x;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(x=en()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(v=qs(s,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:v}),x?b.data=x:null!==(x=zn(n))&&(b.data=x))),(x=In?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,On);case"textInput":return(e=t.data)===On&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Dn&&Wn(e,t)?(e=en(),Zt=$t=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=qs(s,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:s}),i.data=x))}Os(a,t)})}function Gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",s=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Te(e,n))&&s.unshift(Gs(e,r,i)),null!=(r=Te(e,t))&&s.push(Gs(e,r,i))),e=e.return}return s}function Xs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ys(e,t,n,s,i){for(var r=t._reactName,a=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Te(n,r))&&a.unshift(Gs(n,l,o)):i||null!=(l=Te(n,r))&&a.push(Gs(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ks=/\r\n?/g,Js=/\u0000|\uFFFD/g;function Qs(e){return("string"===typeof e?e:""+e).replace(Ks,"\n").replace(Js,"")}function $s(e,t,n){if(t=Qs(t),Qs(e)!==t&&n)throw Error(r(425))}function Zs(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(e){return ri.resolve(null).then(e).catch(oi)}:si;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===s)return e.removeChild(i),void Ut(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),ui="__reactFiber$"+hi,pi="__reactProps$"+hi,mi="__reactContainer$"+hi,fi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function xi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[ui])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[ui]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function wi(e){return e[pi]||null}var ki=[],ji=-1;function _i(e){return{current:e}}function Ai(e){0>ji||(e.current=ki[ji],ki[ji]=null,ji--)}function Ni(e,t){ji++,ki[ji]=e.current,e.current=t}var Si={},Ci=_i(Si),Ei=_i(!1),Mi=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ti(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ai(Ei),Ai(Ci)}function Di(e,t,n){if(Ci.current!==Si)throw Error(r(168));Ni(Ci,t),Ni(Ei,n)}function Li(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var i in s=s.getChildContext())if(!(i in t))throw Error(r(108,H(e)||"Unknown",i));return F({},n,s)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Mi=Ci.current,Ni(Ci,e),Ni(Ei,Ei.current),!0}function Fi(e,t,n){var s=e.stateNode;if(!s)throw Error(r(169));n?(e=Li(e,t,Mi),s.__reactInternalMemoizedMergedChildContext=e,Ai(Ei),Ai(Ci),Ni(Ci,e)):Ai(Ei),Ni(Ei,n)}var Oi=null,Bi=!1,Wi=!1;function zi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ui(){if(!Wi&&null!==Oi){Wi=!0;var e=0,t=bt;try{var n=Oi;for(bt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Oi=null,Bi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Xe(Ze,Ui),i}finally{bt=t,Wi=!1}}return null}var Hi=[],Vi=0,Gi=null,qi=0,Xi=[],Yi=0,Ki=null,Ji=1,Qi="";function $i(e,t){Hi[Vi++]=qi,Hi[Vi++]=Gi,Gi=e,qi=t}function Zi(e,t,n){Xi[Yi++]=Ji,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ki=e;var s=Ji;e=Qi;var i=32-at(s)-1;s&=~(1<<i),n+=1;var r=32-at(t)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|s,Qi=r+e}else Ji=1<<r|n<<i|s,Qi=e}function er(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function tr(e){for(;e===Gi;)Gi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,Qi=Xi[--Yi],Xi[Yi]=null,Ji=Xi[--Yi],Xi[Yi]=null}var nr=null,sr=null,ir=!1,rr=null;function ar(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function or(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,sr=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,sr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Ji,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,sr=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(ir){var t=sr;if(t){var n=t;if(!or(e,t)){if(lr(e))throw Error(r(418));t=ci(n.nextSibling);var s=nr;t&&or(e,t)?ar(s,n):(e.flags=-4097&e.flags|2,ir=!1,nr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,ir=!1,nr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function hr(e){if(e!==nr)return!1;if(!ir)return dr(e),ir=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=sr)){if(lr(e))throw ur(),Error(r(418));for(;t;)ar(e,t),t=ci(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){sr=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}sr=null}}else sr=nr?ci(e.stateNode.nextSibling):null;return!0}function ur(){for(var e=sr;e;)e=ci(e.nextSibling)}function pr(){sr=nr=null,ir=!1}function mr(e){null===rr?rr=[e]:rr.push(e)}var fr=y.ReactCurrentBatchConfig;function gr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var s=n.stateNode}if(!s)throw Error(r(147,e));var i=s,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xr(e){return(0,e._init)(e._payload)}function br(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Fc(n,e.mode,s)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,s){var r=n.type;return r===j?h(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===T&&xr(r)===t.type)?((s=i(t,n.props)).ref=gr(e,t,n),s.return=e,s):((s=Dc(n.type,n.key,n.props,null,e.mode,s)).ref=gr(e,t,n),s.return=e,s)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,s)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,s,r){return null===t||7!==t.tag?((t=Lc(n,e.mode,s,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gr(e,null,t),n.return=e,n;case k:return(t=Oc(t,e.mode,n)).return=e,t;case T:return u(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;vr(e,t)}return null}function p(e,t,n,s){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,s):null;case k:return n.key===i?d(e,t,n,s):null;case T:return p(e,t,(i=n._init)(n._payload),s)}if(te(n)||L(n))return null!==i?null:h(e,t,n,s,null);vr(e,n)}return null}function m(e,t,n,s,i){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(n)||null,""+s,i);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return c(t,e=e.get(null===s.key?n:s.key)||null,s,i);case k:return d(t,e=e.get(null===s.key?n:s.key)||null,s,i);case T:return m(e,t,n,(0,s._init)(s._payload),i)}if(te(s)||L(s))return h(t,e=e.get(n)||null,s,i,null);vr(t,s)}return null}function f(i,r,o,l){for(var c=null,d=null,h=r,f=r=0,g=null;null!==h&&f<o.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var v=p(i,h,o[f],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),r=a(v,r,f),null===d?c=v:d.sibling=v,d=v,h=g}if(f===o.length)return n(i,h),ir&&$i(i,f),c;if(null===h){for(;f<o.length;f++)null!==(h=u(i,o[f],l))&&(r=a(h,r,f),null===d?c=h:d.sibling=h,d=h);return ir&&$i(i,f),c}for(h=s(i,h);f<o.length;f++)null!==(g=m(h,i,f,o[f],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),r=a(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&h.forEach(function(e){return t(i,e)}),ir&&$i(i,f),c}function g(i,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var h=d=null,f=o,g=o=0,v=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(i,f,x.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,g),null===h?d=b:h.sibling=b,h=b,f=v}if(x.done)return n(i,f),ir&&$i(i,g),d;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=u(i,x.value,c))&&(o=a(x,o,g),null===h?d=x:h.sibling=x,h=x);return ir&&$i(i,g),d}for(f=s(i,f);!x.done;g++,x=l.next())null!==(x=m(f,i,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),o=a(x,o,g),null===h?d=x:h.sibling=x,h=x);return e&&f.forEach(function(e){return t(i,e)}),ir&&$i(i,g),d}return function e(s,r,a,l){if("object"===typeof a&&null!==a&&a.type===j&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===j){if(7===d.tag){n(s,d.sibling),(r=i(d,a.props.children)).return=s,s=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&xr(c)===d.type){n(s,d.sibling),(r=i(d,a.props)).ref=gr(s,d,a),r.return=s,s=r;break e}n(s,d);break}t(s,d),d=d.sibling}a.type===j?((r=Lc(a.props.children,s.mode,l,a.key)).return=s,s=r):((l=Dc(a.type,a.key,a.props,null,s.mode,l)).ref=gr(s,r,a),l.return=s,s=l)}return o(s);case k:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(s,r.sibling),(r=i(r,a.children||[])).return=s,s=r;break e}n(s,r);break}t(s,r),r=r.sibling}(r=Oc(a,s.mode,l)).return=s,s=r}return o(s);case T:return e(s,r,(d=a._init)(a._payload),l)}if(te(a))return f(s,r,a,l);if(L(a))return g(s,r,a,l);vr(s,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(s,r.sibling),(r=i(r,a)).return=s,s=r):(n(s,r),(r=Fc(a,s.mode,l)).return=s,s=r),o(s)):n(s,r)}}var yr=br(!0),wr=br(!1),kr=_i(null),jr=null,_r=null,Ar=null;function Nr(){Ar=_r=jr=null}function Sr(e){var t=kr.current;Ai(kr),e._currentValue=t}function Cr(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){jr=e,Ar=_r=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Ar!==e)if(e={context:e,memoizedValue:t,next:null},null===_r){if(null===jr)throw Error(r(308));_r=e,jr.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Pr=null;function Tr(e){null===Pr?Pr=[e]:Pr.push(e)}function Rr(e,t,n,s){var i=t.interleaved;return null===i?(n.next=n,Tr(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dr(e,s)}function Dr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lr=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Cl)){var i=s.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Dr(e,n)}return null===(i=s.interleaved)?(t.next=t,Tr(s)):(t.next=i.next,i.next=t),s.interleaved=t,Dr(e,n)}function Wr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,xt(e,n)}}function zr(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ur(e,t,n,s){var i=e.updateQueue;Lr=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var h=i.baseState;for(a=0,d=c=l=null,o=r;;){var u=o.lane,p=o.eventTime;if((s&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(u=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){h=m.call(p,h,u);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(u="function"===typeof(m=f.payload)?m.call(p,h,u):m)||void 0===u)break e;h=F({},h,u);break e;case 2:Lr=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(u=i.effects)?i.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,a|=u;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(u=o).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=h}}function Hr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!==typeof i)throw Error(r(191,i));i.call(s)}}}var Vr={},Gr=_i(Vr),qr=_i(Vr),Xr=_i(Vr);function Yr(e){if(e===Vr)throw Error(r(174));return e}function Kr(e,t){switch(Ni(Xr,t),Ni(qr,e),Ni(Gr,Vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Gr),Ni(Gr,t)}function Jr(){Ai(Gr),Ai(qr),Ai(Xr)}function Qr(e){Yr(Xr.current);var t=Yr(Gr.current),n=le(t,e.type);t!==n&&(Ni(qr,e),Ni(Gr,n))}function $r(e){qr.current===e&&(Ai(Gr),Ai(qr))}var Zr=_i(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var sa=y.ReactCurrentDispatcher,ia=y.ReactCurrentBatchConfig,ra=0,aa=null,oa=null,la=null,ca=!1,da=!1,ha=0,ua=0;function pa(){throw Error(r(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function fa(e,t,n,s,i,a){if(ra=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?$a:Za,e=n(s,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(r(301));a+=1,la=oa=null,t.updateQueue=null,sa.current=eo,e=n(s,i)}while(da)}if(sa.current=Qa,t=null!==oa&&null!==oa.next,ra=0,la=oa=aa=null,ca=!1,t)throw Error(r(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function xa(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(r(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function ya(e){var t=xa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var s=oa,i=s.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((ra&h)===h)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=u,o=s):c=c.next=u,aa.lanes|=h,Il|=h}d=d.next}while(null!==d&&d!==a);null===c?o=s:c.next=l,os(s,t.memoizedState)||(bo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Il|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);os(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function ka(){}function ja(e,t){var n=aa,s=xa(),i=t(),a=!os(s.memoizedState,i);if(a&&(s.memoizedState=i,bo=!0),s=s.queue,La(Na.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ma(9,Aa.bind(null,n,s,i,t),void 0,null),null===El)throw Error(r(349));0!==(30&ra)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,s){t.value=n,t.getSnapshot=s,Sa(t)&&Ca(e)}function Na(e,t,n){return n(function(){Sa(t)&&Ca(e)})}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(s){return!0}}function Ca(e){var t=Dr(e,1);null!==t&&nc(t,e,1,-1)}function Ea(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,aa,e),[t.memoizedState,e]}function Ma(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Pa(){return xa().memoizedState}function Ta(e,t,n,s){var i=va();aa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===s?null:s)}function Ra(e,t,n,s){var i=xa();s=void 0===s?null:s;var r=void 0;if(null!==oa){var a=oa.memoizedState;if(r=a.destroy,null!==s&&ma(s,a.deps))return void(i.memoizedState=Ma(t,n,r,s))}aa.flags|=e,i.memoizedState=Ma(1|t,n,r,s)}function Da(e,t){return Ta(8390656,8,e,t)}function La(e,t){return Ra(2048,8,e,t)}function Ia(e,t){return Ra(4,2,e,t)}function Fa(e,t){return Ra(4,4,e,t)}function Oa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Oa.bind(null,t,e),n)}function Wa(){}function za(e,t){var n=xa();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&ma(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=xa();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&ma(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&ra)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(os(n,t)||(n=ft(),aa.lanes|=n,Il|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var s=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=s}}function Ga(){return xa().memoizedState}function qa(e,t,n){var s=tc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,n);else if(null!==(n=Rr(e,t,n,s))){nc(n,e,s,ec()),Ja(n,t,s)}}function Xa(e,t,n){var s=tc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,n);if(i.hasEagerState=!0,i.eagerState=o,os(o,a)){var l=t.interleaved;return null===l?(i.next=i,Tr(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rr(e,t,i,s))&&(nc(n,e,s,i=ec()),Ja(n,t,s))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Qa={readContext:Mr,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Mr,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4194308,4,Oa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=va();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qa.bind(null,aa,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ea,useDebugValue:Wa,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=aa,i=va();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===El)throw Error(r(349));0!==(30&ra)||_a(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Na.bind(null,s,a,e),[e]),s.flags|=2048,Ma(9,Aa.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=va(),t=El.identifierPrefix;if(ir){var n=Qi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ua++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Mr,useCallback:za,useContext:Mr,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:Fa,useMemo:Ua,useReducer:ya,useRef:Pa,useState:function(){return ya(ba)},useDebugValue:Wa,useDeferredValue:function(e){return Ha(xa(),oa.memoizedState,e)},useTransition:function(){return[ya(ba)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:ja,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:Mr,useCallback:za,useContext:Mr,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:Fa,useMemo:Ua,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Wa,useDeferredValue:function(e){var t=xa();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:ja,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),r=Or(s,i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Br(e,r,i))&&(nc(t,e,i,s),Wr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),r=Or(s,i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Br(e,r,i))&&(nc(t,e,i,s),Wr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),s=tc(e),i=Or(n,s);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Br(e,i,s))&&(nc(t,e,s,n),Wr(t,e,s))}};function io(e,t,n,s,i,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!ls(n,s)||!ls(i,r))}function ro(e,t,n){var s=!1,i=Si,r=t.contextType;return"object"===typeof r&&null!==r?r=Mr(r):(i=Ti(t)?Mi:Ci.current,r=(s=null!==(s=t.contextTypes)&&void 0!==s)?Pi(e,i):Si),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function ao(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ir(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=Mr(r):(r=Ti(t)?Mi:Ci.current,i.context=Pi(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(no(e,t,r,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&so.enqueueReplaceState(i,i.state,null),Ur(e,n,i,s),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",s=t;do{n+=z(s),s=s.return}while(s);var i=n}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Or(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=s),ho(0,t)},n}function mo(e,t,n){(n=Or(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){ho(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof s&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new uo;var i=new Set;s.set(t,i)}else void 0===(i=s.get(t))&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,s,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Or(-1,1)).tag=2,Br(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,s){t.child=null===e?wr(t,null,n,s):yr(t,e.child,n,s)}function wo(e,t,n,s,i){n=n.render;var r=t.ref;return Er(t,i),s=fa(e,t,n,s,r,i),n=ga(),null===e||bo?(ir&&n&&er(t),t.flags|=1,yo(e,t,s,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function ko(e,t,n,s,i){if(null===e){var r=n.type;return"function"!==typeof r||Tc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,s,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,jo(e,t,r,s,i))}if(r=e.child,0===(e.lanes&i)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(a,s)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Rc(r,s)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,s,i){if(null!==e){var r=e.memoizedProps;if(ls(r,s)&&e.ref===t.ref){if(bo=!1,t.pendingProps=s=r,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,s,i)}function _o(e,t,n){var s=t.pendingProps,i=s.children,r=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Rl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Rl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==r?r.baseLanes:n,Ni(Rl,Tl),Tl|=s}else null!==r?(s=r.baseLanes|n,t.memoizedState=null):s=n,Ni(Rl,Tl),Tl|=s;return yo(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,s,i){var r=Ti(n)?Mi:Ci.current;return r=Pi(t,r),Er(t,i),n=fa(e,t,n,s,r,i),s=ga(),null===e||bo?(ir&&s&&er(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function So(e,t,n,s,i){if(Ti(n)){var r=!0;Ii(t)}else r=!1;if(Er(t,i),null===t.stateNode)Ho(e,t),ro(t,n,s),oo(t,n,s,i),s=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mr(c):c=Pi(t,c=Ti(n)?Mi:Ci.current);var d=n.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==s||l!==c)&&ao(t,a,s,c),Lr=!1;var u=t.memoizedState;a.state=u,Ur(t,s,a,i),l=t.memoizedState,o!==s||u!==l||Ei.current||Lr?("function"===typeof d&&(no(t,n,d,s),l=t.memoizedState),(o=Lr||io(t,n,o,s,u,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Fr(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mr(l):l=Pi(t,l=Ti(n)?Mi:Ci.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||u!==l)&&ao(t,a,s,l),Lr=!1,u=t.memoizedState,a.state=u,Ur(t,s,a,i);var m=t.memoizedState;o!==h||u!==m||Ei.current||Lr?("function"===typeof p&&(no(t,n,p,s),m=t.memoizedState),(c=Lr||io(t,n,c,s,u,m,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(s,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(s,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),a.props=s,a.state=m,a.context=l,s=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return Co(e,t,n,s,r,i)}function Co(e,t,n,s,i,r){Ao(e,t);var a=0!==(128&t.flags);if(!s&&!a)return i&&Fi(t,n,!1),Vo(e,t,r);s=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&a?(t.child=yr(t,e.child,null,r),t.child=yr(t,null,o,r)):yo(e,t,o,r),t.memoizedState=s.state,i&&Fi(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Kr(e,t.containerInfo)}function Mo(e,t,n,s,i){return pr(),mr(i),t.flags|=256,yo(e,t,n,s),t.child}var Po,To,Ro,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var s,i=t.pendingProps,a=Zr.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&a)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(Zr,1&a),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Lo,e):Oo(t,l));if(null!==(a=e.memoizedState)&&null!==(s=a.dehydrated))return function(e,t,n,s,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,s=co(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Ic({mode:"visible",children:s.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,0!==(1&t.mode)&&yr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(s=i.nextSibling&&i.nextSibling.dataset)var l=s.dgst;return s=l,Bo(e,t,o,s=co(a=Error(r(419)),s,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(s=El)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(s.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Dr(e,i),nc(s,e,i,-1))}return fc(),Bo(e,t,o,s=co(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,sr=ci(i.nextSibling),nr=t,ir=!0,rr=null,null!==e&&(Xi[Yi++]=Ji,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ji=e.id,Qi=e.overflow,Ki=t),t=Oo(t,s.children),t.flags|=4096,t)}(e,t,l,i,s,a,n);if(o){o=i.fallback,l=t.mode,s=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==s?o=Rc(s,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Oo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,s){return null!==s&&mr(s),yr(t,e.child,null,n),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Cr(e.return,t,n)}function zo(e,t,n,s,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Uo(e,t,n){var s=t.pendingProps,i=s.revealOrder,r=s.tail;if(yo(e,t,s.children,n),0!==(2&(s=Zr.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ni(Zr,s),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,r);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=14680064&i.subtreeFlags,s|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Xo(e,t,n){var s=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ti(t.type)&&Ri(),qo(t),null;case 3:return s=t.stateNode,Jr(),Ai(Ei),Ai(Ci),na(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(ac(rr),rr=null))),To(e,t),qo(t),null;case 5:$r(t);var i=Yr(Xr.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(r(166));return qo(t),null}if(e=Yr(Gr.current),hr(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[ui]=t,s[pi]=a,e=0!==(1&t.mode),n){case"dialog":Bs("cancel",s),Bs("close",s);break;case"iframe":case"object":case"embed":Bs("load",s);break;case"video":case"audio":for(i=0;i<Ls.length;i++)Bs(Ls[i],s);break;case"source":Bs("error",s);break;case"img":case"image":case"link":Bs("error",s),Bs("load",s);break;case"details":Bs("toggle",s);break;case"input":J(s,a),Bs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Bs("invalid",s);break;case"textarea":ie(s,a),Bs("invalid",s)}for(var l in xe(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==a.suppressHydrationWarning&&$s(s.textContent,c,e),i=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$s(s.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bs("scroll",s)}switch(n){case"input":q(s),Z(s,a,!0);break;case"textarea":q(s),ae(s);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(s.onclick=Zs)}s=i,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),"select"===n&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[ui]=t,e[pi]=s,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,s),n){case"dialog":Bs("cancel",e),Bs("close",e),i=s;break;case"iframe":case"object":case"embed":Bs("load",e),i=s;break;case"video":case"audio":for(i=0;i<Ls.length;i++)Bs(Ls[i],e);i=s;break;case"source":Bs("error",e),i=s;break;case"img":case"image":case"link":Bs("error",e),Bs("load",e),i=s;break;case"details":Bs("toggle",e),i=s;break;case"input":J(e,s),i=K(e,s),Bs("invalid",e);break;case"option":default:i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=F({},s,{value:void 0}),Bs("invalid",e);break;case"textarea":ie(e,s),i=se(e,s),Bs("invalid",e)}for(a in xe(n,i),c=i)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&he(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Bs("scroll",e):null!=d&&b(e,a,d,l))}switch(n){case"input":q(e),Z(e,s,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=s.value&&e.setAttribute("value",""+V(s.value));break;case"select":e.multiple=!!s.multiple,null!=(a=s.value)?ne(e,!!s.multiple,a,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(r(166));if(n=Yr(Xr.current),Yr(Gr.current),hr(t)){if(s=t.stateNode,n=t.memoizedProps,s[ui]=t,(a=s.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:$s(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$s(s.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[ui]=t,t.stateNode=s}return qo(t),null;case 13:if(Ai(Zr),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ir&&null!==sr&&0!==(1&t.mode)&&0===(128&t.flags))ur(),pr(),t.flags|=98560,a=!1;else if(a=hr(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[ui]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==rr&&(ac(rr),rr=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zr.current)?0===Dl&&(Dl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Jr(),To(e,t),null===e&&Us(t.stateNode.containerInfo),qo(t),null;case 10:return Sr(t.type._context),qo(t),null;case 19:if(Ai(Zr),null===(a=t.memoizedState))return qo(t),null;if(s=0!==(128&t.flags),null===(l=a.rendering))if(s)Go(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Go(a,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Zr,1&Zr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Ul&&(t.flags|=128,s=!0,Go(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ea(l))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ir)return qo(t),null}else 2*Qe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,s=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Zr.current,Ni(Zr,s?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return hc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Yo(e,t){switch(tr(t),t.tag){case 1:return Ti(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jr(),Ai(Ei),Ai(Ci),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $r(t),null;case 13:if(Ai(Zr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Zr),null;case 4:return Jr(),null;case 10:return Sr(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},Ro=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Yr(Gr.current);var r,a=null;switch(n){case"input":i=K(e,i),s=K(e,s),a=[];break;case"select":i=F({},i,{value:void 0}),s=F({},s,{value:void 0}),a=[];break;case"textarea":i=se(e,i),s=se(e,s),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof s.onClick&&(e.onclick=Zs)}for(d in xe(n,s),n=null,i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=null!=i?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bs("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,n,s){n!==s&&(t.flags|=4)};var Ko=!1,Jo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){_c(e,t,s)}else n.current=null}function el(e,t,n){try{n()}catch(s){_c(e,t,s)}}var tl=!1;function nl(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var i=s=s.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&el(t,n,r)}i=i.next}while(i!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[pi],delete t[fi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zs));else if(4!==s&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function ul(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var s=dl,i=hl;dl=null,ul(e,t,n),hl=i,null!==(dl=s)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:s=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,ul(e,t,n),dl=s,hl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){i=s=s.next;do{var r=i,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&el(n,t,a),i=i.next}while(i!==s)}ul(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){_c(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Jo=(s=Jo)||null!==n.memoizedState,ul(e,t,n),Jo=s):ul(e,t,n);break;default:ul(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var s=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(r(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){_c(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&s){try{nl(3,e,e.return),sl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{ue(i,"")}catch(g){_c(e,e.return,g)}}if(4&s&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var d=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];"style"===h?ge(i,u):"dangerouslySetInnerHTML"===h?he(i,u):"children"===h?ue(i,u):b(i,h,u,d)}switch(l){case"input":$(i,a);break;case"textarea":re(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){_c(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&s){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_c(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Qe())),4&s&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||h,fl(t,e),Jo=d):fl(t,e),vl(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!h&&0!==(1&e.mode))for($o=e,h=e.child;null!==h;){for(u=$o=h;null!==$o;){switch(m=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){s=p,n=p.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){_c(s,n,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){wl(u);continue}}null!==m?(m.return=p,$o=m):wl(u)}h=h.sibling}e:for(h=null,u=e;;){if(5===u.tag){if(null===h){h=u;try{i=u.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=u.stateNode,o=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:fl(t,e),vl(e),4&s&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var s=n;break e}n=n.return}throw Error(r(160))}switch(s.tag){case 5:var i=s.stateNode;32&s.flags&&(ue(i,""),s.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=s.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(r(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var s=0!==(1&e.mode);null!==$o;){var i=$o,r=i.child;if(22===i.tag&&s){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Ko;var c=Jo;if(Ko=a,(Jo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,$o=l):kl(i);for(;null!==r;)$o=r,bl(r,t,n),r=r.sibling;$o=i,Ko=o,Jo=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,$o=r):yl(e)}}function yl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Jo)if(null===n)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hr(t,a,s);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hr(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var h=d.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&Ut(u)}}}break;default:throw Error(r(163))}Jo||512&t.flags&&il(t)}catch(p){_c(t,t.return,p)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function kl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){_c(t,n,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var i=t.return;try{s.componentDidMount()}catch(l){_c(t,i,l)}}var r=t.return;try{il(t)}catch(l){_c(t,r,l)}break;case 5:var a=t.return;try{il(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var jl,_l=Math.ceil,Al=y.ReactCurrentDispatcher,Nl=y.ReactCurrentOwner,Sl=y.ReactCurrentBatchConfig,Cl=0,El=null,Ml=null,Pl=0,Tl=0,Rl=_i(0),Dl=0,Ll=null,Il=0,Fl=0,Ol=0,Bl=null,Wl=null,zl=0,Ul=1/0,Hl=null,Vl=!1,Gl=null,ql=null,Xl=!1,Yl=null,Kl=0,Jl=0,Ql=null,$l=-1,Zl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==$l?$l:$l=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==fr.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,s){if(50<Jl)throw Jl=0,Ql=null,Error(r(185));vt(e,n,s),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Fl|=n),4===Dl&&oc(e,Pl)),sc(e,s),1===n&&0===Cl&&0===(1&t.mode)&&(Ul=Qe()+500,Bi&&Ui()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&s)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var s=ut(e,e===El?Pl:0);if(0===s)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Cl)&&Ui()}),n=null;else{switch(yt(s)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Ec(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Cl))throw Error(r(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var s=ut(e,e===El?Pl:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var i=Cl;Cl|=2;var a=mc();for(El===e&&Pl===t||(Hl=null,Ul=Qe()+500,uc(e,t));;)try{xc();break}catch(l){pc(e,l)}Nr(),Al.current=a,Cl=i,null!==Ml?t=0:(El=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(s=i,t=rc(e,i))),1===t)throw n=Ll,uc(e,0),oc(e,s),sc(e,Qe()),n;if(6===t)oc(e,s);else{if(i=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!os(r(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,s))&&(0!==(a=mt(e))&&(s=a,t=rc(e,a))),1===t))throw n=Ll,uc(e,0),oc(e,s),sc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Wl,Hl);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=zl+500-Qe())){if(0!==ut(e,0))break;if(((i=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=si(wc.bind(null,e,Wl,Hl),t);break}wc(e,Wl,Hl);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-at(s);a=1<<o,(o=t[o])>i&&(i=o),s&=~a}if(s=i,10<(s=(120>(s=Qe()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_l(s/1960))-s)){e.timeoutHandle=si(wc.bind(null,e,Wl,Hl),s);break}wc(e,Wl,Hl);break;default:throw Error(r(329))}}}return sc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function rc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=n,null!==t&&ac(t)),e}function ac(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function oc(e,t){for(t&=~Ol,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),s=1<<n;e[n]=-1,t&=~s}}function lc(e){if(0!==(6&Cl))throw Error(r(327));kc();var t=ut(e,0);if(0===(1&t))return sc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var s=mt(e);0!==s&&(t=s,n=rc(e,s))}if(1===n)throw n=Ll,uc(e,0),oc(e,t),sc(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Hl),sc(e,Qe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Ul=Qe()+500,Bi&&Ui())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=Sl.transition,s=bt;try{if(Sl.transition=null,bt=1,e)return e()}finally{bt=s,Sl.transition=n,0===(6&(Cl=t))&&Ui()}}function hc(){Tl=Rl.current,Ai(Rl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var s=n;switch(tr(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Ri();break;case 3:Jr(),Ai(Ei),Ai(Ci),na();break;case 5:$r(s);break;case 4:Jr();break;case 13:case 19:Ai(Zr);break;case 10:Sr(s.type._context);break;case 22:case 23:hc()}n=n.return}if(El=e,Ml=e=Rc(e.current,null),Pl=Tl=t,Dl=0,Ll=null,Ol=Fl=Il=0,Wl=Bl=null,null!==Pr){for(t=0;t<Pr.length;t++)if(null!==(s=(n=Pr[t]).interleaved)){n.interleaved=null;var i=s.next,r=n.pending;if(null!==r){var a=r.next;r.next=i,s.next=a}n.pending=s}Pr=null}return e}function pc(e,t){for(;;){var n=Ml;try{if(Nr(),sa.current=Qa,ca){for(var s=aa.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}ca=!1}if(ra=0,la=oa=aa=null,da=!1,ha=0,Nl.current=null,null===n||null===n.return){Dl=1,Ll=t,Ml=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,h=l,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&fo(a,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,d,t),fc();break e}c=Error(r(426))}else if(ir&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),mr(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zr(a,po(0,c,t));break e;case 1:l=c;var x=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zr(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}yc(n)}catch(y){t=y,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function mc(){var e=Al.current;return Al.current=Qa,null===e?Qa:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Il)&&0===(268435455&Fl)||oc(El,Pl)}function gc(e,t){var n=Cl;Cl|=2;var s=mc();for(El===e&&Pl===t||(Hl=null,uc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Nr(),Cl=n,Al.current=s,null!==Ml)throw Error(r(261));return El=null,Pl=0,Dl}function vc(){for(;null!==Ml;)bc(Ml)}function xc(){for(;null!==Ml&&!Ke();)bc(Ml)}function bc(e){var t=jl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?yc(e):Ml=t,Nl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Tl)))return void(Ml=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Dl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var s=bt,i=Sl.transition;try{Sl.transition=null,bt=1,function(e,t,n,s){do{kc()}while(null!==Yl);if(0!==(6&Cl))throw Error(r(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),r=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~r}}(e,a),e===El&&(Ml=El=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ec(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ei=Vt,ps(e=us())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,p=null;t:for(;;){for(var m;u!==n||0!==i&&3!==u.nodeType||(l=o+i),u!==a||0!==s&&3!==u.nodeType||(c=o+s),3===u.nodeType&&(o+=u.nodeValue.length),null!==(m=u.firstChild);)p=u,u=m;for(;;){if(u===e)break t;if(p===n&&++d===i&&(l=o),p===a&&++h===s&&(c=o),null!==(m=u.nextSibling))break;p=(u=p).parentNode}u=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}f=tl,tl=!1}(e,n),gl(n,e),ms(ti),Vt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Je(),Cl=l,bt=o,Sl.transition=a}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Qe()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Ui()}(e,t,n,s)}finally{Sl.transition=i,bt=s}return null}function kc(){if(null!==Yl){var e=yt(Kl),t=Sl.transition,n=bt;try{if(Sl.transition=null,bt=16>e?16:e,null===Yl)var s=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Cl))throw Error(r(331));var i=Cl;for(Cl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for($o=d;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var u=h.child;if(null!==u)u.return=h,$o=u;else for(;null!==$o;){var p=(h=$o).sibling,m=h.return;if(rl(h),h===d){$o=null;break}if(null!==p){p.return=m,$o=p;break}$o=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,$o=x;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var y=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,$o=y;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Cl=i,Ui(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(k){}s=!0}return s}finally{bt=n,Sl.transition=t}}return!1}function jc(e,t,n){e=Br(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),sc(e,t))}function _c(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===ql||!ql.has(s))){t=Br(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Ac(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Qe()-zl?uc(e,0):Ol|=n),sc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Dr(e,t))&&(vt(e,t,n),sc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(r(314))}null!==s&&s.delete(t),Nc(e,n)}function Ec(e,t){return Xe(e,t)}function Mc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,s){return new Mc(e,t,n,s)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,s,i,a){var o=2;if(s=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Lc(n.children,i,a,t);case _:o=8,i|=8;break;case A:return(e=Pc(12,n,t,2|i)).elementType=A,e.lanes=a,e;case E:return(e=Pc(13,n,t,i)).elementType=E,e.lanes=a,e;case M:return(e=Pc(19,n,t,i)).elementType=M,e.lanes=a,e;case R:return Ic(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case S:o=9;break e;case C:o=11;break e;case P:o=14;break e;case T:o=16,s=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=s,t.lanes=a,t}function Lc(e,t,n,s){return(e=Pc(7,e,s,t)).lanes=n,e}function Ic(e,t,n,s){return(e=Pc(22,e,s,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,s,i,r,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Pc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ir(r),e}function zc(e){if(!e)return Si;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ti(n))return Li(e,n,t)}return t}function Uc(e,t,n,s,i,r,a,o,l){return(e=Wc(n,s,!0,e,0,r,0,o,l)).context=zc(null),n=e.current,(r=Or(s=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Br(n,r,i),e.current.lanes=i,vt(e,i,s),sc(e,s),e}function Hc(e,t,n,s){var i=t.current,r=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Or(r,a)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Br(i,t,a))&&(nc(e,i,a,r),Wr(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),pr();break;case 5:Qr(t);break;case 1:Ti(t.type)&&Ii(t);break;case 4:Kr(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Ni(kr,s._currentValue),s._currentValue=i;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Ni(Zr,1&Zr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ni(Zr,1&Zr.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ni(Zr,1&Zr.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Zr,Zr.current),s)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ir&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Er(t,n),i=fa(null,t,s,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(s)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ir(t),i.updater=so,t.stateNode=i,i._reactInternals=t,oo(t,s,e,n),t=Co(null,t,s,!0,a,n)):(t.tag=0,ir&&a&&er(t),yo(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,s=(i=s._init)(s._payload),t.type=s,i=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(s),e=to(s,e),i){case 0:t=No(null,t,s,e,n);break e;case 1:t=So(null,t,s,e,n);break e;case 11:t=wo(null,t,s,e,n);break e;case 14:t=ko(null,t,s,to(s.type,e),n);break e}throw Error(r(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,No(e,t,s,i=t.elementType===s?i:to(s,i),n);case 1:return s=t.type,i=t.pendingProps,So(e,t,s,i=t.elementType===s?i:to(s,i),n);case 3:e:{if(Eo(t),null===e)throw Error(r(387));s=t.pendingProps,i=(a=t.memoizedState).element,Fr(e,t),Ur(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,s,n,i=lo(Error(r(423)),t));break e}if(s!==i){t=Mo(e,t,s,n,i=lo(Error(r(424)),t));break e}for(sr=ci(t.stateNode.containerInfo.firstChild),nr=t,ir=!0,rr=null,n=wr(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),s===i){t=Vo(e,t,n);break e}yo(e,t,s,n)}t=t.child}return t;case 5:return Qr(t),null===e&&cr(t),s=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(s,i)?o=null:null!==a&&ni(s,a)&&(t.flags|=32),Ao(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cr(t),null;case 13:return Fo(e,t,n);case 4:return Kr(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=yr(t,null,s,n):yo(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,wo(e,t,s,i=t.elementType===s?i:to(s,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(kr,s._currentValue),s._currentValue=o,null!==a)if(os(a.value,o)){if(a.children===i.children&&!Ei.current){t=Vo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===a.tag){(c=Or(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var h=(d=d.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cr(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cr(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Er(t,n),s=s(i=Mr(i)),t.flags|=1,yo(e,t,s,n),t.child;case 14:return i=to(s=t.type,t.pendingProps),ko(e,t,s,i=to(s.type,i),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:to(s,i),Ho(e,t),t.tag=1,Ti(s)?(e=!0,Ii(t)):e=!1,Er(t,n),ro(t,s,i),oo(t,s,i,n),Co(null,t,s,!0,e,n);case 19:return Uo(e,t,n);case 22:return _o(e,t,n)}throw Error(r(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,s,i){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof i){var o=i;i=function(){var e=Vc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,s,i){if(i){if("function"===typeof s){var r=s;s=function(){var e=Vc(a);r.call(e)}}var a=Uc(t,s,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[mi]=a.current,Us(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof s){var o=s;s=function(){var e=Vc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[mi]=l.current,Us(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,s)}),l}(n,t,e,i,s);return Vc(a)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[mi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(xt(t,1|n),sc(t,Qe()),0===(6&Cl)&&(Ul=Qe()+500,Ui()))}break;case 13:dc(function(){var t=Dr(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},kt=function(e){if(13===e.tag){var t=Dr(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Dr(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},_t=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=wi(s);if(!i)throw Error(r(90));X(s),$(s,i)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[bi,yi,wi,Ne,Se,cc]},td={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{it=sd.inject(nd),rt=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(r(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(r(299));var n=!1,s="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,s,i),e[mi]=t.current,Us(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(r(405));var s=null!=n&&n.hydratedSources||null,i=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,o),e[mi]=t.current,Us(e),s)for(e=0;e<s.length;e++)i=(i=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Qc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},997:function(e,t,n){var s;"undefined"!=typeof self&&self,e.exports=(s=n(483),function(){"use strict";var e={155:function(e){e.exports=s}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{useReactToPrint:function(){return m}});var r=n(155);function a(e){let{level:t="error",messages:n,suppressErrors:s=!1}=e;s||("error"===t?console.error(n):"warning"===t?console.warn(n):console.debug(n))}function o(e,t){if(t||!e){const e=document.getElementById("printWindow");e&&document.body.removeChild(e)}}function l(e){return e instanceof Error?e:new Error("Unknown Error")}function c(e,t){const{documentTitle:n,onAfterPrint:s,onPrintError:i,preserveAfterPrint:r,print:c,suppressErrors:d}=t;setTimeout(()=>{var t,h;if(e.contentWindow){function u(){null==s||s(),o(r)}if(e.contentWindow.focus(),c)c(e).then(u).catch(e=>{i?i("print",l(e)):a({messages:["An error was thrown by the specified `print` function"],suppressErrors:d})});else{if(e.contentWindow.print){const p=null!==(h=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==h?h:"",m=e.ownerDocument.title;n&&(e.ownerDocument.title=n,e.contentDocument&&(e.contentDocument.title=n)),e.contentWindow.print(),n&&(e.ownerDocument.title=m,e.contentDocument&&(e.contentDocument.title=p))}else a({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,n;return(null!==(n=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==n?n:"opera"in window&&window.opera).match(e)})?setTimeout(u,500):u()}}else a({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:d})},500)}function d(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let s=n.nextNode();for(;s;)t.push(s),s=n.nextNode();return t}function h(e,t,n){const s=d(e),i=d(t);if(s.length===i.length)for(let r=0;r<s.length;r++){const e=s[r],t=i[r],a=e.shadowRoot;if(null!==a){const e=t.attachShadow({mode:a.mode});e.innerHTML=a.innerHTML,h(a,e,n)}}else a({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:n})}const u='\n    @page {\n        /* Remove browser default header (title) and footer (url) */\n        margin: 0;\n    }\n    @media print {\n        body {\n            /* Tell browsers to print background colors */\n            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */\n            print-color-adjust: exact; /* Firefox/Safari */\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n        }\n    }\n';function p(e,t,n,s){var i,r,o,d,p;const{contentNode:m,clonedContentNode:f,clonedImgNodes:g,clonedVideoNodes:v,numResourcesToLoad:x,originalCanvasNodes:b}=n,{bodyClass:y,fonts:w,ignoreGlobalStyles:k,pageStyle:j,nonce:_,suppressErrors:A,copyShadowRoots:N}=s;e.onload=null;const S=null!==(i=e.contentDocument)&&void 0!==i?i:null===(r=e.contentWindow)||void 0===r?void 0:r.document;if(S){const n=S.body.appendChild(f);N&&h(m,n,!!A),w&&((null===(o=e.contentDocument)||void 0===o?void 0:o.fonts)&&(null===(d=e.contentWindow)||void 0===d?void 0:d.FontFace)?w.forEach(n=>{const s=new FontFace(n.family,n.source,{weight:n.weight,style:n.style});e.contentDocument.fonts.add(s),s.loaded.then(()=>{t(s)}).catch(e=>{t(s,["Failed loading the font:",s,"Load error:",l(e)])})}):(w.forEach(e=>{t(e)}),a({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:A})));const s=null!=j?j:u,i=S.createElement("style");_&&(i.setAttribute("nonce",_),S.head.setAttribute("nonce",_)),i.appendChild(S.createTextNode(s)),S.head.appendChild(i),y&&S.body.classList.add(...y.split(" "));const r=S.querySelectorAll("canvas");for(let e=0;e<b.length;++e){const t=b[e],n=r[e];if(void 0===n){a({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",t],suppressErrors:A});continue}const s=n.getContext("2d");s&&s.drawImage(t,0,0)}for(let e=0;e<g.length;e++){const n=g[e],s=n.getAttribute("src");if(s){const e=new Image;e.onload=()=>{t(n)},e.onerror=(e,s,i,r,a)=>{t(n,["Error loading <img>",n,"Error",a])},e.src=s}else t(n,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',n])}for(let e=0;e<v.length;e++){const n=v[e];n.preload="auto";const s=n.getAttribute("poster");if(s){const e=new Image;e.onload=()=>{t(n)},e.onerror=(e,i,r,a,o)=>{t(n,["Error loading video poster",s,"for video",n,"Error:",o])},e.src=s}else n.readyState>=2?t(n):n.src?(n.onloadeddata=()=>{t(n)},n.onerror=(e,s,i,r,a)=>{t(n,["Error loading video",n,"Error",a])},n.onstalled=()=>{t(n,["Loading video stalled, skipping",n])}):t(n,["Error loading video, `src` is empty",n])}const c="select",x=m.querySelectorAll(c),C=S.querySelectorAll(c);for(let e=0;e<x.length;e++)C[e].value=x[e].value;if(!k){const n=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let s=0,i=n.length;s<i;++s){const i=n[s];if("style"===i.tagName.toLowerCase()){const t=S.createElement(i.tagName),n=i.sheet;if(n){let r="";try{const e=n.cssRules.length;for(let t=0;t<e;++t)"string"==typeof n.cssRules[t].cssText&&(r+="".concat(n.cssRules[t].cssText,"\r\n"))}catch(e){a({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",i,"Original error: ".concat(l(e).message)],level:"warning"})}t.setAttribute("id","react-to-print-".concat(s)),_&&t.setAttribute("nonce",_),t.appendChild(S.createTextNode(r)),S.head.appendChild(t)}}else if(i.getAttribute("href"))if(i.hasAttribute("disabled"))a({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",i],level:"warning"}),t(i);else{const e=S.createElement(i.tagName);for(let t=0,n=i.attributes.length;t<n;++t){const n=i.attributes[t];n&&e.setAttribute(n.nodeName,null!==(p=n.nodeValue)&&void 0!==p?p:"")}e.onload=()=>{t(e)},e.onerror=(n,s,i,r,a)=>{t(e,["Failed to load",e,"Error:",a])},_&&e.setAttribute("nonce",_),S.head.appendChild(e)}else a({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",i],level:"warning"}),t(i)}}}0===x&&c(e,s)}function m(e){let{bodyClass:t,contentRef:n,copyShadowRoots:s,documentTitle:i,fonts:d,ignoreGlobalStyles:h,nonce:u,onAfterPrint:m,onBeforePrint:f,onPrintError:g,pageStyle:v,preserveAfterPrint:x,print:b,suppressErrors:y}=e;return(0,r.useCallback)(e=>{function r(){const r={bodyClass:t,contentRef:n,copyShadowRoots:s,documentTitle:i,fonts:d,ignoreGlobalStyles:h,nonce:u,onAfterPrint:m,onBeforePrint:f,onPrintError:g,pageStyle:v,preserveAfterPrint:x,print:b,suppressErrors:y},o=function(){const e=document.createElement("iframe");return e.width="".concat(document.documentElement.clientWidth,"px"),e.height="".concat(document.documentElement.clientHeight,"px"),e.style.position="absolute",e.style.top="-".concat(document.documentElement.clientHeight+100,"px"),e.style.left="-".concat(document.documentElement.clientWidth+100,"px"),e.id="printWindow",e.srcdoc="<!DOCTYPE html>",e}(),l=function(e,t){const{contentRef:n,fonts:s,ignoreGlobalStyles:i,suppressErrors:r}=t,o=function(e){let{contentRef:t,optionalContent:n,suppressErrors:s}=e;return n&&"function"==typeof n?(t&&a({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),n()):t?t.current:void a({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:s})}({contentRef:n,optionalContent:e,suppressErrors:r});if(!o)return;const l=o.cloneNode(!0),c=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),d=l.querySelectorAll("img"),h=l.querySelectorAll("video"),u=s?s.length:0;return{contentNode:o,clonedContentNode:l,clonedImgNodes:d,clonedVideoNodes:h,numResourcesToLoad:(i?0:c.length)+d.length+h.length+u,originalCanvasNodes:o.querySelectorAll("canvas")}}(e,r);if(!l)return void a({messages:["There is nothing to print"],suppressErrors:y});const w=function(e,t,n){const{suppressErrors:s}=e,i=[],r=[];return function(o,l){i.includes(o)?a({level:"debug",messages:["Tried to mark a resource that has already been handled",o],suppressErrors:s}):(l?(a({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...l],suppressErrors:s}),r.push(o)):i.push(o),i.length+r.length===t&&c(n,e))}}(r,l.numResourcesToLoad,o);!function(e,t,n,s){e.onload=()=>{p(e,t,n,s)},document.body.appendChild(e)}(o,w,l,r)}o(x,!0),f?f().then(()=>{r()}).catch(e=>{null==g||g("onBeforePrint",l(e))}):r()},[t,n,s,i,d,h,u,m,f,g,v,x,b,y])}return i}())},998:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(914)}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&s;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>s[e]);return a.default=()=>s,n.d(r,a),r}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{dU:()=>ef,ng:()=>Dt,EA:()=>kd,Tm:()=>eu,D6:()=>Rh,YE:()=>qh,rE:()=>Ru});var t,s=n(483),i=n.t(s,2),r=n(775),a=n(998),o=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,s){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function g(e,n,s,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,h=t.Pop,f=null,g=v();function v(){return(o.state||{idx:null}).idx}function x(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,f&&f({action:h,location:y.location,delta:n})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let y={get action(){return h},get location(){return e(r,o)},listen(e){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(c,x),f=e,()=>{r.removeEventListener(c,x),f=null}},createHref:e=>n(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=p(y.location,e,n);s&&s(i,e),g=v()+1;let l=u(i,g),c=y.createHref(i);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(c)}a&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,n){h=t.Replace;let i=p(y.location,e,n);s&&s(i,e),g=v();let r=u(i,g),l=y.createHref(i);o.replaceState(r,"",l),a&&f&&f({action:h,location:y.location,delta:0})},go:e=>o.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,s){let i=R(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let r=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let e=T(i);a=M(r[o],e,s)}return a}function y(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let i=(e,i,r)=>{let a={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(s.length));let o=O([s,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of w(e.path))i(e,t,s);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===s.length)return i?[r,""]:[r];let a=w(s.join("/")),o=[];return o.push(...a.map(e=>""===e?r:[r,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,j=3,_=2,A=1,N=10,S=-2,C=e=>"*"===e;function E(e,t){let n=e.split("/"),s=n.length;return n.some(C)&&(s+=S),t&&(s+=_),n.filter(e=>!C(e)).reduce((e,t)=>e+(k.test(t)?j:""===t?A:N),s)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:s}=e,i={},r="/",a=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===r?t:t.slice(r.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!d&&l&&n&&!s[s.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:O([r,d.pathname]),pathnameBase:B(O([r,d.pathnameBase])),route:h}),"/"!==d.pathnameBase&&(r=O([r,d.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let r=new RegExp(i,t?void 0:"i");return[r,s]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:i}=t;if("*"===s){let e=o[n]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:a,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function D(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,s){let i;void 0===s&&(s=!1),"string"===typeof e?i=f(e):(i=l({},e),d(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let r,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)r=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:i=""}="string"===typeof e?f(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:W(s),hash:z(i)}}(i,r),h=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!u||(c.pathname+="/"),c}const O=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G.apply(this,arguments)}const q=s.createContext(null);const X=s.createContext(null);const Y=s.createContext(null);const K=s.createContext(null);const J=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=s.createContext(null);function $(){return null!=s.useContext(K)}function Z(){return $()||d(!1),s.useContext(K).location}function ee(e){s.useContext(Y).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(J);return e?function(){let{router:e}=he(ce.UseNavigateStable),t=pe(de.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(s,i){void 0===i&&(i={}),n.current&&("number"===typeof s?e.navigate(s):e.navigate(s,G({fromRouteId:t},i)))},[e,t])}():function(){$()||d(!1);let e=s.useContext(q),{basename:t,future:n,navigator:i}=s.useContext(Y),{matches:r}=s.useContext(J),{pathname:a}=Z(),o=JSON.stringify(I(r,n.v7_relativeSplatPath)),l=s.useRef(!1);return ee(()=>{l.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void i.go(n);let r=F(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:O([t,r.pathname])),(s.replace?i.replace:i.push)(r,s.state,s)},[t,i,o,a,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=s.useContext(Y),{matches:r}=s.useContext(J),{pathname:a}=Z(),o=JSON.stringify(I(r,i.v7_relativeSplatPath));return s.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,n,i,r){$()||d(!1);let{navigator:a}=s.useContext(Y),{matches:o}=s.useContext(J),l=o[o.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,p=Z();if(n){var m;let e="string"===typeof n?f(n):n;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),u=e}else u=p;let g=u.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=x(e,{pathname:v});let y=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:O([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,r);return n&&y?s.createElement(K.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},y):y}function ie(){let e=function(){var e;let t=s.useContext(Q),n=ue(de.UseRouteError),i=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:r},n):null,null)}const re=s.createElement(ie,null);class ae extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(J.Provider,{value:this.props.routeContext},s.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,r=s.useContext(q);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(J.Provider,{value:t},i)}function le(e,t,n,i){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=s),e.route.id){let{loaderData:t,errors:s}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||i){c=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight((e,i,r)=>{let a,d=!1,u=null,p=null;var m;n&&(a=l&&i.route.id?l[i.route.id]:void 0,u=i.route.errorElement||re,c&&(h<0&&0===r?(m="route-fallback",!1||me[m]||(me[m]=!0),d=!0,p=null):h===r&&(d=!0,p=i.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),g=()=>{let t;return t=a?u:d?p:i.route.Component?s.createElement(i.route.Component,null):i.route.element?i.route.element:e,s.createElement(oe,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?s.createElement(ae,{location:n.location,revalidation:n.revalidation,component:u,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=s.useContext(q);return t||d(!1),t}function ue(e){let t=s.useContext(X);return t||d(!1),t}function pe(e){let t=function(){let e=s.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:n,state:i,relative:r}=e;$()||d(!1);let{future:a,static:o}=s.useContext(Y),{matches:l}=s.useContext(J),{pathname:c}=Z(),h=te(),u=F(t,I(l,a.v7_relativeSplatPath),c,"path"===r),p=JSON.stringify(u);return s.useEffect(()=>h(JSON.parse(p),{replace:n,state:i,relative:r}),[h,p,r,n,i]),null}function ve(e){d(!1)}function xe(e){let{basename:n="/",children:i=null,location:r,navigationType:a=t.Pop,navigator:o,static:l=!1,future:c}=e;$()&&d(!1);let h=n.replace(/^\/*/,"/"),u=s.useMemo(()=>({basename:h,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);"string"===typeof r&&(r=f(r));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:x="default"}=r,b=s.useMemo(()=>{let e=R(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:x},navigationType:a}},[h,p,m,g,v,x,a]);return null==b?null:s.createElement(Y.Provider,{value:u},s.createElement(K.Provider,{children:i,value:b}))}function be(e){let{children:t,location:n}=e;return se(ye(t),n)}new Promise(()=>{});s.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,i)=>{if(!s.isValidElement(e))return;let r=[...t,i];if(e.type===s.Fragment)return void n.push.apply(n,ye(e.props.children,r));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,r)),n.push(a)}),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},we.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Vy){}new Map;const _e=i.startTransition;o.flushSync,i.useId;function Ae(e){let{basename:t,children:n,future:i,window:r}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:n,search:s,hash:i}=e.location;return p("",{pathname:n,search:s,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,d]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},u=s.useCallback(e=>{h&&_e?_e(()=>d(e)):d(e)},[d,h]);return s.useLayoutEffect(()=>l.listen(u),[l,u]),s.useEffect(()=>fe(i),[i]),s.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=s.forwardRef(function(e,t){let n,{onClick:i,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:h,preventScrollReset:u,viewTransition:p}=e,f=ke(e,je),{basename:g}=s.useContext(Y),v=!1;if("string"===typeof h&&Se.test(h)&&(n=h,Ne))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=R(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(Vy){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;$()||d(!1);let{basename:i,navigator:r}=s.useContext(Y),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:O([i,o])),r.createHref({pathname:c,search:l,hash:a})}(h,{relative:r}),b=function(e,t){let{target:n,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),h=ne(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:m(d)===m(h);c(e,{replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,h,i,r,n,e,a,o,l])}(h,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:p});return s.createElement("a",we({},f,{href:n||x,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ee,Me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));const Pe={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:4000",Te={login:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=await n.json();return s.success&&s.user?{success:!0,user:s.user}:{success:!1,error:s.error||"Invalid credentials"}}catch(n){return console.error("login error",n),{success:!1,error:"Login failed. Please try again."}}},register:async e=>{try{const t=await fetch("".concat(Pe,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return n.success&&n.user?{success:!0,user:n.user}:{success:!1,error:n.error||"Registration failed. Please try again."}}catch(t){return console.error("register error",t),{success:!1,error:"Registration failed. Please try again."}}},getPublishedPapers:async()=>{try{const e=await fetch("".concat(Pe,"/api/papers/published")),t=await e.json();return t.success&&Array.isArray(t.papers)?t.papers:[]}catch(e){return console.error("getPublishedPapers error",e),[]}},getIssueAssignments:async()=>{try{const e=await fetch("".concat(Pe,"/api/issues/assignments")),t=await e.json();return t.success&&Array.isArray(t.assignments)?t.assignments:[]}catch(e){return console.error("getIssueAssignments error",e),[]}},getAllPapers:async()=>{try{const e=await fetch("".concat(Pe,"/api/papers")),t=await e.json();return t.success&&Array.isArray(t.papers)?t.papers:[]}catch(e){return console.error("getAllPapers error",e),[]}},getPaperById:async e=>{try{const t=await fetch("".concat(Pe,"/api/papers/").concat(e)),n=await t.json();return n.success&&n.paper||null}catch(t){return console.error("getPaperById error",t),null}},submitPaper:async e=>{try{const t=await fetch("".concat(Pe,"/api/papers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return n.success&&n.paper?{success:!0,paper:n.paper}:{success:!1,error:n.error||"Failed to submit paper."}}catch(t){return console.error("submitPaper error",t),{success:!1,error:"Failed to submit paper."}}},uploadRevision:async(e,t,n)=>{try{const s=new FormData;s.append("manuscript",n),t&&s.append("userId",String(t));const i=await fetch("".concat(Pe,"/api/submissions/").concat(e,"/revision"),{method:"POST",body:s}),r=await i.json();return i.ok&&r.success?{success:!0,manuscriptUrl:r.manuscriptUrl}:{success:!1,error:r.error||"Failed to upload revised manuscript."}}catch(s){return console.error("uploadRevision error",s),{success:!1,error:"Failed to upload revised manuscript."}}},getReviewsByReviewer:async e=>{try{const t=await fetch("".concat(Pe,"/api/reviews/reviewer/").concat(e)),n=await t.json();return n.success&&Array.isArray(n.reviews)?n.reviews:[]}catch(t){return console.error("getReviewsByReviewer error",t),[]}},getReviewsByPaper:async e=>{try{const t=await fetch("".concat(Pe,"/api/reviews/paper/").concat(e)),n=await t.json();return n.success&&Array.isArray(n.reviews)?n.reviews:[]}catch(t){return console.error("getReviewsByPaper error",t),[]}},submitReview:async e=>{try{const t=await fetch("".concat(Pe,"/api/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return t.ok&&n.success?{success:!0,review:n.review}:{success:!1,error:n.error||"Failed to submit review."}}catch(t){return console.error("submitReview error",t),{success:!1,error:"Failed to submit review."}}},getIssues:async()=>{try{const e=await fetch("".concat(Pe,"/api/issues")),t=await e.json();return t.success&&Array.isArray(t.issues)?t.issues:[]}catch(e){return console.error("getIssues error",e),[]}},getIssuePapers:async e=>{try{const t=await fetch("".concat(Pe,"/api/issues/").concat(e,"/papers")),n=await t.json();return n.success&&Array.isArray(n.papers)?n.papers:[]}catch(t){return console.error("getIssuePapers error",t),[]}},createIssue:async e=>{try{const t=await fetch("".concat(Pe,"/api/issues"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return n.success&&n.issue?{success:!0,issue:n.issue}:{success:!1,error:n.error||"Failed to create issue."}}catch(t){return console.error("createIssue error",t),{success:!1,error:"Failed to create issue."}}},setCurrentIssue:async e=>{try{const t=await fetch("".concat(Pe,"/api/issues/").concat(e,"/set-current"),{method:"POST"}),n=await t.json();return n.success&&n.issue?{success:!0,issue:n.issue}:{success:!1,error:n.error||"Failed to update current issue."}}catch(t){return console.error("setCurrentIssue error",t),{success:!1,error:"Failed to update current issue."}}},deleteIssue:async e=>{try{const t=await fetch("".concat(Pe,"/api/issues/").concat(e),{method:"DELETE"}),n=await t.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to delete issue."}}catch(t){return console.error("deleteIssue error",t),{success:!1,error:"Failed to delete issue."}}},assignPaperToIssue:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/issues/").concat(t,"/assign-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e})}),s=await n.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to assign paper to issue."}}catch(n){return console.error("assignPaperToIssue error",n),{success:!1,error:"Failed to assign paper to issue."}}},unassignPaperFromIssue:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/issues/").concat(t,"/assign-paper/").concat(e),{method:"DELETE"}),s=await n.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to unassign paper from issue."}}catch(n){return console.error("unassignPaperFromIssue error",n),{success:!1,error:"Failed to unassign paper from issue."}}},getNotifications:async e=>{try{const t=await fetch("".concat(Pe,"/api/notifications?userId=").concat(e)),n=await t.json();return n.success&&Array.isArray(n.notifications)?n.notifications:[]}catch(t){return console.error("getNotifications error",t),[]}},markNotificationRead:async e=>{try{const t=await fetch("".concat(Pe,"/api/notifications/").concat(e,"/read"),{method:"POST"});return(await t.json()).success?{success:!0}:{success:!1}}catch(t){return console.error("markNotificationRead error",t),{success:!1}}},deleteNotification:async e=>{try{const t=await fetch("".concat(Pe,"/api/notifications/").concat(e),{method:"DELETE"});return(await t.json()).success?{success:!0}:{success:!1}}catch(t){return console.error("deleteNotification error",t),{success:!1}}},getReviewers:async()=>{try{const e=await fetch("".concat(Pe,"/api/admin/reviewers")),t=await e.json();return t.success&&Array.isArray(t.reviewers)?t.reviewers:[]}catch(e){return console.error("getReviewers error",e),[]}},assignReviewer:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/admin/assign-reviewer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,reviewerId:t})}),s=await n.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to assign reviewer."}}catch(n){return console.error("assignReviewer error",n),{success:!1,error:"Failed to assign reviewer."}}},publishPaper:async e=>{try{const t=await fetch("".concat(Pe,"/api/admin/publish-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e})}),n=await t.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to publish paper."}}catch(t){return console.error("publishPaper error",t),{success:!1,error:"Failed to publish paper."}}},requestRevisions:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/admin/request-revisions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,note:t})}),s=await n.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to request revisions."}}catch(n){return console.error("requestRevisions error",n),{success:!1,error:"Failed to request revisions."}}},rejectPaper:async(e,t)=>{try{const n=await fetch("".concat(Pe,"/api/admin/reject-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,note:t})}),s=await n.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to reject paper."}}catch(n){return console.error("rejectPaper error",n),{success:!1,error:"Failed to reject paper."}}}};var Re=n(723);const De=(0,s.createContext)(),Le=()=>{const e=(0,s.useContext)(De);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ie=e=>{let{children:t}=e;const[n,i]=(0,s.useState)(null),[r,a]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("user");e&&i(JSON.parse(e)),a(!1)},[]);const o={user:n,login:async(e,t)=>{try{const n=await Te.login(e,t);return n.success?(i(n.user),localStorage.setItem("user",JSON.stringify(n.user)),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:"Login failed. Please try again."}}},register:async e=>{try{const t=await Te.register(e);return t.success?(i(t.user),localStorage.setItem("user",JSON.stringify(t.user)),{success:!0}):{success:!1,error:t.error}}catch(t){return{success:!1,error:"Registration failed. Please try again."}}},logout:()=>{i(null),localStorage.removeItem("user")},loading:r};return(0,Re.jsx)(De.Provider,{value:o,children:t})},Fe=e=>{let{size:t="md",text:n="Loading..."}=e;const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return(0,Re.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"".concat(s[t]," animate-spin"),children:(0,Re.jsx)("div",{className:"w-full h-full border-4 border-academic-200 border-t-primary-600 rounded-full"})}),(0,Re.jsx)("div",{className:"".concat(s[t]," absolute top-0 left-0 animate-spin"),style:{animationDirection:"reverse",animationDuration:"1.5s"},children:(0,Re.jsx)("div",{className:"w-full h-full border-4 border-transparent border-r-primary-400 rounded-full"})})]}),n&&(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("p",{className:"text-sm text-academic-600 animate-pulse",children:n}),(0,Re.jsxs)("div",{className:"flex space-x-1 mt-2 justify-center",children:[(0,Re.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce"}),(0,Re.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Re.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})},Oe=e=>{let{children:t,requiredRole:n=null}=e;const{user:s,loading:i}=Le(),r=Z();if(i)return(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading..."})});if(!s)return(0,Re.jsx)(ge,{to:"/login",state:{from:r},replace:!0});if(n&&s.role!==n){const e="author"===s.role?"/author-dashboard":"reviewer"===s.role?"/reviewer-dashboard":"admin"===s.role?"/admin-dashboard":"/";return(0,Re.jsx)(ge,{to:e,replace:!0})}return t},Be=n.p+"static/media/logo.b9fbfc91b12019587721.png",We=()=>{const{user:e,logout:t}=Le(),n=te(),[i,r]=(0,s.useState)(!1),a=()=>{t(),n("/")};return(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("style",{jsx:!0,children:"\n        .header-links li span {\n          position: relative;\n          z-index: 0;\n        }\n\n        .header-links li span::before {\n          content: '';\n          position: absolute;\n          z-index: -1;\n          bottom: 2px;\n          left: -4px;\n          right: -4px;\n          display: block;\n          height: 6px;\n        }\n\n        .header-links li.active span::before {\n          background-color: #fcae04;\n        }\n\n        .header-links li:not(.active):hover span::before {\n          background-color: #ccc;\n        }\n      "}),(0,Re.jsxs)("header",{className:"bg-white shadow-lg h-24 hidden md:flex",children:[(0,Re.jsx)(Ce,{to:"/",className:"border flex-shrink-0 flex items-center justify-center px-4 lg:px-6 xl:px-8",children:(0,Re.jsx)("img",{src:Be,alt:"Research Platform Logo",className:"w-16 h-16 object-contain"})}),(0,Re.jsx)("nav",{className:"header-links contents font-semibold text-base lg:text-lg",children:(0,Re.jsxs)("ul",{className:"flex items-center ml-4 xl:ml-8 mr-auto",children:[(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"/",children:(0,Re.jsx)("span",{children:"Home"})})}),(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"/indexing",children:(0,Re.jsx)("span",{children:"Indexing"})})}),(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"/journal-issues",children:(0,Re.jsx)("span",{children:"Journal Issues"})})}),(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"/author-guidelines",children:(0,Re.jsx)("span",{children:"Author Guidelines"})})}),(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"/callforpapers",children:(0,Re.jsx)("span",{children:"Call for Papers"})})}),(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsxs)(Ce,{to:"/joinusedito",className:"flex items-center",children:[(0,Re.jsx)("span",{children:"Join Us"}),(0,Re.jsx)("svg",{className:"h-3 opacity-30 ml-2","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"chevron-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17 0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})})]})}),e&&(0,Re.jsx)("li",{className:"p-3 xl:p-6",children:(0,Re.jsx)(Ce,{to:"author"===e.role?"/author-dashboard":"reviewer"===e.role?"/reviewer-dashboard":"/admin-dashboard",children:(0,Re.jsx)("span",{children:"Dashboard"})})})]})}),(0,Re.jsx)("nav",{className:"hidden xl:contents",children:(0,Re.jsxs)("ul",{className:"flex items-center mr-4 lg:mr-6 xl:mr-8",children:[(0,Re.jsx)("li",{className:"p-1",children:(0,Re.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-full border p-2 hover:shadow-lg hover:border-opacity-0 duration-200 hover:-translate-y-0.5",children:(0,Re.jsx)("svg",{className:"h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"twitter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})})}),(0,Re.jsx)("li",{className:"p-1",children:(0,Re.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-full border p-2 hover:shadow-lg hover:border-opacity-0 duration-200 hover:-translate-y-0.5",children:(0,Re.jsx)("svg",{className:"h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"facebook-f",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})})})}),(0,Re.jsx)("li",{className:"p-1",children:(0,Re.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-full border p-2 hover:shadow-lg hover:border-opacity-0 duration-200 hover:-translate-y-0.5",children:(0,Re.jsx)("svg",{className:"h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"linkedin-in",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"})})})}),(0,Re.jsx)("li",{className:"p-1",children:(0,Re.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-full border p-2 hover:shadow-lg hover:border-opacity-0 duration-200 hover:-translate-y-0.5",children:(0,Re.jsx)("svg",{className:"h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"instagram",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})})})]})}),(0,Re.jsxs)("div",{className:"border flex items-center px-4 lg:px-6 xl:px-8",children:[(0,Re.jsx)(Ce,{to:"/contact-us",className:"mr-4 lg:mr-6 xl:mr-8",children:(0,Re.jsx)("svg",{className:"h-6 xl:h-8","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Re.jsx)("path",{fill:"currentColor",d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})})}),e?(0,Re.jsx)("button",{onClick:a,className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded",children:"Logout"}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(Ce,{to:"/login",className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded mr-2",children:"Login"}),(0,Re.jsx)(Ce,{to:"/register",className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded",children:"Sign Up"})]})]})]}),(0,Re.jsxs)("header",{className:"bg-white shadow-sm border-b border-academic-200 md:hidden sticky top-0 z-50",children:[(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Re.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Re.jsxs)(Ce,{to:"/",className:"flex items-center space-x-3",children:[(0,Re.jsx)("img",{src:Be,alt:"Research Platform Logo",className:"w-10 h-10 object-contain"}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"block text-xl font-bold text-academic-900 leading-tight",children:"IJEPA"}),(0,Re.jsx)("span",{className:"block text-xs text-slate-500 font-medium",children:"build by Softech publication"})]})]}),(0,Re.jsx)("button",{onClick:()=>r(!i),className:"p-2 rounded-lg text-academic-600 hover:bg-academic-100 hover:text-academic-900 transition-colors duration-200","aria-label":"Toggle menu",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),i&&(0,Re.jsx)("div",{className:"md:hidden fixed inset-x-0 top-16 bottom-0 bg-white border-t border-academic-200 z-40 overflow-y-auto",children:(0,Re.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-1",children:[(0,Re.jsx)(Ce,{to:"/",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Home"}),(0,Re.jsx)(Ce,{to:"/indexing",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Indexing & Abstracting"}),(0,Re.jsx)(Ce,{to:"/journal-issues",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Journal Issues"}),(0,Re.jsx)(Ce,{to:"/joinusedito",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Join as Editor/Reviewer"}),(0,Re.jsx)(Ce,{to:"/author-guidelines",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Author Guidelines"}),(0,Re.jsx)(Ce,{to:"/callforpapers",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Call for Papers"}),e&&(0,Re.jsx)(Ce,{to:"author"===e.role?"/author-dashboard":"reviewer"===e.role?"/reviewer-dashboard":"/admin-dashboard",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Dashboard"}),e?(0,Re.jsxs)("div",{className:"pt-4 mt-4 border-t border-academic-200",children:[(0,Re.jsxs)("div",{className:"px-4 py-2 text-sm text-academic-600",children:["Signed in as ",(0,Re.jsx)("span",{className:"font-medium",children:e.name})]}),(0,Re.jsx)("button",{onClick:()=>{a(),r(!1)},className:"w-full mt-2 px-4 py-3 text-base font-medium text-academic-700 hover:text-academic-900 bg-academic-100 hover:bg-academic-200 rounded-lg transition-colors duration-200 text-left",children:"Logout"})]}):(0,Re.jsxs)("div",{className:"pt-4 mt-4 border-t border-academic-200 space-y-2",children:[(0,Re.jsx)(Ce,{to:"/login",className:"block w-full px-4 py-3 text-base font-medium text-academic-700 hover:text-academic-900 bg-academic-100 hover:bg-academic-200 rounded-lg transition-colors duration-200 text-center",onClick:()=>r(!1),children:"Login"}),(0,Re.jsx)(Ce,{to:"/register",className:"block w-full px-4 py-3 text-base font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors duration-200 text-center",onClick:()=>r(!1),children:"Register"})]})]})})]})]})},ze=()=>(0,Re.jsx)("footer",{className:"bg-academic-800 text-white",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:Be,alt:"IJEPA Logo",className:"h-10 w-auto"}),(0,Re.jsx)("span",{className:"text-2xl font-bold tracking-tight",children:"IJEPA"})]}),(0,Re.jsx)("p",{className:"text-academic-300 text-base leading-relaxed max-w-md",children:"The International Journal of Engineering Practices and Applications \u2013 advancing research, innovation, and practical applications in engineering."})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold mb-5 pb-2 border-b border-academic-700",children:"Contact"}),(0,Re.jsxs)("ul",{className:"space-y-3",children:[(0,Re.jsx)("li",{children:(0,Re.jsxs)("a",{href:"/contact-us",className:"inline-flex items-center text-academic-300 hover:text-white transition-colors text-base",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Us"]})}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 mt-0.5 mr-2 text-academic-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Re.jsx)("span",{className:"text-academic-300 text-base",children:"+91 98765 43210"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 mt-0.5 mr-2 text-academic-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Re.jsx)("span",{className:"text-academic-300 text-base break-words",children:"editor@ijepa.org"})]})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold mb-5 pb-2 border-b border-academic-700",children:"Address"}),(0,Re.jsx)("p",{className:"text-academic-300 text-base leading-relaxed",children:"123 Engineering Lane, Innovation City, 54321 Country"})]})]}),(0,Re.jsx)("div",{className:"border-t border-academic-700 mt-12 pt-8 text-center text-sm text-academic-400",children:(0,Re.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved & Designed By GIGZS."]})})]})}),Ue=()=>{const[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return e?(0,Re.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"back-to-top-btn","aria-label":"Back to top",children:(0,Re.jsx)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{d:"M7 14l5-5 5 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):null},He=n.p+"static/media/annie-spratt-5cFwQ-WMcJU-unsplash.86674f4906898eaa3102.jpg",Ve=()=>{const[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[r,a]=(0,s.useState)(""),[o,l]=(0,s.useState)("all"),[c,d]=(0,s.useState)([]),[h,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{m()},[e,r,o]),(0,s.useEffect)(()=>{const e=()=>{u(window.scrollY>300)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);const p=async()=>{try{i(!0);const e=await Te.getPublishedPapers();t(e)}catch(e){console.error("Error loading papers:",e)}finally{i(!1)}},m=()=>{let t=e;r&&(t=t.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.authors.some(e=>e.toLowerCase().includes(r.toLowerCase()))||e.keywords.some(e=>e.toLowerCase().includes(r.toLowerCase())))),"all"!==o&&(t=t.filter(e=>e.category===o)),d(t)};new Set(e.map(e=>e.category));return n?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Re.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading published papers..."})]})}):(0,Re.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Re.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(".concat(He,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,Re.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Re.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,Re.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"}),(0,Re.jsx)("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-4000"})]}),(0,Re.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:(0,Re.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,Re.jsx)("div",{className:"inline-block bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-white/20",children:(0,Re.jsx)("span",{className:"text-indigo-300 text-sm font-medium",children:"Trusted by 500+ Researchers Worldwide"})}),(0,Re.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Publish Your Research with",(0,Re.jsx)("span",{className:"block bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"IJEPA"})]}),(0,Re.jsx)("p",{className:"text-xl md:text-2xl text-white mb-10 leading-relaxed max-w-3xl mx-auto",children:"A seamless platform for authors, reviewers, and editors. Transparent workflows. Trusted by researchers worldwide."}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Re.jsxs)("a",{href:"/papers",className:"group bg-white text-slate-900 hover:bg-indigo-50 font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-1",children:["Browse Papers...",(0,Re.jsx)("span",{className:"ml-2 inline-block transition-transform group-hover:translate-x-1",children:"\u2192"})]}),(0,Re.jsx)("a",{href:"/register",className:"group border-2 border-white text-white hover:bg-white hover:text-slate-900 font-semibold py-4 px-8 rounded-xl transition-all duration-300 hover:-translate-y-1",children:"Join Our Platform"})]})]})})]}),(0,Re.jsx)("section",{className:"bg-gradient-to-br from-slate-50 to-white py-24",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"text-center mb-20",children:[(0,Re.jsxs)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:["About ",(0,Re.jsx)("span",{className:"text-indigo-600",children:"IJEPA"})]}),(0,Re.jsx)("div",{className:"w-24 h-1 bg-indigo-600 mx-auto rounded-full"})]}),(0,Re.jsxs)("div",{className:"prose prose-lg max-w-4xl mx-auto text-slate-700 leading-relaxed",children:[(0,Re.jsxs)("p",{className:"mb-6",children:["The ",(0,Re.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," is a peer-reviewed, open-access journal dedicated to advancing research, innovation, and practical applications in the field of engineering. Our mission is to serve as a trusted platform for scholars, researchers, practitioners, and industry professionals to share knowledge, exchange ideas, and contribute to the progress of engineering science and technology."]}),(0,Re.jsx)("p",{className:"mb-6",children:"IJEPA publishes monthly high-quality original research papers, review articles, and case studies that address theoretical foundations, experimental investigations, and real-world applications across diverse engineering disciplines. We welcome interdisciplinary work that bridges the gap between academic research and industry practices, fostering solutions to contemporary challenges."}),(0,Re.jsxs)("div",{className:"mt-12 mb-8",children:[(0,Re.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"\u2713"}),"Our Vision"]}),(0,Re.jsx)("p",{className:"pl-11",children:"To become a globally recognized journal that drives innovation, disseminates impactful research, and promotes collaboration across engineering domains."})]}),(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-purple-100 text-purple-700 rounded-lg flex items-center justify-center mr-3",children:"\u2713"}),"Our Scope"]}),(0,Re.jsx)("p",{className:"pl-11 mb-4",children:"IJEPA covers, but is not limited to, the following areas:"}),(0,Re.jsxs)("ul",{className:"pl-11 grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-indigo-600 mr-2",children:"\u2022"}),(0,Re.jsx)("span",{children:"Civil, Mechanical, Electrical, and Electronics Engineering"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-indigo-600 mr-2",children:"\u2022"}),(0,Re.jsx)("span",{children:"Computer Science, Information Technology, and Artificial Intelligence"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-indigo-600 mr-2",children:"\u2022"}),(0,Re.jsx)("span",{children:"Industrial, Manufacturing, and Materials Engineering"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-indigo-600 mr-2",children:"\u2022"}),(0,Re.jsx)("span",{children:"Communication, Control, and Instrumentation Systems"})]}),(0,Re.jsxs)("li",{className:"flex items-start md:col-span-2",children:[(0,Re.jsx)("span",{className:"text-indigo-600 mr-2",children:"\u2022"}),(0,Re.jsx)("span",{children:"Sustainable, Green, and Emerging Engineering Practices"})]})]})]}),(0,Re.jsxs)("div",{className:"bg-indigo-50 rounded-2xl p-6 border border-indigo-100",children:[(0,Re.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center mr-3",children:"\u2713"}),"Why Publish with Us?"]}),(0,Re.jsxs)("ul",{className:"pl-11 space-y-2",children:[(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Re.jsx)("span",{children:"Rigorous peer-review process ensuring quality and credibility"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Re.jsx)("span",{children:"Open-access policy for maximum visibility and global reach"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Re.jsx)("span",{children:"Fast and efficient review and publication cycle"})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Re.jsx)("span",{children:"Support for young researchers and academics worldwide"})]})]})]}),(0,Re.jsx)("p",{className:"mt-8 text-center text-lg italic text-slate-600",children:'"At IJEPA, we believe that engineering is not just about knowledge creation but also about meaningful application. By connecting research with practice, we aim to contribute to technological growth and societal development."'})]})]})}),(0,Re.jsx)("section",{className:"bg-white border-t border-slate-200",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,Re.jsxs)("div",{className:"text-center mb-20",children:[(0,Re.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Why Researchers Choose Build Softech"}),(0,Re.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"We provide a comprehensive solution for academic research publication and peer review"})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[(0,Re.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-indigo-200 transition-all duration-300",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Rigorous Peer Review"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Your paper is reviewed by qualified experts assigned by our editorial team for quality and integrity."})]}),(0,Re.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-purple-200 transition-all duration-300",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-purple-600",children:(0,Re.jsx)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Fast Turnaround"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Streamlined workflows ensure your paper moves quickly from submission to publication."})]}),(0,Re.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-blue-200 transition-all duration-300",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-blue-600",children:(0,Re.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"currentColor"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Global Visibility"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Get your research seen by academics and institutions worldwide through our indexed platform."})]})]})]})}),(0,Re.jsx)("section",{className:"bg-slate-50 py-24",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"text-center mb-20",children:[(0,Re.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Quick Access"}),(0,Re.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Navigate to key sections of our platform with a single click."})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Re.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-indigo-300 hover:shadow-md",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Indexing & Abstracting"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Discover where our journal is indexed and abstracted."}),(0,Re.jsx)("a",{href:"/indexing",className:"block text-center bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Learn More"})]}),(0,Re.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-indigo-300 hover:shadow-md",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M4 6h16M4 12h16M4 18h7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Journal Issues"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Browse our past and current journal issues."}),(0,Re.jsx)("a",{href:"/journal-issues",className:"block text-center bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"View Issues"})]}),(0,Re.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-indigo-300 hover:shadow-md",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Join Our Team"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Become an editor or reviewer for IJEPA."}),(0,Re.jsx)("a",{href:"/joinusedito",className:"block text-center bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Join Now"})]})]}),(0,Re.jsx)("div",{className:"mt-8 flex justify-center",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Re.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-indigo-300 hover:shadow-md",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Author Guidelines"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Everything you need to know to prepare your manuscript."}),(0,Re.jsx)("a",{href:"/author-guidelines",className:"block text-center bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Read Guidelines"})]}),(0,Re.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-indigo-300 hover:shadow-md",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Re.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-indigo-600",children:(0,Re.jsx)("path",{d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.148-6.443a1.76 1.76 0 013.417-.592zM11 5.882a1.76 1.76 0 012.592.443l2.148 6.443a1.76 1.76 0 01-3.417.592l-2.148-6.443a1.76 1.76 0 01.825-1.036z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Call for Papers"}),(0,Re.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Submit your latest research to our upcoming issues."}),(0,Re.jsx)("a",{href:"/callforpapers",className:"block text-center bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Submit Now"})]})]})})]})]})}),h&&(0,Re.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 bg-slate-900 hover:bg-slate-800 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-xl z-50","aria-label":"Scroll to top",children:(0,Re.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Re.jsx)("path",{d:"M12 19V5M5 12l7-7 7 7",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function qe(e){var t=function(e,t){if("object"!=Ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=Ge(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ge(t)?t:t+""}function Xe(e,t,n){return(t=qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(t){Xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Je(e,t,n){t||(t=[]);var s=t.length++;return Object.defineProperty({},"_",{set:function(i){t[s]=i,e.apply(n,t)}})}function Qe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $e(e,t){Qe(e,t),t.add(e)}function Ze(e,t,n){Qe(e,t),t.set(e,n)}function et(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function tt(e,t,n){return n(et(e,t))}function nt(e,t){return e.get(et(e,t))}function st(e,t,n){return e.set(et(e,t),n),n}function it(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return it=function(e){this.s=e,this.n=e.next},it.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new it(e)}var rt,at,ot,lt,ct,dt,ht,ut,pt,mt,ft,gt,vt,xt,bt,yt,wt,kt;const jt="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),_t=[.001,0,0,.001,0,0],At=1.35,Nt=1,St=2,Ct=4,Et=16,Mt=32,Pt=64,Tt=128,Rt=256,Dt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Lt="pdfjs_internal_editor_",It={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ft={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ot=0,Bt=1,Wt=2,zt=3,Ut=3,Ht=4,Vt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},qt=1,Xt=2,Yt=3,Kt=4,Jt=5,Qt={ERRORS:0,WARNINGS:1,INFOS:5},$t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zt=0,en=1,tn=2,nn=3;let sn=Qt.WARNINGS;function rn(e){Number.isInteger(e)&&(sn=e)}function an(){return sn}function on(e){sn>=Qt.INFOS&&console.info("Info: ".concat(e))}function ln(e){sn>=Qt.WARNINGS&&console.warn("Warning: ".concat(e))}function cn(e){throw new Error(e)}function dn(e,t){e||cn(t)}function hn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(i){}}const s=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(s)?s:null}function un(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=URL.parse(e);return s?(s.hash=t,s.href):n&&hn(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function pn(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!s,configurable:!0,writable:!1}),n}const mn=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class fn extends mn{constructor(e,t){super(e,"PasswordException"),this.code=t}}class gn extends mn{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class vn extends mn{constructor(e){super(e,"InvalidPDFException")}}class xn extends mn{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class bn extends mn{constructor(e){super(e,"FormatError")}}class yn extends mn{constructor(e){super(e,"AbortException")}}function wn(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||cn("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const s=[];for(let i=0;i<t;i+=n){const r=Math.min(i+n,t),a=e.subarray(i,r);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function kn(e){"string"!==typeof e&&cn("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let s=0;s<t;++s)n[s]=255&e.charCodeAt(s);return n}class jn{static get isLittleEndian(){return pn(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return pn(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return pn(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return pn(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return pn(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return pn(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const _n=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class An{static makeHexColor(e,t,n){return"#".concat(_n[e]).concat(_n[t]).concat(_n[n])}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=e[n],i=e[n+1];e[n]=s*t[0]+i*t[2]+t[4],e[n+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[n+c],d=e[n+c+1];e[n+c]=t*s+d*r+o,e[n+c+1]=t*i+d*a+l}}static applyInverseTransform(e,t){const n=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const s=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],c=e[0],d=e[1],h=e[2],u=e[3];let p=s*c+o,m=p,f=s*h+o,g=f,v=a*d+l,x=v,b=a*u+l,y=b;if(0!==i||0!==r){const e=i*c,t=i*h,n=r*d,s=r*u;p+=n,g+=n,f+=s,m+=s,v+=e,y+=e,b+=t,x+=t}n[0]=Math.min(n[0],p,f,m,g),n[1]=Math.min(n[1],v,b,x,y),n[2]=Math.max(n[2],p,f,m,g),n[3]=Math.max(n[3],v,b,x,y)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],s=e[1],i=e[2],r=e[3],a=n**2+s**2,o=n*i+s*r,l=i**2+r**2,c=(a+l)/2,d=Math.sqrt(c**2-(a*l-o**2));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>r?null:[n,i,s,r]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,s,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,s)}static bezierBoundingBox(e,t,n,s,i,r,a,o,l){l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o),et(An,this,Sn).call(this,e,n,i,a,t,s,r,o,3*(3*(n-i)-e+a),6*(e-2*n+i),3*(n-e),l),et(An,this,Sn).call(this,e,n,i,a,t,s,r,o,3*(3*(s-r)-t+o),6*(t-2*s+r),3*(s-t),l)}}function Nn(e,t,n,s,i,r,a,o,l,c){if(l<=0||l>=1)return;const d=1-l,h=l*l,u=h*l,p=d*(d*(d*e+3*l*t)+3*h*n)+u*s,m=d*(d*(d*i+3*l*r)+3*h*a)+u*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}function Sn(e,t,n,s,i,r,a,o,l,c,d,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&et(rt,this,Nn).call(this,e,t,n,s,i,r,a,o,-d/c,h));const u=c**2-4*d*l;if(u<0)return;const p=Math.sqrt(u),m=2*l;et(rt,this,Nn).call(this,e,t,n,s,i,r,a,o,(-c+p)/m,h),et(rt,this,Nn).call(this,e,t,n,s,i,r,a,o,(-c-p)/m,h)}rt=An;let Cn=null,En=null;function Mn(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),wn(e)}const Pn="pdfjs_internal_id_";function Tn(e,t,n){return Math.min(Math.max(e,t),n)}function Rn(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(wn(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return new Promise(t=>{t(e(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});class Dn{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var s;if(!n)return;let i=null;const r=n.name;if("#text"===r)i=n.value;else{if(!Dn.shouldBuildText(r))return;null!==n&&void 0!==n&&null!==(s=n.attributes)&&void 0!==s&&s.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}class Ln{static setupStorage(e,t,n,s,i){const r=s.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===i)break;e.addEventListener("input",e=>{s.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?e.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{s.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===i)break;e.addEventListener("input",e=>{s.setValue(t,{value:e.target.value})})}break;case"select":if(null!==r.value){e.setAttribute("value",r.value);for(const e of n.children)e.attributes.value===r.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;s.setValue(t,{value:i})})}}static setAttributes(e){let{html:t,element:n,storage:s=null,intent:i,linkService:r}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(i));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(t,a.dataId,n,s)}static render(e){const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,i=e.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:i,linkService:n});const a="richText"!==i,o=e.div;if(o.append(r),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===s.children.length){if(s.value){const e=document.createTextNode(s.value);r.append(e),a&&Dn.shouldBuildText(s.name)&&l.push(e)}return{textDivs:l}}const c=[[s,-1,r]];for(;c.length>0;){var d,h;const[e,s,r]=c.at(-1);if(s+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),r.append(e);continue}const p=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(r.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:i,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);a&&Dn.shouldBuildText(u)&&l.push(e),p.append(e)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const In="http://www.w3.org/2000/svg";class Fn{}async function On(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Vn(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,s)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)s(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)})}at=Fn,Xe(Fn,"CSS",96),Xe(Fn,"PDF",72),Xe(Fn,"PDF_TO_CSS_UNITS",at.CSS/at.PDF);class Bn{constructor(e){let{viewBox:t,userUnit:n,scale:s,rotation:i,offsetX:r=0,offsetY:a=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=n,this.scale=s,this.rotation=i,this.offsetX=r,this.offsetY=a,s*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let d,h,u,p,m,f,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,u=0,p=1;break;case 90:d=0,h=1,u=1,p=0;break;case 270:d=0,h=-1,u=-1,p=0;break;case 0:d=1,h=0,u=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,p=-p),0===d?(m=Math.abs(c-t[1])*s+r,f=Math.abs(l-t[0])*s+a,g=(t[3]-t[1])*s,v=(t[2]-t[0])*s):(m=Math.abs(l-t[0])*s+r,f=Math.abs(c-t[1])*s+a,g=(t[2]-t[0])*s,v=(t[3]-t[1])*s),this.transform=[d*s,h*s,u*s,p*s,m-d*s*l-u*s*c,f-h*s*l-p*s*c],this.width=g,this.height=v}get rawDims(){const e=this.viewBox;return pn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bn({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return An.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];An.applyTransform(t,this.transform);const n=[e[2],e[3]];return An.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return An.applyInverseTransform(n,this.transform),n}}class Wn extends mn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function zn(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Un(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class Hn{constructor(){Xe(this,"started",Object.create(null)),Xe(this,"times",[])}time(e){e in this.started&&ln("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||ln("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-s,"ms\n"));return e.join("")}}function Vn(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function Gn(e){e.preventDefault()}function qn(e){e.preventDefault(),e.stopPropagation()}class Xn{static toDateObject(e){if(e instanceof Date)return e;if(!e||"string"!==typeof e)return null;et(Xn,this,Yn)._||(Yn._=et(Xn,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=et(Xn,this,Yn)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(n,s,i,r,a,o))}}var Yn={_:void 0};function Kn(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ln('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Jn(e){const{a:t,b:n,c:s,d:i,e:r,f:a}=e.getTransform();return[t,n,s,i,r,a]}function Qn(e){const{a:t,b:n,c:s,d:i,e:r,f:a}=e.getTransform().invertSelf();return[t,n,s,i,r,a]}function $n(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Bn){const{pageWidth:s,pageHeight:i}=t.rawDims,{style:r}=e,a=jn.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(s,"px"),l="var(--total-scale-factor) * ".concat(i,"px"),c=a?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),d=a?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(r.width=d,r.height=c):(r.width=c,r.height=d)}s&&e.setAttribute("data-main-rotation",t.rotation)}class Zn{constructor(){const{pixelRatio:e}=Zn;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=1/0,a=1/0,o=1/0;(n=Zn.capPixels(n,i))>0&&(r=Math.sqrt(n/(e*t))),-1!==s&&(a=s/e,o=s/t);const l=Math.min(r,a,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const es=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ts{static get isDarkMode(){var e,t;return pn(this,"isDarkMode",!(null===(e=window)||void 0===e||null===(t=e.matchMedia)||void 0===t||!t.call(e,"(prefers-color-scheme: dark)").matches))}}function ns(e,t){const n=e[0]/255,s=e[1]/255,i=e[2]/255,r=Math.max(n,s,i),a=Math.min(n,s,i),o=(r+a)/2;if(r===a)t[0]=t[1]=0;else{const e=r-a;switch(t[1]=o<.5?e/(r+a):e/(2-r-a),r){case n:t[0]=60*((s-i)/e+(s<i?6:0));break;case s:t[0]=60*((i-n)/e+2);break;case i:t[0]=60*((n-s)/e+4)}}t[2]=o}function ss(e,t){const n=e[0],s=e[1],i=e[2],r=(1-Math.abs(2*i-1))*s,a=r*(1-Math.abs(n/60%2-1)),o=i-r/2;switch(Math.floor(n/60)){case 0:t[0]=r+o,t[1]=a+o,t[2]=o;break;case 1:t[0]=a+o,t[1]=r+o,t[2]=o;break;case 2:t[0]=o,t[1]=r+o,t[2]=a+o;break;case 3:t[0]=o,t[1]=a+o,t[2]=r+o;break;case 4:t[0]=a+o,t[1]=o,t[2]=r+o;break;case 5:case 6:t[0]=r+o,t[1]=o,t[2]=a+o}}function is(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function rs(e,t,n){ss(e,n),n.map(is);const s=.2126*n[0]+.7152*n[1]+.0722*n[2];ss(t,n),n.map(is);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return s>i?(s+.05)/(i+.05):(i+.05)/(s+.05)}const as=new Map;function os(e,t){let{html:n,dir:s,className:i}=e;const r=document.createDocumentFragment();if("string"===typeof n){const e=document.createElement("p");e.dir=s||"auto";const t=n.split(/(?:\r\n?|\n)/);for(let n=0,s=t.length;n<s;++n){const i=t[n];e.append(document.createTextNode(i)),n<s-1&&e.append(document.createElement("br"))}r.append(e)}else Ln.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",i),t.append(r)}var ls=new WeakMap,cs=new WeakMap,ds=new WeakMap,hs=new WeakMap,us=new WeakMap,ps=new WeakMap,ms=new WeakMap,fs=new WeakMap,gs=new WeakSet;class vs{constructor(e){$e(this,gs),Ze(this,ls,null),Ze(this,cs,null),Ze(this,ds,void 0),Ze(this,hs,null),Ze(this,us,null),Ze(this,ps,null),Ze(this,ms,null),Ze(this,fs,null),st(ds,this,e),js._||(js._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=st(ls,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=nt(ds,this)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gn,{signal:t}),e.addEventListener("pointerdown",xs,{signal:t}));const n=st(hs,this,document.createElement("div"));n.className="buttons",e.append(n);const s=nt(ds,this).toolbarPosition;if(s){const{style:t}=e,n="ltr"===nt(ds,this)._uiManager.direction?1-s[0]:s[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*s[1],"% + var(--editor-toolbar-vert-offset))")}return e}get div(){return nt(ls,this)}hide(){var e;nt(ls,this).classList.add("hidden"),null===(e=nt(cs,this))||void 0===e||e.hideDropdown()}show(){var e,t;nt(ls,this).classList.remove("hidden"),null===(e=nt(us,this))||void 0===e||e.shown(),null===(t=nt(ps,this))||void 0===t||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=nt(ds,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",js._[e]),et(gs,this,ws).call(this,n)&&n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),nt(hs,this).append(n)}async addAltText(e){const t=await e.render();et(gs,this,ws).call(this,t),nt(hs,this).append(t,tt(gs,this,ks)),st(us,this,e)}addComment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(nt(ps,this))return;const n=e.renderForToolbar();if(!n)return;et(gs,this,ws).call(this,n);const s=st(ms,this,tt(gs,this,ks));t?(nt(hs,this).insertBefore(n,t),nt(hs,this).insertBefore(s,t)):nt(hs,this).append(n,s),st(ps,this,e),e.toolbar=this}addColorPicker(e){if(nt(cs,this))return;st(cs,this,e);const t=e.renderButton();et(gs,this,ws).call(this,t),nt(hs,this).append(t,tt(gs,this,ks))}async addEditSignatureButton(e){const t=st(fs,this,await e.renderEditButton(nt(ds,this)));et(gs,this,ws).call(this,t),nt(hs,this).append(t,tt(gs,this,ks))}removeButton(e){var t,n;if("comment"===e)null===(t=nt(ps,this))||void 0===t||t.removeToolbarCommentButton(),st(ps,this,null),null===(n=nt(ms,this))||void 0===n||n.remove(),st(ms,this,null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t)}}async addButtonBefore(e,t,n){const s=nt(hs,this).querySelector(n);s&&"comment"===e&&this.addComment(t,s)}updateEditSignatureButton(e){nt(fs,this)&&(nt(fs,this).title=e)}remove(){var e;nt(ls,this).remove(),null===(e=nt(cs,this))||void 0===e||e.destroy(),st(cs,this,null)}}function xs(e){e.stopPropagation()}function bs(e){nt(ds,this)._focusEventsAllowed=!1,qn(e)}function ys(e){nt(ds,this)._focusEventsAllowed=!0,qn(e)}function ws(e){const t=nt(ds,this)._uiManager._signal;return t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("focusin",et(gs,this,bs).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",et(gs,this,ys).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gn,{signal:t}),!0)}function ks(e){const t=document.createElement("div");return t.className="divider",t}var js={_:null},_s=new WeakMap,As=new WeakMap,Ns=new WeakMap,Ss=new WeakSet;class Cs{constructor(e){$e(this,Ss),Ze(this,_s,null),Ze(this,As,null),Ze(this,Ns,void 0),st(Ns,this,e)}show(e,t,n){const[s,i]=et(Ss,this,Ms).call(this,t,n),{style:r}=nt(As,this)||st(As,this,et(Ss,this,Es).call(this));e.append(nt(As,this)),r.insetInlineEnd="".concat(100*s,"%"),r.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){nt(As,this).remove()}}function Es(){const e=st(As,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=nt(Ns,this)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gn,{signal:t});const n=st(_s,this,document.createElement("div"));return n.className="buttons",e.append(n),nt(Ns,this).hasCommentManager()&&et(Ss,this,Ps).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{nt(Ns,this).commentSelection("floating_button")}),et(Ss,this,Ps).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{nt(Ns,this).highlightSelection("floating_button")}),e}function Ms(e,t){let n=0,s=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const r=i.x+(t?i.width:0);e>n?(s=r,n=e):t?r>s&&(s=r):r<s&&(s=r)}return[t?1-s:s,n]}function Ps(e,t,n,s){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const r=document.createElement("span");i.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const a=nt(Ns,this)._signal;a instanceof AbortSignal&&!a.aborted&&(i.addEventListener("contextmenu",Gn,{signal:a}),i.addEventListener("click",s,{signal:a})),nt(_s,this).append(i)}function Ts(e,t,n){for(const s of n)t.addEventListener(s,e[s].bind(e))}var Rs=new WeakMap;class Ds{constructor(){Ze(this,Rs,0)}get id(){var e,t;return"".concat(Lt).concat((st(Rs,this,(e=nt(Rs,this),t=e++,e)),t))}}var Ls=new WeakMap,Is=new WeakMap,Fs=new WeakMap,Os=new WeakSet;class Bs{constructor(){$e(this,Os),Ze(this,Ls,Mn()),Ze(this,Is,0),Ze(this,Fs,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return pn(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:s,type:i}=e;return et(Os,this,Ws).call(this,"".concat(t,"_").concat(n,"_").concat(s,"_").concat(i),e)}async getFromUrl(e){return et(Os,this,Ws).call(this,e,e)}async getFromBlob(e,t){const n=await t;return et(Os,this,Ws).call(this,e,n)}async getFromId(e){nt(Fs,this)||st(Fs,this,new Map);const t=nt(Fs,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,s,i;nt(Fs,this)||st(Fs,this,new Map);let r=nt(Fs,this).get(e);if(null!==(i=r)&&void 0!==i&&i.bitmap)return r.refCounter+=1,r;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),r={bitmap:a.transferToImageBitmap(),id:"image_".concat(nt(Ls,this),"_").concat((st(Is,this,(n=nt(Is,this),s=n++,n)),s)),refCounter:1,isSvg:!1},nt(Fs,this).set(e,r),nt(Fs,this).set(r.id,r),r}getSvgUrl(e){const t=nt(Fs,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;nt(Fs,this)||st(Fs,this,new Map);const n=nt(Fs,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:s}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(s.width,s.height);e.getContext("bitmaprenderer").transferFromImageBitmap(s),n.blobPromise=e.convertToBlob()}null===(t=s.close)||void 0===t||t.call(s),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(nt(Ls,this),"_"))}}async function Ws(e,t){var n;nt(Fs,this)||st(Fs,this,new Map);let s=nt(Fs,this).get(e);if(null===s)return null;if(null!==(n=s)&&void 0!==n&&n.bitmap)return s.refCounter+=1,s;try{var i,r;let e;if(s||(s={bitmap:null,id:"image_".concat(nt(Ls,this),"_").concat((st(Is,this,(i=nt(Is,this),r=i++,i)),r)),refCounter:0,isSvg:!1}),"string"===typeof t?(s.url=t,e=await On(t,"blob")):t instanceof File?e=s.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=ot._isSVGFittingCanvas,n=new FileReader,i=new Image,r=new Promise((e,r)=>{i.onload=()=>{s.bitmap=i,s.isSvg=!0,e()},n.onload=async()=>{const e=s.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=r});n.readAsDataURL(e),await r}else s.bitmap=await createImageBitmap(e);s.refCounter=1}catch(Vy){ln(Vy),s=null}return nt(Fs,this).set(e,s),s&&nt(Fs,this).set(s.id,s),s}ot=Bs;var zs=new WeakMap,Us=new WeakMap,Hs=new WeakMap,Vs=new WeakMap;class Gs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Ze(this,zs,[]),Ze(this,Us,!1),Ze(this,Hs,void 0),Ze(this,Vs,-1),st(Hs,this,e)}add(e){let{cmd:t,undo:n,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(i&&t(),nt(Us,this))return;const l={cmd:t,undo:n,post:s,type:r};if(-1===nt(Vs,this))return nt(zs,this).length>0&&(nt(zs,this).length=0),st(Vs,this,0),void nt(zs,this).push(l);if(a&&nt(zs,this)[nt(Vs,this)].type===r)return o&&(l.undo=nt(zs,this)[nt(Vs,this)].undo),void(nt(zs,this)[nt(Vs,this)]=l);const c=nt(Vs,this)+1;c===nt(Hs,this)?nt(zs,this).splice(0,1):(st(Vs,this,c),c<nt(zs,this).length&&nt(zs,this).splice(c)),nt(zs,this).push(l)}undo(){if(-1===nt(Vs,this))return;st(Us,this,!0);const{undo:e,post:t}=nt(zs,this)[nt(Vs,this)];e(),null===t||void 0===t||t(),st(Us,this,!1),st(Vs,this,nt(Vs,this)-1)}redo(){if(nt(Vs,this)<nt(zs,this).length-1){st(Vs,this,nt(Vs,this)+1),st(Us,this,!0);const{cmd:e,post:t}=nt(zs,this)[nt(Vs,this)];e(),null===t||void 0===t||t(),st(Us,this,!1)}}hasSomethingToUndo(){return-1!==nt(Vs,this)}hasSomethingToRedo(){return nt(Vs,this)<nt(zs,this).length-1}cleanType(e){if(-1!==nt(Vs,this)){for(let t=nt(Vs,this);t>=0;t--)if(nt(zs,this)[t].type!==e)return nt(zs,this).splice(t+1,nt(Vs,this)-t),void st(Vs,this,t);nt(zs,this).length=0,st(Vs,this,-1)}}destroy(){st(zs,this,null)}}var qs=new WeakSet;class Xs{constructor(e){$e(this,qs),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=jn.platform;for(const[n,s,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:s,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:s,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(et(qs,this,Ys).call(this,t));if(!n)return;const{callback:s,options:{bubbles:i=!1,args:r=[],checker:a=null}}=n;a&&!a(e,t)||(s.bind(e,...r,t)(),i||qn(t))}}function Ys(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class Ks{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const s=window.getComputedStyle(t).color;e.set(n,Kn(s))}t.remove()}(e),pn(this,"_colors",e)}convert(e){const t=Kn(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((e,n)=>e===t[n]))return Ks._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?An.makeHexColor(...t):e}}Xe(Ks,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Js=new WeakMap,Qs=new WeakMap,$s=new WeakMap,Zs=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,si=new WeakMap,ii=new WeakMap,ri=new WeakMap,ai=new WeakMap,oi=new WeakMap,li=new WeakMap,ci=new WeakMap,di=new WeakMap,hi=new WeakMap,ui=new WeakMap,pi=new WeakMap,mi=new WeakMap,fi=new WeakMap,gi=new WeakMap,vi=new WeakMap,xi=new WeakMap,bi=new WeakMap,yi=new WeakMap,wi=new WeakMap,ki=new WeakMap,ji=new WeakMap,_i=new WeakMap,Ai=new WeakMap,Ni=new WeakMap,Si=new WeakMap,Ci=new WeakMap,Ei=new WeakMap,Mi=new WeakMap,Pi=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,Di=new WeakMap,Li=new WeakMap,Ii=new WeakMap,Fi=new WeakMap,Oi=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,zi=new WeakMap,Ui=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,Gi=new WeakSet;class qi{static get _keyboardManager(){const e=qi.prototype,t=e=>nt(zi,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return pn(this,"_keyboardManager",new Xs([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&nt(zi,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&nt(zi,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,s,i,r,a,o,l,c,d,h,u,p,m,f){$e(this,Gi),Ze(this,Js,new AbortController),Ze(this,Qs,null),Ze(this,$s,null),Ze(this,Zs,new Map),Ze(this,ei,new Map),Ze(this,ti,null),Ze(this,ni,null),Ze(this,si,null),Ze(this,ii,new Gs),Ze(this,ri,null),Ze(this,ai,null),Ze(this,oi,null),Ze(this,li,0),Ze(this,ci,new Set),Ze(this,di,null),Ze(this,hi,null),Ze(this,ui,new Set),Xe(this,"_editorUndoBar",null),Ze(this,pi,!1),Ze(this,mi,!1),Ze(this,fi,!1),Ze(this,gi,null),Ze(this,vi,null),Ze(this,xi,null),Ze(this,bi,null),Ze(this,yi,!1),Ze(this,wi,null),Ze(this,ki,new Ds),Ze(this,ji,!1),Ze(this,_i,!1),Ze(this,Ai,!1),Ze(this,Ni,null),Ze(this,Si,null),Ze(this,Ci,null),Ze(this,Ei,null),Ze(this,Mi,null),Ze(this,Pi,It.NONE),Ze(this,Ti,new Set),Ze(this,Ri,null),Ze(this,Di,null),Ze(this,Li,null),Ze(this,Ii,null),Ze(this,Fi,null),Ze(this,Oi,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Ze(this,Bi,[0,0]),Ze(this,Wi,null),Ze(this,zi,null),Ze(this,Ui,null),Ze(this,Hi,null),Ze(this,Vi,null);const g=this._signal=nt(Js,this).signal;st(zi,this,e),st(Ui,this,t),st(Hi,this,n),st(ti,this,s),st(ri,this,i),st(Di,this,r),st(Fi,this,o),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:g}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),a._on("setpreference",this.onSetPreference.bind(this),{signal:g}),a._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:g}),window.addEventListener("pointerdown",()=>{st(_i,this,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{st(_i,this,!1)},{capture:!0,signal:g}),et(Gi,this,$i).call(this),et(Gi,this,rr).call(this),et(Gi,this,tr).call(this),st(ni,this,o.annotationStorage),st(gi,this,o.filterFactory),st(Li,this,l),st(bi,this,c||null),st(pi,this,d),st(mi,this,h),st(fi,this,u),st(Mi,this,p||null),this.viewParameters={realScale:Fn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=!1!==f,null===i||void 0===i||i.setSidebarUiManager(this)}destroy(){var e,t,n,s,i,r,a,o,l;null===(e=nt(Vi,this))||void 0===e||e.resolve(),st(Vi,this,null),null===(t=nt(Js,this))||void 0===t||t.abort(),st(Js,this,null),this._signal=null;for(const c of nt(ei,this).values())c.destroy();nt(ei,this).clear(),nt(Zs,this).clear(),nt(ui,this).clear(),null===(n=nt(Ei,this))||void 0===n||n.clear(),st(Qs,this,null),nt(Ti,this).clear(),nt(ii,this).destroy(),null===(s=nt(ti,this))||void 0===s||s.destroy(),null===(i=nt(ri,this))||void 0===i||i.destroy(),null===(r=nt(Di,this))||void 0===r||r.destroy(),null===(a=nt(wi,this))||void 0===a||a.hide(),st(wi,this,null),null===(o=nt(Ci,this))||void 0===o||o.destroy(),st(Ci,this,null),st($s,this,null),nt(vi,this)&&(clearTimeout(nt(vi,this)),st(vi,this,null)),nt(Wi,this)&&(clearTimeout(nt(Wi,this)),st(Wi,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),st(Fi,this,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return nt(Mi,this)}get useNewAltTextFlow(){return nt(mi,this)}get useNewAltTextWhenAddingImage(){return nt(fi,this)}get hcmFilter(){return pn(this,"hcmFilter",nt(Li,this)?nt(gi,this).addHCMFilter(nt(Li,this).foreground,nt(Li,this).background):"none")}get direction(){return pn(this,"direction",getComputedStyle(nt(zi,this)).direction)}get _highlightColors(){return pn(this,"_highlightColors",nt(bi,this)?new Map(nt(bi,this).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return pn(this,"highlightColors",null);const t=new Map,n=!!nt(Li,this);for(const[s,i]of e){const e=s.endsWith("_HCM");n&&e?t.set(s.replace("_HCM",""),i):n||e||t.set(s,i)}return pn(this,"highlightColors",t)}get highlightColorNames(){return pn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),st(oi,this,e)}setMainHighlightColorPicker(e){st(Ci,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=nt(ti,this))||void 0===t||t.editAltText(this,e,n)}hasCommentManager(){return!!nt(ri,this)}editComment(e,t,n,s){var i;null===(i=nt(ri,this))||void 0===i||i.showDialog(this,e,t,n,s)}selectComment(e,t){const n=nt(ei,this).get(e),s=null===n||void 0===n?void 0:n.getEditorByUID(t);null===s||void 0===s||s.toggleComment(!0,!0)}updateComment(e){var t;null===(t=nt(ri,this))||void 0===t||t.updateComment(e.getData())}updatePopupColor(e){var t;null===(t=nt(ri,this))||void 0===t||t.updatePopupColor(e)}removeComment(e){var t;null===(t=nt(ri,this))||void 0===t||t.removeComments([e.uid])}toggleComment(e,t){var n;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(n=nt(ri,this))||void 0===n||n.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){var n;return e&&(null===(n=nt(ri,this))||void 0===n?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return(null===(e=nt(ri,this))||void 0===e?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(nt(ei,this).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),s=n=>{n.pageNumber===e&&(this._eventBus._off("editorsrendered",s),t())};this._eventBus.on("editorsrendered",s),await n}getSignature(e){var t;null===(t=nt(Di,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return nt(Di,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)st(fi,this,n)}onPageChanging(e){let{pageNumber:t}=e;st(li,this,t-1)}focusMainContainer(){nt(zi,this).focus()}findParent(e,t){for(const n of nt(ei,this).values()){const{x:s,y:i,width:r,height:a}=n.div.getBoundingClientRect();if(e>=s&&e<=s+r&&t>=i&&t<=i+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];nt(Ui,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){nt(ui,this).add(e)}removeShouldRescale(e){nt(ui,this).delete(e)}onScaleChanging(e){var t;let{scale:n}=e;this.commitOrRemove(),this.viewParameters.realScale=n*Fn.PDF_TO_CSS_UNITS;for(const s of nt(ui,this))s.onScaleChanging();null===(t=nt(oi,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a}=n,o=n.toString(),l=et(Gi,this,Xi).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const d=et(Gi,this,Yi).call(this,l),h=nt(Pi,this)===It.NONE,u=()=>{const n=null===d||void 0===d?void 0:d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a,text:o});h&&this.showAllEditors("highlight",!0,!0),t&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(It.HIGHLIGHT,u):u()}commentSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!nt(ni,this))return null;const t="".concat(Lt).concat(e),n=nt(ni,this).getRawValue(t);return n&&nt(ni,this).remove(t),n}addToAnnotationStorage(e){e.isEmpty()||!nt(ni,this)||nt(ni,this).has(e.id)||nt(ni,this).setValue(e.id,e)}a11yAlert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=nt(Hi,this);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,nt(yi,this)&&(st(yi,this,!1),et(Gi,this,Qi).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of nt(Ti,this))if(t.div.contains(e)){st(Si,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!nt(Si,this))return;const[e,t]=nt(Si,this);st(Si,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){et(Gi,this,tr).call(this),et(Gi,this,sr).call(this)}removeEditListeners(){et(Gi,this,nr).call(this),et(Gi,this,ir).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of nt(hi,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of nt(hi,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=nt(Qs,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of nt(Ti,this)){const e=s.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of nt(hi,this))if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void ln('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const e=[];for(const r of n){const t=await s.deserialize(r);if(!t)return;e.push(t)}const t=()=>{for(const t of e)et(Gi,this,dr).call(this,t);et(Gi,this,pr).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){ln('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),nt(Pi,this)===It.NONE||this.isEditorHandlingKeyboard||qi._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,nt(yi,this)&&(st(yi,this,!1),et(Gi,this,Qi).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(e){e?(et(Gi,this,Zi).call(this),et(Gi,this,sr).call(this),et(Gi,this,ar).call(this,{isEditing:nt(Pi,this)!==It.NONE,isEmpty:et(Gi,this,ur).call(this),hasSomethingToUndo:nt(ii,this).hasSomethingToUndo(),hasSomethingToRedo:nt(ii,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(et(Gi,this,er).call(this),et(Gi,this,ir).call(this),et(Gi,this,ar).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!nt(hi,this)){st(hi,this,e);for(const e of nt(hi,this))et(Gi,this,or).call(this,e.defaultPropertiesToUpdate)}}getId(){return nt(ki,this).id}get currentLayer(){return nt(ei,this).get(nt(li,this))}getLayer(e){return nt(ei,this).get(e)}get currentPageIndex(){return nt(li,this)}addLayer(e){nt(ei,this).set(e.pageIndex,e),nt(ji,this)?e.enable():e.disable()}removeLayer(e){nt(ei,this).delete(e.pageIndex)}async updateMode(e){var t,n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(nt(Pi,this)!==e&&(!nt(Vi,this)||(await nt(Vi,this).promise,nt(Vi,this)))){var o,l;if(st(Vi,this,Promise.withResolvers()),null===(t=nt(oi,this))||void 0===t||t.commitOrRemove(),nt(Pi,this)===It.POPUP)null===(o=nt(ri,this))||void 0===o||o.hideSidebar();if(null===(n=nt(ri,this))||void 0===n||n.destroyPopup(),st(Pi,this,e),e===It.NONE){var c;this.setEditingState(!1),et(Gi,this,cr).call(this);for(const e of nt(Zs,this).values())e.hideStandaloneCommentButton();return null===(c=this._editorUndoBar)||void 0===c||c.hide(),this.toggleComment(null),void nt(Vi,this).resolve()}for(const e of nt(Zs,this).values())e.addStandaloneCommentButton();if(e===It.SIGNATURE)await(null===(l=nt(Di,this))||void 0===l?void 0:l.loadSignatures());this.setEditingState(!0),await et(Gi,this,lr).call(this),this.unselectAll();for(const t of nt(ei,this).values())t.updateMode(e);if(e===It.POPUP){var d;nt($s,this)||st($s,this,await nt(Fi,this).getAnnotationsByType(new Set(nt(hi,this).map(e=>e._editorType))));const e=new Set,t=[];for(const n of nt(Zs,this).values()){const{annotationElementId:s,hasComment:i,deleted:r}=n;s&&e.add(s),i&&!r&&t.push(n.getData())}for(const n of nt($s,this)){const{id:s,popupRef:i,contentsObj:r}=n;i&&null!==r&&void 0!==r&&r.str&&!e.has(s)&&!nt(ci,this).has(s)&&t.push(n)}null===(d=nt(ri,this))||void 0===d||d.showSidebar(t)}if(!s)return i&&this.addNewEditorFromKeyboard(),void nt(Vi,this).resolve();for(const e of nt(Zs,this).values())e.uid===s?(this.setSelected(e),a?e.editComment():r?e.enterInEditMode():e.focus()):e.unselect();nt(Vi,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==nt(Pi,this)&&this._eventBus.dispatch("switchannotationeditormode",Ke({source:this},e))}updateParams(e,t){if(nt(hi,this)){switch(e){case Ft.CREATE:return void this.currentLayer.addNewEditor(t);case Ft.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(nt(Ii,this)||st(Ii,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}if(this.hasSelection)for(const n of nt(Ti,this))n.updateParams(e,t);else for(const n of nt(hi,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,s;for(const i of nt(Zs,this).values())i.editorType===e&&i.show(t);(null===(n=null===(s=nt(Ii,this))||void 0===s?void 0:s.get(Ft.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&et(Gi,this,or).call(this,[[Ft.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(nt(Ai,this)!==e){st(Ai,this,e);for(const t of nt(ei,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of nt(Zs,this).values())t.pageIndex===e&&(yield t)}getEditor(e){return nt(Zs,this).get(e)}addEditor(e){nt(Zs,this).set(e.id,e)}removeEditor(e){var t,n;(e.div.contains(document.activeElement)&&(nt(vi,this)&&clearTimeout(nt(vi,this)),st(vi,this,setTimeout(()=>{this.focusMainContainer(),st(vi,this,null)},0))),nt(Zs,this).delete(e.id),e.annotationElementId)&&(null===(t=nt(Ei,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&nt(ci,this).has(e.annotationElementId))||(null===(n=nt(ni,this))||void 0===n||n.remove(e.id))}addDeletedAnnotationElement(e){nt(ci,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return nt(ci,this).has(e)}removeDeletedAnnotationElement(e){nt(ci,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){nt(Qs,this)!==e&&(st(Qs,this,e),e&&et(Gi,this,or).call(this,e.propertiesToUpdate))}updateUI(e){tt(Gi,this,hr)===e&&et(Gi,this,or).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){et(Gi,this,or).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(nt(Ti,this).has(e))return nt(Ti,this).delete(e),e.unselect(),void et(Gi,this,ar).call(this,{hasSelectedEditor:this.hasSelection});nt(Ti,this).add(e),e.select(),et(Gi,this,or).call(this,e.propertiesToUpdate),et(Gi,this,ar).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),null===(t=nt(oi,this))||void 0===t||t.commitOrRemove();for(const n of nt(Ti,this))n!==e&&n.unselect();nt(Ti,this).clear(),nt(Ti,this).add(e),e.select(),et(Gi,this,or).call(this,e.propertiesToUpdate),et(Gi,this,ar).call(this,{hasSelectedEditor:!0})}isSelected(e){return nt(Ti,this).has(e)}get firstSelectedEditor(){return nt(Ti,this).values().next().value}unselect(e){e.unselect(),nt(Ti,this).delete(e),et(Gi,this,ar).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==nt(Ti,this).size}get isEnterHandled(){return 1===nt(Ti,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;nt(ii,this).undo(),et(Gi,this,ar).call(this,{hasSomethingToUndo:nt(ii,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:et(Gi,this,ur).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){nt(ii,this).redo(),et(Gi,this,ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:nt(ii,this).hasSomethingToRedo(),isEmpty:et(Gi,this,ur).call(this)})}addCommands(e){nt(ii,this).add(e),et(Gi,this,ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:et(Gi,this,ur).call(this)})}cleanUndoStack(e){nt(ii,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...nt(Ti,this)],s=()=>{for(const e of n)et(Gi,this,dr).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(s,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:s,mustExec:!0})}commitOrRemove(){var e;null===(e=nt(Qs,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return nt(Qs,this)||this.hasSelection}selectAll(){for(const e of nt(Ti,this))e.commit();et(Gi,this,pr).call(this,nt(Zs,this).values())}unselectAll(){var e;if((!nt(Qs,this)||(nt(Qs,this).commitOrRemove(),nt(Pi,this)===It.NONE))&&(null===(e=nt(oi,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of nt(Ti,this))e.unselect();nt(Ti,this).clear(),et(Gi,this,ar).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;nt(Bi,this)[0]+=e,nt(Bi,this)[1]+=t;const[n,s]=nt(Bi,this),i=[...nt(Ti,this)];nt(Wi,this)&&clearTimeout(nt(Wi,this)),st(Wi,this,setTimeout(()=>{st(Wi,this,null),nt(Bi,this)[0]=nt(Bi,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)nt(Zs,this).has(e.id)&&(e.translateInPage(n,s),e.translationDone())},undo:()=>{for(const e of i)nt(Zs,this).has(e.id)&&(e.translateInPage(-n,-s),e.translationDone())},mustExec:!1})},1e3));for(const r of i)r.translateInPage(e,t),r.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),st(di,this,new Map);for(const e of nt(Ti,this))nt(di,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!nt(di,this))return!1;this.disableUserSelect(!1);const e=nt(di,this);st(di,this,null);let t=!1;for(const[{x:s,y:i,pageIndex:r},a]of e)a.newX=s,a.newY=i,a.newPageIndex=r,t||(t=s!==a.savedX||i!==a.savedY||r!==a.savedPageIndex);if(!t)return!1;const n=(e,t,n,s)=>{if(nt(Zs,this).has(e.id)){const i=nt(ei,this).get(s);i?e._setParentAndPosition(i,t,n):(e.pageIndex=s,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:s,newY:i,newPageIndex:r}]of e)n(t,s,i,r)},undo:()=>{for(const[t,{savedX:s,savedY:i,savedPageIndex:r}]of e)n(t,s,i,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(nt(di,this))for(const n of nt(di,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===nt(Ti,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return nt(Qs,this)===e}getActive(){return nt(Qs,this)}getMode(){return nt(Pi,this)}isEditingMode(){return nt(Pi,this)!==It.NONE}get imageManager(){return pn(this,"imageManager",new Bs)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:s,width:i,height:r}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-s)/r,y:1-(e+a-n)/i,width:o/r,height:a/i});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/i,y:1-(t+o-s)/r,width:a/i,height:o/r});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-s)/r,y:(e-n)/i,width:o/r,height:a/i});break;default:a=(e,t,a,o)=>({x:(e-n)/i,y:(t-s)/r,width:a/i,height:o/r})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:s,height:i}of e.getClientRects())0!==s&&0!==i&&o.push(a(t,n,s,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(nt(si,this)||st(si,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=nt(si,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=nt(si,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const s=nt(ni,this).getRawValue(n);s&&(nt(Pi,this)!==It.NONE||s.hasBeenModified)&&s.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var s;const i=null===(s=nt(Ei,this))||void 0===s?void 0:s.get(e);i&&(i.setCanvas(t,n),nt(Ei,this).delete(e))}addMissingCanvas(e,t){(nt(Ei,this)||st(Ei,this,new Map)).set(e,t)}}function Xi(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function Yi(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of nt(ei,this).values())if(n.hasTextLayer(e))return n;return null}function Ki(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=et(Gi,this,Xi).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(nt(wi,this)||st(wi,this,new Cs(this)),nt(wi,this).show(t,n,"ltr"===this.direction))}function Ji(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(nt(Ri,this))null===(n=nt(wi,this))||void 0===n||n.hide(),st(Ri,this,null),et(Gi,this,ar).call(this,{hasSelectedText:!1});return}const{anchorNode:s}=t;if(s===nt(Ri,this))return;const i=et(Gi,this,Xi).call(this,t).closest(".textLayer");var r;if(i){if(null===(e=nt(wi,this))||void 0===e||e.hide(),st(Ri,this,s),et(Gi,this,ar).call(this,{hasSelectedText:!0}),(nt(Pi,this)===It.HIGHLIGHT||nt(Pi,this)===It.NONE)&&(nt(Pi,this)===It.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),st(yi,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=nt(Pi,this)===It.HIGHLIGHT?et(Gi,this,Yi).call(this,i):null;if(null===e||void 0===e||e.toggleDrawing(),nt(_i,this)){const t=new AbortController,n=this.combinedSignal(t),s=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&et(Gi,this,Qi).call(this,"main_toolbar"))};window.addEventListener("pointerup",s,{signal:n}),window.addEventListener("blur",s,{signal:n})}else null===e||void 0===e||e.toggleDrawing(!0),et(Gi,this,Qi).call(this,"main_toolbar")}}else nt(Ri,this)&&(null===(r=nt(wi,this))||void 0===r||r.hide(),st(Ri,this,null),et(Gi,this,ar).call(this,{hasSelectedText:!1}))}function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";nt(Pi,this)===It.HIGHLIGHT?this.highlightSelection(e):nt(pi,this)&&et(Gi,this,Ki).call(this)}function $i(){document.addEventListener("selectionchange",et(Gi,this,Ji).bind(this),{signal:this._signal})}function Zi(){if(nt(xi,this))return;st(xi,this,new AbortController);const e=this.combinedSignal(nt(xi,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function er(){var e;null===(e=nt(xi,this))||void 0===e||e.abort(),st(xi,this,null)}function tr(){if(nt(Ni,this))return;st(Ni,this,new AbortController);const e=this.combinedSignal(nt(Ni,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function nr(){var e;null===(e=nt(Ni,this))||void 0===e||e.abort(),st(Ni,this,null)}function sr(){if(nt(ai,this))return;st(ai,this,new AbortController);const e=this.combinedSignal(nt(ai,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function ir(){var e;null===(e=nt(ai,this))||void 0===e||e.abort(),st(ai,this,null)}function rr(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function ar(e){Object.entries(e).some(e=>{let[t,n]=e;return nt(Oi,this)[t]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(nt(Oi,this),e)}),nt(Pi,this)===It.HIGHLIGHT&&!1===e.hasSelectedEditor&&et(Gi,this,or).call(this,[[Ft.HIGHLIGHT_FREE,!0]]))}function or(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function lr(){if(!nt(ji,this)){st(ji,this,!0);const e=[];for(const t of nt(ei,this).values())e.push(t.enable());await Promise.all(e);for(const t of nt(Zs,this).values())t.enable()}}function cr(){if(this.unselectAll(),nt(ji,this)){st(ji,this,!1);for(const e of nt(ei,this).values())e.disable();for(const e of nt(Zs,this).values())e.disable()}}function dr(e){const t=nt(ei,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function hr(e){let t=null;for(t of nt(Ti,e));return t}function ur(){if(0===nt(Zs,this).size)return!0;if(1===nt(Zs,this).size)for(const e of nt(Zs,this).values())return e.isEmpty();return!1}function pr(e){for(const t of nt(Ti,this))t.unselect();nt(Ti,this).clear();for(const t of e)t.isEmpty()||(nt(Ti,this).add(t),t.select());et(Gi,this,ar).call(this,{hasSelectedEditor:this.hasSelection})}Xe(qi,"TRANSLATE_SMALL",1),Xe(qi,"TRANSLATE_BIG",10);var mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,vr=new WeakMap,xr=new WeakMap,br=new WeakMap,yr=new WeakMap,wr=new WeakMap,kr=new WeakMap,jr=new WeakMap,_r=new WeakMap,Ar=new WeakMap,Nr=new WeakSet;class Sr{constructor(e){$e(this,Nr),Ze(this,mr,null),Ze(this,fr,!1),Ze(this,gr,null),Ze(this,vr,null),Ze(this,xr,null),Ze(this,br,null),Ze(this,yr,!1),Ze(this,wr,null),Ze(this,kr,null),Ze(this,jr,null),Ze(this,_r,null),Ze(this,Ar,!1),st(kr,this,e),st(Ar,this,e._uiManager.useNewAltTextFlow),Mr._||(Mr._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=Sr._l10n)&&void 0!==t||(Sr._l10n=e)}async render(){const e=st(gr,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=st(vr,this,document.createElement("span"));e.append(t),nt(Ar,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Mr._.missing),t.setAttribute("data-l10n-id",Mr._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=nt(kr,this)._uiManager._signal;e.addEventListener("contextmenu",Gn,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const s=e=>{e.preventDefault(),nt(kr,this)._uiManager.editAltText(nt(kr,this)),nt(Ar,this)&&nt(kr,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:tt(Nr,this,Cr)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(st(yr,this,!0),s(t))},{signal:n}),await et(Nr,this,Er).call(this),e}finish(){nt(gr,this)&&(nt(gr,this).focus({focusVisible:nt(yr,this)}),st(yr,this,!1))}isEmpty(){return nt(Ar,this)?null===nt(mr,this):!nt(mr,this)&&!nt(fr,this)}hasData(){return nt(Ar,this)?null!==nt(mr,this)||!!nt(jr,this):this.isEmpty()}get guessedText(){return nt(jr,this)}async setGuessedText(e){null===nt(mr,this)&&(st(jr,this,e),st(_r,this,await Sr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),et(Nr,this,Er).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!nt(Ar,this)||nt(mr,this))return null===(t=nt(wr,this))||void 0===t||t.remove(),void st(wr,this,null);if(!nt(wr,this)){const e=st(wr,this,document.createElement("div"));e.className="noAltTextBadge",nt(kr,this).div.append(e)}nt(wr,this).classList.toggle("hidden",!e)}serialize(e){let t=nt(mr,this);return e||nt(jr,this)!==t||(t=nt(_r,this)),{altText:t,decorative:nt(fr,this),guessedText:nt(jr,this),textWithDisclaimer:nt(_r,this)}}get data(){return{altText:nt(mr,this),decorative:nt(fr,this)}}set data(e){let{altText:t,decorative:n,guessedText:s,textWithDisclaimer:i,cancel:r=!1}=e;s&&(st(jr,this,s),st(_r,this,i)),nt(mr,this)===t&&nt(fr,this)===n||(r||(st(mr,this,t),st(fr,this,n)),et(Nr,this,Er).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];nt(gr,this)&&(!e&&nt(br,this)&&(clearTimeout(nt(br,this)),st(br,this,null)),nt(gr,this).disabled=!e)}shown(){nt(kr,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:tt(Nr,this,Cr)}})}destroy(){var e,t;null===(e=nt(gr,this))||void 0===e||e.remove(),st(gr,this,null),st(vr,this,null),st(xr,this,null),null===(t=nt(wr,this))||void 0===t||t.remove(),st(wr,this,null)}}function Cr(e){return(nt(mr,e)?"added":null===nt(mr,e)&&e.guessedText&&"review")||"missing"}async function Er(){const e=nt(gr,this);if(!e)return;if(nt(Ar,this)){var t,n;if(e.classList.toggle("done",!!nt(mr,this)),e.setAttribute("data-l10n-id",Mr._[tt(Nr,this,Cr)]),null===(t=nt(vr,this))||void 0===t||t.setAttribute("data-l10n-id",Mr._["".concat(tt(Nr,this,Cr),"-label")]),!nt(mr,this))return void(null===(n=nt(xr,this))||void 0===n||n.remove())}else{var s;if(!nt(mr,this)&&!nt(fr,this))return e.classList.remove("done"),void(null===(s=nt(xr,this))||void 0===s||s.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=nt(xr,this);if(!i){st(xr,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(nt(kr,this).id);const t=100,n=nt(kr,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(nt(br,this)),st(br,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{st(br,this,setTimeout(()=>{st(br,this,null),nt(xr,this).classList.add("show"),nt(kr,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:n}),e.addEventListener("mouseleave",()=>{var e;nt(br,this)&&(clearTimeout(nt(br,this)),st(br,this,null)),null===(e=nt(xr,this))||void 0===e||e.classList.remove("show")},{signal:n})}nt(fr,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=nt(mr,this)),i.parentNode||e.append(i);const r=nt(kr,this).getElementForAltText();null===r||void 0===r||r.setAttribute("aria-describedby",i.id)}var Mr={_:null};Xe(Sr,"_l10n",null);var Pr=new WeakMap,Tr=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,Or=new WeakMap,Br=new WeakMap,Wr=new WeakMap,zr=new WeakSet;class Ur{constructor(e){$e(this,zr),Ze(this,Pr,null),Ze(this,Tr,null),Ze(this,Rr,!1),Ze(this,Dr,null),Ze(this,Lr,null),Ze(this,Ir,null),Ze(this,Fr,null),Ze(this,Or,null),Ze(this,Br,!1),Ze(this,Wr,null),st(Dr,this,e)}renderForToolbar(){const e=st(Tr,this,document.createElement("button"));return e.className="comment",et(zr,this,Hr).call(this,e,!1)}renderForStandalone(){const e=st(Pr,this,document.createElement("button"));e.className="annotationCommentButton";const t=nt(Dr,this).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd="calc(".concat(100*("ltr"===nt(Dr,this)._uiManager.direction?1-t[0]:t[0]),"% - var(--comment-button-dim))"),n.top="calc(".concat(100*t[1],"% - var(--comment-button-dim))");const s=nt(Dr,this).commentButtonColor;s&&(n.backgroundColor=s)}return et(zr,this,Hr).call(this,e,!0)}focusButton(){setTimeout(()=>{var e,t;null===(e=null!==(t=nt(Pr,this))&&void 0!==t?t:nt(Tr,this))||void 0===e||e.focus()},0)}onUpdatedColor(){if(!nt(Pr,this))return;const e=nt(Dr,this).commentButtonColor;e&&(nt(Pr,this).style.backgroundColor=e),nt(Dr,this)._uiManager.updatePopupColor(nt(Dr,this))}get commentButtonWidth(){var e,t;return(null!==(e=null===(t=nt(Pr,this))||void 0===t?void 0:t.getBoundingClientRect().width)&&void 0!==e?e:0)/nt(Dr,this).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(nt(Wr,this))return nt(Wr,this);if(!nt(Pr,this))return null;const{x:e,y:t,height:n}=nt(Pr,this).getBoundingClientRect(),{x:s,y:i,width:r,height:a}=nt(Dr,this).parent.boundingClientRect;return[(e-s)/r,(t+n-i)/a]}set commentPopupPositionInLayer(e){st(Wr,this,e)}hasDefaultPopupPosition(){return null===nt(Wr,this)}removeStandaloneCommentButton(){var e;null===(e=nt(Pr,this))||void 0===e||e.remove(),st(Pr,this,null)}removeToolbarCommentButton(){var e;null===(e=nt(Tr,this))||void 0===e||e.remove(),st(Tr,this,null)}setCommentButtonStates(e){let{selected:t,hasPopup:n}=e;nt(Pr,this)&&(nt(Pr,this).classList.toggle("selected",t),nt(Pr,this).ariaExpanded=n)}edit(e){const t=this.commentPopupPositionInLayer;let n,s;if(t)[n,s]=t;else{[n,s]=nt(Dr,this).commentButtonPosition;const{width:e,height:t,x:i,y:r}=nt(Dr,this);n=i+n*e,s=r+s*t}const i=nt(Dr,this).parent.boundingClientRect,{x:r,y:a,width:o,height:l}=i;nt(Dr,this)._uiManager.editComment(nt(Dr,this),r+n*o,a+s*l,Ke(Ke({},e),{},{parentDimensions:i}))}finish(){nt(Tr,this)&&(nt(Tr,this).focus({focusVisible:nt(Rr,this)}),st(Rr,this,!1))}isDeleted(){return nt(Br,this)||""===nt(Fr,this)}isEmpty(){return null===nt(Fr,this)}hasBeenEdited(){return this.isDeleted()||nt(Fr,this)!==nt(Lr,this)}serialize(){return this.data}get data(){return{text:nt(Fr,this),richText:nt(Ir,this),date:nt(Or,this),deleted:this.isDeleted()}}set data(e){if(e!==nt(Fr,this)&&st(Ir,this,null),null===e)return st(Fr,this,""),void st(Br,this,!0);st(Fr,this,e),st(Or,this,new Date),st(Br,this,!1)}setInitialText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;st(Lr,this,e),this.data=e,st(Or,this,null),st(Ir,this,t)}shown(){}destroy(){var e,t;null===(e=nt(Tr,this))||void 0===e||e.remove(),st(Tr,this,null),null===(t=nt(Pr,this))||void 0===t||t.remove(),st(Pr,this,null),st(Fr,this,""),st(Ir,this,null),st(Or,this,null),st(Dr,this,null),st(Rr,this,!1),st(Br,this,!1)}}function Hr(e,t){if(!nt(Dr,this)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[nt(Dr,this)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=nt(Dr,this)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Gn,{signal:n}),t&&(e.addEventListener("focusin",e=>{nt(Dr,this)._focusEventsAllowed=!1,qn(e)},{capture:!0,signal:n}),e.addEventListener("focusout",e=>{nt(Dr,this)._focusEventsAllowed=!0,qn(e)},{capture:!0,signal:n})),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const s=t=>{t.preventDefault(),e===nt(Tr,this)?this.edit():nt(Dr,this).toggleComment(!0)};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(st(Rr,this,!0),s(t))},{signal:n}),e.addEventListener("pointerenter",()=>{nt(Dr,this).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{nt(Dr,this).toggleComment(!1,!1)},{signal:n}),e}var Vr=new WeakMap,Gr=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,$r=new WeakMap,Zr=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakSet;class sa{constructor(e){let{container:t,isPinchingDisabled:n=null,isPinchingStopped:s=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:a=null,signal:o}=e;$e(this,na),Ze(this,Vr,void 0),Ze(this,Gr,!1),Ze(this,qr,null),Ze(this,Xr,void 0),Ze(this,Yr,void 0),Ze(this,Kr,void 0),Ze(this,Jr,void 0),Ze(this,Qr,null),Ze(this,$r,void 0),Ze(this,Zr,null),Ze(this,ea,void 0),Ze(this,ta,null),st(Vr,this,t),st(qr,this,s),st(Xr,this,n),st(Yr,this,i),st(Kr,this,r),st(Jr,this,a),st(ea,this,new AbortController),st($r,this,AbortSignal.any([o,nt(ea,this).signal])),t.addEventListener("touchstart",et(na,this,ia).bind(this),{passive:!1,signal:nt($r,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zn.pixelRatio}destroy(){var e,t;null===(e=nt(ea,this))||void 0===e||e.abort(),st(ea,this,null),null===(t=nt(Qr,this))||void 0===t||t.abort(),st(Qr,this,null)}}function ia(e){var t,n;if(null!==(t=nt(Xr,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(nt(Qr,this))return;const e=st(Qr,this,new AbortController),t=AbortSignal.any([nt($r,this),e.signal]),n=nt(Vr,this),s={capture:!0,signal:t,passive:!1},i=e=>{var t;"touch"===e.pointerType&&(null===(t=nt(Qr,this))||void 0===t||t.abort(),st(Qr,this,null))};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(qn(e),i(e))},s),n.addEventListener("pointerup",i,s),void n.addEventListener("pointercancel",i,s)}if(!nt(ta,this)){var s;st(ta,this,new AbortController);const e=AbortSignal.any([nt($r,this),nt(ta,this).signal]),t=nt(Vr,this),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",et(na,this,ra).bind(this),n);const i=et(na,this,aa).bind(this);t.addEventListener("touchend",i,n),t.addEventListener("touchcancel",i,n),n.capture=!0,t.addEventListener("pointerdown",qn,n),t.addEventListener("pointermove",qn,n),t.addEventListener("pointercancel",qn,n),t.addEventListener("pointerup",qn,n),null===(s=nt(Yr,this))||void 0===s||s.call(this)}if(qn(e),2!==e.touches.length||null!==(n=nt(qr,this))&&void 0!==n&&n.call(this))return void st(Zr,this,null);let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]),st(Zr,this,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})}function ra(e){var t;if(!nt(Zr,this)||2!==e.touches.length)return;qn(e);let[n,s]=e.touches;n.identifier>s.identifier&&([n,s]=[s,n]);const{screenX:i,screenY:r}=n,{screenX:a,screenY:o}=s,l=nt(Zr,this),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:u}=l,p=h-c,m=u-d,f=a-i,g=o-r,v=Math.hypot(f,g)||1,x=Math.hypot(p,m)||1;if(!nt(Gr,this)&&Math.abs(x-v)<=lt.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=r,l.touch1X=a,l.touch1Y=o,!nt(Gr,this))return void st(Gr,this,!0);const b=[(i+a)/2,(r+o)/2];null===(t=nt(Kr,this))||void 0===t||t.call(this,b,x,v)}function aa(e){if(!(e.touches.length>=2)){var t;if(nt(ta,this))nt(ta,this).abort(),st(ta,this,null),null===(t=nt(Jr,this))||void 0===t||t.call(this);nt(Zr,this)&&(qn(e),st(Zr,this,null),st(Gr,this,!1))}}lt=sa;var oa=new WeakMap,la=new WeakMap,ca=new WeakMap,da=new WeakMap,ha=new WeakMap,ua=new WeakMap,pa=new WeakMap,ma=new WeakMap,fa=new WeakMap,ga=new WeakMap,va=new WeakMap,xa=new WeakMap,ba=new WeakMap,ya=new WeakMap,wa=new WeakMap,ka=new WeakMap,ja=new WeakMap,_a=new WeakMap,Aa=new WeakMap,Na=new WeakMap,Sa=new WeakMap,Ca=new WeakMap,Ea=new WeakMap,Ma=new WeakMap,Pa=new WeakMap,Ta=new WeakMap,Ra=new WeakSet;class Da{static get _resizerKeyboardManager(){const e=Da.prototype._resizeWithKeyboard,t=qi.TRANSLATE_SMALL,n=qi.TRANSLATE_BIG;return pn(this,"_resizerKeyboardManager",new Xs([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Da.prototype._stopResizingWithKeyboard]]))}constructor(e){$e(this,Ra),Ze(this,oa,null),Ze(this,la,null),Ze(this,ca,null),Ze(this,da,null),Ze(this,ha,null),Ze(this,ua,!1),Ze(this,pa,null),Ze(this,ma,""),Ze(this,fa,null),Ze(this,ga,null),Ze(this,va,null),Ze(this,xa,null),Ze(this,ba,null),Ze(this,ya,""),Ze(this,wa,!1),Ze(this,ka,null),Ze(this,ja,!1),Ze(this,_a,!1),Ze(this,Aa,!1),Ze(this,Na,null),Ze(this,Sa,0),Ze(this,Ca,0),Ze(this,Ea,null),Ze(this,Ma,null),Xe(this,"isSelected",!1),Xe(this,"_isCopy",!1),Xe(this,"_editToolbar",null),Xe(this,"_initialOptions",Object.create(null)),Xe(this,"_initialData",null),Xe(this,"_isVisible",!0),Xe(this,"_uiManager",null),Xe(this,"_focusEventsAllowed",!0),Ze(this,Pa,!1),Ze(this,Ta,Da._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[i,r];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new eo({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=Da._l10n)&&void 0!==n||(Da._l10n=e),Da._l10nResizer||(Da._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==Da._borderLineWidth)return;const s=getComputedStyle(document.documentElement);Da._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){cn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return nt(Pa,this)}set _isDraggable(e){var t;st(Pa,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=nt(Ta,this)}setParent(e){var t;null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(et(Ra,this,Za).call(this),null===(t=nt(xa,this))||void 0===t||t.remove(),st(xa,this,null));this.parent=e}focusin(e){this._focusEventsAllowed&&(nt(wa,this)?st(wa,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[i,r]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/i,this.y=(t+s)/r,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,s]=this.parentDimensions;this.setAt(e*n,t*s,this.width*n,this.height*s),this._onTranslated()}translate(e,t){et(Ra,this,La).call(this,this.parentDimensions,e,t)}translateInPage(e,t){nt(ka,this)||st(ka,this,[this.x,this.y,this.width,this.height]),et(Ra,this,La).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){nt(ka,this)||st(ka,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l;const{style:c}=n;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*a).toFixed(2),"%"),this._onTranslating(r,a),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!nt(ka,this)&&(nt(ka,this)[0]!==this.x||nt(ka,this)[1]!==this.y)}get _hasBeenResized(){return!!nt(ka,this)&&(nt(ka,this)[2]!==this.width||nt(ka,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Da,s=n/e,i=n/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[n,s]}=this;let{x:i,y:r,width:a,height:o}=this;if(a*=n,o*=s,i*=n,r*=s,this._mustFixPosition)switch(e){case 0:i=Tn(i,0,n-a),r=Tn(r,0,s-o);break;case 90:i=Tn(i,0,n-o),r=Tn(r,a,s);break;case 180:i=Tn(i,a,n),r=Tn(r,o,s);break;case 270:i=Tn(i,o,n),r=Tn(r,0,s-a)}this.x=i/=n,this.y=r/=s;const[l,c]=this.getBaseTranslation();i+=l,r+=c,t.left="".concat((100*i).toFixed(2),"%"),t.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return Ia.call(Da,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ia.call(Da,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width="".concat((100*t).toFixed(2),"%"),e.height="".concat((100*n).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=nt(ca,this))||void 0===e||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||nt(_a,this))return this._editToolbar;this._editToolbar=new vs(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;null===(e=this._editToolbar)||void 0===e||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;null===(e=this._editToolbar)||void 0===e||e.removeButton("comment")}removeEditToolbar(){var e,t;null===(e=this._editToolbar)||void 0===e||e.remove(),this._editToolbar=null,null===(t=nt(ca,this))||void 0===t||t.destroy()}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return nt(ca,this)||(Sr.initialize(Da._l10n),st(ca,this,new Sr(this)),nt(oa,this)&&(nt(ca,this).data=nt(oa,this),st(oa,this,null))),nt(ca,this)}get altTextData(){var e;return null===(e=nt(ca,this))||void 0===e?void 0:e.data}set altTextData(e){nt(ca,this)&&(nt(ca,this).data=e)}get guessedAltText(){var e;return null===(e=nt(ca,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=nt(ca,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=nt(ca,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!nt(ca,this)&&!nt(ca,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=nt(ca,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}focusCommentButton(){var e;null===(e=nt(da,this))||void 0===e||e.focusButton()}addCommentButton(){return nt(da,this)||st(da,this,new Ur(this))}addStandaloneCommentButton(){nt(ha,this)?this._uiManager.isEditingMode()&&nt(ha,this).classList.remove("hidden"):this.hasComment&&(st(ha,this,nt(da,this).renderForStandalone()),this.div.append(nt(ha,this)))}removeStandaloneCommentButton(){nt(da,this).removeStandaloneCommentButton(),st(ha,this,null)}hideStandaloneCommentButton(){var e;null===(e=nt(ha,this))||void 0===e||e.classList.add("hidden")}get comment(){var e;const{data:{richText:t,text:n,date:s,deleted:i}}=nt(da,this);return{text:n,richText:t,date:s,deleted:i,color:this.getNonHCMColor(),opacity:null!==(e=this.opacity)&&void 0!==e?e:1}}set comment(e){nt(da,this)||st(da,this,new Ur(this)),nt(da,this).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(e){let{comment:t,popupRef:n,richText:s}=e;if(!n)return;if(nt(da,this)||st(da,this,new Ur(this)),nt(da,this).setInitialText(t,s),!this.annotationElementId)return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return null===(e=nt(da,this))||void 0===e?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return null===(e=nt(da,this))||void 0===e?void 0:e.isDeleted()}get hasComment(){return!!nt(da,this)&&!nt(da,this).isEmpty()&&!nt(da,this).isDeleted()}async editComment(e){nt(da,this)||st(da,this,new Ur(this)),nt(da,this).edit(e)}toggleComment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){nt(da,this).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const t=180,n=100,[,,,s]=e.rect,[i]=this.pageDimensions,[r]=this.pageTranslation,a=r+i+1,o=s-n,l=a+t;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,o,l,s]}}}updateFromAnnotationLayer(e){let{popup:{contents:t,deleted:n}}=e;nt(da,this).data=n?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=nt(ua,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),et(Ra,this,Ya).call(this);const[n,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*s/n).toFixed(2),"%"),t.style.maxHeight="".concat((100*n/s).toFixed(2),"%"));const[i,r]=this.getInitialTranslation();return this.translate(i,r),Ts(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(nt(Ma,this)||st(Ma,this,new sa({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:et(Ra,this,Ha).bind(this),onPinching:et(Ra,this,Va).bind(this),onPinchEnd:et(Ra,this,Ga).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=jn.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(st(wa,this,!0),this._isDraggable?et(Ra,this,Xa).call(this,e):et(Ra,this,qa).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){nt(Na,this)&&clearTimeout(nt(Na,this)),st(Na,this,setTimeout(()=>{var e;st(Na,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const s=this.parentScale,[i,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/s,c=t/s,d=this.x*i,h=this.y*r,u=this.width*i,p=this.height*r;switch(n){case 0:return[d+l+a,r-h-c-p+o,d+l+u+a,r-h-c+o];case 90:return[d+c+a,r-h+l+o,d+c+p+a,r-h+l+u+o];case 180:return[d-l-u+a,r-h+c+o,d-l+a,r-h+c+p+o];case 270:return[d-c-p+a,r-h-l-u+o,d-c+a,r-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,i,r]=e,a=i-n,o=r-s;switch(this.rotation){case 0:return[n,t-r,a,o];case 90:return[n,t-s,o,a];case 180:return[i,t-s,a,o];case 270:return[i,t-r,o,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Da._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;null===(e=nt(da,this))||void 0===e||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:s,deleted:i,richText:r},uid:a,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:a,pageIndex:o,rect:this.getPDFRect(),richText:r,contentsObj:{str:e},creationDate:l,modificationDate:n||c,popupRef:!i,color:t,opacity:s}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),st(_a,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),st(_a,this,!1),!0)}isInEditMode(){return nt(_a,this)}shouldGetKeyboardEvents(){return nt(Aa,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:r}=window;return t<r&&s>0&&e<i&&n>0}rebuild(){et(Ra,this,Ya).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){var e;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});s.rotation=e.rotation,st(oa,s,e.accessibilityData),s._isCopy=e.isCopy||!1;const[i,r]=s.pageDimensions,[a,o,l,c]=s.getRectInCurrentCoords(e.rect,r);return s.x=a/i,s.y=o/r,s.width=l/i,s.height=c/r,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=nt(ba,this))||void 0===e||e.abort(),st(ba,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),nt(Na,this)&&(clearTimeout(nt(Na,this)),st(Na,this,null)),et(Ra,this,Za).call(this),this.removeEditToolbar(),nt(Ea,this)){for(const e of nt(Ea,this).values())clearTimeout(e);st(Ea,this,null)}this.parent=null,null===(t=nt(Ma,this))||void 0===t||t.destroy(),st(Ma,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(et(Ra,this,Oa).call(this),nt(fa,this).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,s,i,r]=this.getPDFRect();return[Da._round(n+(i-n)*e),Da._round(s+(r-s)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return nt(da,this).commentPopupPositionInLayer}set commentPopupPosition(e){nt(da,this).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return nt(da,this).hasDefaultPopupPosition()}get commentButtonWidth(){return nt(da,this).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){nt(da,this).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),st(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=nt(fa,this).children;if(!nt(la,this)){st(la,this,Array.from(t));const e=et(Ra,this,Ka).bind(this),n=et(Ra,this,Ja).bind(this),s=this._uiManager._signal;for(const t of nt(la,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:s}),t.addEventListener("blur",n,{signal:s}),t.addEventListener("focus",et(Ra,this,Qa).bind(this,i),{signal:s}),t.setAttribute("data-l10n-id",Da._l10nResizer[i])}}const n=nt(la,this)[0];let s=0;for(const r of t){if(r===n)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(nt(la,this).length/4);if(i!==s){if(i<s)for(let t=0;t<s-i;t++)nt(fa,this).append(nt(fa,this).firstChild);else if(i>s)for(let t=0;t<i-s;t++)nt(fa,this).firstChild.before(nt(fa,this).lastChild);let e=0;for(const n of t){const t=nt(la,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",Da._l10nResizer[t])}}et(Ra,this,$a).call(this,0),st(Aa,this,!0),nt(fa,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){nt(Aa,this)&&et(Ra,this,Ua).call(this,nt(ya,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){et(Ra,this,Za).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=nt(ca,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return null===(e=this.div)||void 0===e?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,s,i;this.isSelected&&(this.isSelected=!1,null===(e=nt(fa,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(s=this._editToolbar)||void 0===s||s.hide(),null===(i=nt(ca,this))||void 0===i||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){"BUTTON"!==e.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return nt(ja,this)}set isEditing(e){st(ja,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){nt(Ea,this)||st(Ea,this,new Map);const{action:t}=e;let n=nt(Ea,this).get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),nt(Ea,this).delete(t),0===nt(Ea,this).size&&st(Ea,this,null)},Da._telemetryTimeout),void nt(Ea,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),st(ua,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),st(ua,this,!0)}updateFakeAnnotationElement(e){if(nt(xa,this)||this.deleted)return this.deleted?(nt(xa,this).remove(),void st(xa,this,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&nt(xa,this).updateEdited({rect:this.getPDFRect(),popup:this.comment}));st(xa,this,e.addFakeAnnotation(this))}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function La(e,t,n){let[s,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/s,this.y+=n/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function Ia(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function Fa(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function Oa(){if(nt(fa,this))return;st(fa,this,document.createElement("div")),nt(fa,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");nt(fa,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",et(Ra,this,Ba).bind(this,n),{signal:t}),e.addEventListener("contextmenu",Gn,{signal:t}),e.tabIndex=-1}this.div.prepend(nt(fa,this))}function Ba(e,t){var n;t.preventDefault();const{isMac:s}=jn.platform;if(0!==t.button||t.ctrlKey&&s)return;null===(n=nt(ca,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,st(ga,this,[t.screenX,t.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",et(Ra,this,Ua).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",qn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Gn,{signal:a}),st(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;r.abort(),this.parent.togglePointerEvents(!0),null===(e=nt(ca,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,et(Ra,this,za).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}function Wa(e,t,n,s){this.width=n,this.height=s,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}function za(){if(!nt(va,this))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=nt(va,this);st(va,this,null);const i=this.x,r=this.y,a=this.width,o=this.height;i===e&&r===t&&a===n&&o===s||this.addCommands({cmd:et(Ra,this,Wa).bind(this,i,r,a,o),undo:et(Ra,this,Wa).bind(this,e,t,n,s),mustExec:!0})}function Ua(e,t){const[n,s]=this.parentDimensions,i=this.x,r=this.y,a=this.width,o=this.height,l=ct.MIN_SIZE/n,c=ct.MIN_SIZE/s,d=et(Ra,this,Fa).call(this,this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],u=et(Ra,this,Fa).call(this,360-this.rotation);let p,m,f=!1,g=!1;switch(e){case"topLeft":f=!0,p=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":f=!0,p=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":g=!0,p=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":f=!0,p=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":f=!0,p=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":g=!0,p=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const v=p(a,o),x=m(a,o);let b=h(...x);const y=ct._round(i+b[0]),w=ct._round(r+b[1]);let k,j,_=1,A=1;if(t.fromKeyboard)({deltaX:k,deltaY:j}=t);else{const{screenX:e,screenY:n}=t,[s,i]=nt(ga,this);[k,j]=this.screenToPageTranslation(e-s,n-i),nt(ga,this)[0]=e,nt(ga,this)[1]=n}var N,S;if([k,j]=(N=k/n,S=j/s,[u[0]*N+u[2]*S,u[1]*N+u[3]*S]),f){const e=Math.hypot(a,o);_=A=Math.max(Math.min(Math.hypot(x[0]-v[0]-k,x[1]-v[1]-j)/e,1/a,1/o),l/a,c/o)}else g?_=Tn(Math.abs(x[0]-v[0]-k),l,1)/a:A=Tn(Math.abs(x[1]-v[1]-j),c,1)/o;const C=ct._round(a*_),E=ct._round(o*A);b=h(...m(C,E));const M=y-b[0],P=w-b[1];nt(ka,this)||st(ka,this,[this.x,this.y,this.width,this.height]),this.width=C,this.height=E,this.x=M,this.y=P,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Ha(){var e;st(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=nt(ca,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Va(e,t,n){let s=n/t*.7+1-.7;if(1===s)return;const i=et(Ra,this,Fa).call(this,this.rotation),r=(e,t)=>[i[0]*e+i[2]*t,i[1]*e+i[3]*t],[a,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,h=this.height,u=ct.MIN_SIZE/a,p=ct.MIN_SIZE/o;s=Math.max(Math.min(s,1/d,1/h),u/d,p/h);const m=ct._round(d*s),f=ct._round(h*s);if(m===d&&f===h)return;nt(ka,this)||st(ka,this,[l,c,d,h]);const g=r(d/2,h/2),v=ct._round(l+g[0]),x=ct._round(c+g[1]),b=r(m/2,f/2);this.x=v-b[0],this.y=x-b[1],this.width=m,this.height=f,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Ga(){var e;null===(e=nt(ca,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),et(Ra,this,za).call(this)}function qa(e){const{isMac:t}=jn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Xa(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),r={capture:!0,passive:!1,signal:i},a=e=>{s.abort(),st(pa,this,null),st(wa,this,!1),this._uiManager.endDragSession()||et(Ra,this,qa).call(this,e),n&&this._onStopDragging()};t&&(st(Sa,this,e.clientX),st(Ca,this,e.clientY),st(pa,this,e.pointerId),st(ma,this,e.pointerType),window.addEventListener("pointermove",e=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:t,clientY:s,pointerId:i}=e;if(i!==nt(pa,this))return void qn(e);const[r,a]=this.screenToPageTranslation(t-nt(Sa,this),s-nt(Ca,this));st(Sa,this,t),st(Ca,this,s),this._uiManager.dragSelectedEditors(r,a)},r),window.addEventListener("touchmove",qn,r),window.addEventListener("pointerdown",e=>{e.pointerType===nt(ma,this)&&(nt(Ma,this)||e.isPrimary)&&a(e),qn(e)},r));const o=e=>{nt(pa,this)&&nt(pa,this)!==e.pointerId?qn(e):a(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}function Ya(){if(nt(ba,this)||!this.div)return;st(ba,this,new AbortController);const e=this._uiManager.combinedSignal(nt(ba,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function Ka(e){ct._resizerKeyboardManager.exec(this,e)}function Ja(e){var t;nt(Aa,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==nt(fa,this)&&et(Ra,this,Za).call(this)}function Qa(e){st(ya,this,nt(Aa,this)?e:"")}function $a(e){if(nt(la,this))for(const t of nt(la,this))t.tabIndex=e}function Za(){st(Aa,this,!1),et(Ra,this,$a).call(this,-1),et(Ra,this,za).call(this)}ct=Da,Xe(Da,"_l10n",null),Xe(Da,"_l10nResizer",null),Xe(Da,"_borderLineWidth",-1),Xe(Da,"_colorManager",new Ks),Xe(Da,"_zIndex",1),Xe(Da,"_telemetryTimeout",1e3);class eo extends Da{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const to=3285377520,no=4294901760,so=65535;class io{constructor(e){this.h1=e?4294967295&e:to,this.h2=e?4294967295&e:to}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let s=0,i=e.length;s<i;s++){const i=e.charCodeAt(s);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const s=n>>2,i=n-4*s,r=new Uint32Array(t.buffer,0,s);let a=0,o=0,l=this.h1,c=this.h2;const d=3432918353,h=461845907,u=11601,p=13715;for(let m=0;m<s;m++)1&m?(a=r[m],a=a*d&no|a*u&so,a=a<<15|a>>>17,a=a*h&no|a*p&so,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[m],o=o*d&no|o*u&so,o=o<<15|o>>>17,o=o*h&no|o*p&so,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,i){case 3:a^=t[4*s+2]<<16;case 2:a^=t[4*s+1]<<8;case 1:a^=t[4*s],a=a*d&no|a*u&so,a=a<<15|a>>>17,a=a*h&no|a*p&so,1&s?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&no|36045*e&so,t=4283543511*t&no|(2950163797*(t<<16|e>>>16)&no)>>>16,e^=t>>>1,e=444984403*e&no|60499*e&so,t=3301882366*t&no|(3120437893*(t<<16|e>>>16)&no)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ro=Object.freeze({map:null,hash:"",transfer:void 0});var ao=new WeakMap,oo=new WeakMap,lo=new WeakMap,co=new WeakMap,ho=new WeakSet;class uo{constructor(){$e(this,ho),Ze(this,ao,!1),Ze(this,oo,null),Ze(this,lo,null),Ze(this,co,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=nt(co,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return nt(co,this).get(e)}remove(e){const t=nt(co,this).get(e);if(void 0!==t&&(t instanceof Da&&nt(lo,this).delete(t.annotationElementId),nt(co,this).delete(e),0===nt(co,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const e of nt(co,this).values())if(e instanceof Da)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=nt(co,this).get(e);let s=!1;if(void 0!==n)for(const[i,r]of Object.entries(t))n[i]!==r&&(s=!0,n[i]=r);else s=!0,nt(co,this).set(e,t);s&&et(ho,this,po).call(this),t instanceof Da&&((nt(lo,this)||st(lo,this,new Map)).set(t.annotationElementId,t),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type))}has(e){return nt(co,this).has(e)}get size(){return nt(co,this).size}resetModified(){nt(ao,this)&&(st(ao,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new fo(this)}get serializable(){if(0===nt(co,this).size)return ro;const e=new Map,t=new io,n=[],s=Object.create(null);let i=!1;for(const[r,a]of nt(co,this)){const n=a instanceof Da?a.serialize(!1,s):a;n&&(e.set(r,n),t.update("".concat(r,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:ro}get editorStats(){let e=null;const t=new Map;let n=0,s=0;for(const a of nt(co,this).values()){var i;if(!(a instanceof Da)){a.popup&&(a.popup.deleted?s+=1:n+=1);continue}a.isCommentDeleted?s+=1:a.hasEditedComment&&(n+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const c=(i=e)[l]||(i[l]=new Map);for(const[e,t]of Object.entries(o)){var r;if("type"===e)continue;let n=c.get(e);n||(n=new Map,c.set(e,n));const s=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,s+1)}}if((s>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:s,edited:n}),!e)return null;for(const[a,o]of t)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){st(oo,this,null)}updateEditor(e,t){var n;const s=null===(n=nt(lo,this))||void 0===n?void 0:n.get(e);return!!s&&(s.updateFromAnnotationLayer(t),!0)}getEditor(e){var t;return(null===(t=nt(lo,this))||void 0===t?void 0:t.get(e))||null}get modifiedIds(){if(nt(oo,this))return nt(oo,this);const e=[];if(nt(lo,this))for(const t of nt(lo,this).values())t.serialize()&&e.push(t.annotationElementId);return st(oo,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return nt(co,this).entries()}}function po(){nt(ao,this)||(st(ao,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var mo=new WeakMap;class fo extends uo{constructor(e){super(),Ze(this,mo,void 0);const{map:t,hash:n,transfer:s}=e.serializable,i=structuredClone(t,s?{transfer:s}:null);st(mo,this,{map:i,hash:n,transfer:s})}get print(){cn("Should not call PrintAnnotationStorage.print")}get serializable(){return nt(mo,this)}get modifiedIds(){return pn(this,"modifiedIds",{ids:new Set,hash:""})}}var go=new WeakMap;class vo{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;Ze(this,go,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),nt(go,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:n,_inspectFont:s}=e;if(t&&!nt(go,this).has(t.loadedName)){if(dn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:n,style:r}=t,a=new FontFace(e,n,r);this.addNativeFontFace(a);try{await a.load(),nt(go,this).add(e),null===s||void 0===s||s(t)}catch(i){ln("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}return}cn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw ln("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return pn(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return pn(this,"isSyncFontLoadingSupported",jt||jn.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(dn(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return pn(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,s){return e.substring(0,t)+s+e.substring(t+n)}let i,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=s(d,976,c.length,c);const h=1482184792;let u=n(d,16);for(i=0,r=c.length-3;i<r;i+=4)u=u-h+n(c,i)|0;var p;i<c.length&&(u=u-h+n(c+"XXX",i)|0),d=s(d,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const m="url(data:font/opentype;base64,".concat(btoa(d),");"),f='@font-face {font-family:"'.concat(c,'";src:').concat(m,"}");this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return ln("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,()=>{g.remove(),t.complete()})}}var xo=new WeakMap;class bo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;Ze(this,xo,void 0),this.compiledGlyphs=Object.create(null),st(xo,this,e),this._inspectFont=t,n&&Object.assign(this,n),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(Rn(this.data),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let s;try{s=e.get(n)}catch(r){ln('getPathGenerator - ignoring character: "'.concat(r,'".'))}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}get black(){return nt(xo,this).black}get bold(){return nt(xo,this).bold}get disableFontFace(){var e;return null!==(e=nt(xo,this).disableFontFace)&&void 0!==e&&e}get fontExtraProperties(){var e;return null!==(e=nt(xo,this).fontExtraProperties)&&void 0!==e&&e}get isInvalidPDFjsFont(){return nt(xo,this).isInvalidPDFjsFont}get isType3Font(){return nt(xo,this).isType3Font}get italic(){return nt(xo,this).italic}get missingFile(){return nt(xo,this).missingFile}get remeasure(){return nt(xo,this).remeasure}get vertical(){return nt(xo,this).vertical}get ascent(){return nt(xo,this).ascent}get defaultWidth(){return nt(xo,this).defaultWidth}get descent(){return nt(xo,this).descent}get bbox(){return nt(xo,this).bbox}get fontMatrix(){return nt(xo,this).fontMatrix}get fallbackName(){return nt(xo,this).fallbackName}get loadedName(){return nt(xo,this).loadedName}get mimetype(){return nt(xo,this).mimetype}get name(){return nt(xo,this).name}get data(){return nt(xo,this).data}clearData(){nt(xo,this).clearData()}get cssFontInfo(){return nt(xo,this).cssFontInfo}get systemFontInfo(){return nt(xo,this).systemFontInfo}get defaultVMetrics(){return nt(xo,this).defaultVMetrics}}function yo(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const wo=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,ko=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[s,i,...r]=n;if(!e(s)&&!Number.isInteger(s))return!1;if(!t(i))return!1;const a=r.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return 0===a;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(4!==a)return!1;o=!1;break;default:return!1}for(const l of r)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,wo,e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name));var jo=new WeakMap,_o=new WeakMap;class Ao{constructor(){Ze(this,jo,new Map),Ze(this,_o,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};nt(_o,this).then(()=>{for(const[e]of nt(jo,this))e.call(this,n)})}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void ln("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",r),i.addEventListener("abort",r)}nt(jo,this).set(t,s)}removeEventListener(e,t){const n=nt(jo,this).get(t);null===n||void 0===n||n(),nt(jo,this).delete(t)}terminate(){for(const[,e]of nt(jo,this))null===e||void 0===e||e();nt(jo,this).clear()}}const No=1,So=2,Co=1,Eo=2,Mo=3,Po=4,To=5,Ro=6,Do=7,Lo=8;function Io(){}function Fo(e){if(e instanceof yn||e instanceof vn||e instanceof fn||e instanceof xn||e instanceof gn)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||cn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new yn(e.message);case"InvalidPDFException":return new vn(e.message);case"PasswordException":return new fn(e.message,e.code);case"ResponseException":return new xn(e.message,e.status,e.missing);case"UnknownErrorException":return new gn(e.message,e.details)}return new gn(e.message,e.toString())}var Oo=new WeakMap,Bo=new WeakSet;class Wo{constructor(e,t,n){$e(this,Bo),Ze(this,Oo,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",et(Bo,this,zo).bind(this),{signal:nt(Oo,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(r){i.reject(r)}return i.promise}sendWithStream(e,t,n,s){const i=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:e,streamId:i,data:t,desiredSize:n.desiredSize},s),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:r,targetName:a,stream:Ro,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{dn(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:Co,streamId:i,reason:Fo(e)}),t.promise}},n)}destroy(){var e;null===(e=nt(Oo,this))||void 0===e||e.abort(),st(Oo,this,null)}}function zo(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void et(Bo,this,Ho).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===No)n.resolve(t.data);else{if(t.callback!==So)throw new Error("Unexpected callback case");n.reject(Fo(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,s=t.sourceName,i=this.comObj;return void Promise.try(n,t.data).then(function(n){i.postMessage({sourceName:e,targetName:s,callback:No,callbackId:t.callbackId,data:n})},function(n){i.postMessage({sourceName:e,targetName:s,callback:So,callbackId:t.callbackId,reason:Fo(n)})})}t.streamId?et(Bo,this,Uo).call(this,t):n(t.data)}function Uo(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,r=this,a=this.actionHandler[e.action],o={enqueue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:s,stream:Po,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:Mo,streamId:t}),delete r.streamSinks[t])},error(e){dn(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:To,streamId:t,reason:Fo(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(a,e.data,o).then(function(){i.postMessage({sourceName:n,targetName:s,stream:Lo,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:Lo,streamId:t,reason:Fo(e)})})}function Ho(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Lo:e.success?r.startCall.resolve():r.startCall.reject(Fo(e.reason));break;case Do:e.success?r.pullCall.resolve():r.pullCall.reject(Fo(e.reason));break;case Ro:if(!a){i.postMessage({sourceName:n,targetName:s,stream:Do,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||Io).then(function(){i.postMessage({sourceName:n,targetName:s,stream:Do,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:Do,streamId:t,reason:Fo(e)})});break;case Po:if(dn(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case Mo:if(dn(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),et(Bo,this,Vo).call(this,r,t);break;case To:dn(r,"error should have stream controller"),r.controller.error(Fo(e.reason)),et(Bo,this,Vo).call(this,r,t);break;case Eo:e.success?r.cancelCall.resolve():r.cancelCall.reject(Fo(e.reason)),et(Bo,this,Vo).call(this,r,t);break;case Co:if(!a)break;const o=Fo(e.reason);Promise.try(a.onCancel||Io,o).then(function(){i.postMessage({sourceName:n,targetName:s,stream:Eo,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:Eo,streamId:t,reason:Fo(e)})}),a.sinkCapability.reject(o),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function Vo(e,t){var n,s,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(s=e.pullCall)||void 0===s?void 0:s.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var Go=new WeakMap;class qo{constructor(e){let{enableHWA:t=!1}=e;Ze(this,Go,!1),st(Go,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!nt(Go,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){cn("Abstract method `_createCanvas` called.")}}class Xo extends qo{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Yo{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(e){cn("Abstract method `_fetch` called.")}}class Ko extends Yo{async _fetch(e){const t=await On(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):kn(t)}}class Jo{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,i){return"none"}destroy(){}}var Qo=new WeakMap,$o=new WeakMap,Zo=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,sl=new WeakMap,il=new WeakSet;class rl extends Jo{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),$e(this,il),Ze(this,Qo,void 0),Ze(this,$o,void 0),Ze(this,Zo,void 0),Ze(this,el,void 0),Ze(this,tl,void 0),Ze(this,nl,void 0),Ze(this,sl,0),st(el,this,t),st(tl,this,n)}addFilter(e){var t,n;if(!e)return"none";let s=tt(il,this,al).get(e);if(s)return s;const[i,r,a]=et(il,this,cl).call(this,e),o=1===e.length?i:"".concat(i).concat(r).concat(a);if(s=tt(il,this,al).get(o),s)return tt(il,this,al).set(e,s),s;const l="g_".concat(nt(el,this),"_transfer_map_").concat((st(sl,this,(t=nt(sl,this),n=t++,t)),n)),c=et(il,this,dl).call(this,l);tt(il,this,al).set(e,c),tt(il,this,al).set(o,c);const d=et(il,this,pl).call(this,l);return et(il,this,fl).call(this,i,r,a,d),c}addHCMFilter(e,t){var n;const s="".concat(e,"-").concat(t),i="base";let r=tt(il,this,ol).get(i);if((null===(n=r)||void 0===n?void 0:n.key)===s)return r.url;var a;r?(null===(a=r.filter)||void 0===a||a.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},tt(il,this,ol).set(i,r));if(!e||!t)return r.url;const o=et(il,this,vl).call(this,e);e=An.makeHexColor(...o);const l=et(il,this,vl).call(this,t);if(t=An.makeHexColor(...l),tt(il,this,ll).style.color="","#000000"===e&&"#ffffff"===t||e===t)return r.url;const c=new Array(256);for(let m=0;m<=255;m++){const e=m/255;c[m]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),h="g_".concat(nt(el,this),"_hcm_filter"),u=r.filter=et(il,this,pl).call(this,h);et(il,this,fl).call(this,d,d,d,u),et(il,this,ul).call(this,u);const p=(e,t)=>{const n=o[e]/255,s=l[e]/255,i=new Array(t+1);for(let r=0;r<=t;r++)i[r]=n+r/t*(s-n);return i.join(",")};return et(il,this,fl).call(this,p(0,5),p(1,5),p(2,5),u),r.url=et(il,this,dl).call(this,h),r.url}addAlphaFilter(e){var t,n;let s=tt(il,this,al).get(e);if(s)return s;const[i]=et(il,this,cl).call(this,[e]),r="alpha_".concat(i);if(s=tt(il,this,al).get(r),s)return tt(il,this,al).set(e,s),s;const a="g_".concat(nt(el,this),"_alpha_map_").concat((st(sl,this,(t=nt(sl,this),n=t++,t)),n)),o=et(il,this,dl).call(this,a);tt(il,this,al).set(e,o),tt(il,this,al).set(r,o);const l=et(il,this,pl).call(this,a);return et(il,this,gl).call(this,i,l),o}addLuminosityFilter(e){var t,n;let s,i,r=tt(il,this,al).get(e||"luminosity");if(r)return r;if(e?([s]=et(il,this,cl).call(this,[e]),i="luminosity_".concat(s)):i="luminosity",r=tt(il,this,al).get(i),r)return tt(il,this,al).set(e,r),r;const a="g_".concat(nt(el,this),"_luminosity_map_").concat((st(sl,this,(t=nt(sl,this),n=t++,t)),n)),o=et(il,this,dl).call(this,a);tt(il,this,al).set(e,o),tt(il,this,al).set(i,o);const l=et(il,this,pl).call(this,a);return et(il,this,hl).call(this,l),e&&et(il,this,gl).call(this,s,l),o}addHighlightHCMFilter(e,t,n,s,i){var r;const a="".concat(t,"-").concat(n,"-").concat(s,"-").concat(i);let o=tt(il,this,ol).get(e);if((null===(r=o)||void 0===r?void 0:r.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},tt(il,this,ol).set(e,o));if(!t||!n)return o.url;const[c,d]=[t,n].map(et(il,this,vl).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,i].map(et(il,this,vl).bind(this));u<h&&([h,u,p,m]=[u,h,m,p]),tt(il,this,ll).style.color="";const f=(e,t,n)=>{const s=new Array(256),i=(u-h)/n,r=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(h+l*i),t=r+l*a;for(let n=o;n<=e;n++)s[n]=t;o=e+1}for(let l=o;l<256;l++)s[l]=s[o-1];return s.join(",")},g="g_".concat(nt(el,this),"_hcm_").concat(e,"_filter"),v=o.filter=et(il,this,pl).call(this,g);return et(il,this,ul).call(this,v),et(il,this,fl).call(this,f(p[0],m[0],5),f(p[1],m[1],5),f(p[2],m[2],5),v),o.url=et(il,this,dl).call(this,g),o.url}destroy(){var e,t,n,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=nt(nl,this))&&void 0!==e&&e.size||(null===(t=nt(Zo,this))||void 0===t||t.parentNode.parentNode.remove(),st(Zo,this,null),null===(n=nt($o,this))||void 0===n||n.clear(),st($o,this,null),null===(s=nt(nl,this))||void 0===s||s.clear(),st(nl,this,null),st(sl,this,0))}}function al(e){return nt($o,e)||st($o,e,new Map)}function ol(e){return nt(nl,e)||st(nl,e,new Map)}function ll(e){if(!nt(Zo,e)){const t=nt(tl,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=nt(tl,e).createElementNS(In,"svg");s.setAttribute("width",0),s.setAttribute("height",0),st(Zo,e,nt(tl,e).createElementNS(In,"defs")),t.append(s),s.append(nt(Zo,e)),nt(tl,e).body.append(t)}return nt(Zo,e)}function cl(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const s=n.join(",");return[s,s,s]}const[t,n,s]=e,i=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,r[o]=n[o]/255,a[o]=s[o]/255;return[i.join(","),r.join(","),a.join(",")]}function dl(e){if(void 0===nt(Qo,this)){st(Qo,this,"");const e=nt(tl,this).URL;e!==nt(tl,this).baseURI&&(zn(e)?ln('#createUrl: ignore "data:"-URL for performance reasons.'):st(Qo,this,un(e,"")))}return"url(".concat(nt(Qo,this),"#").concat(e,")")}function hl(e){const t=nt(tl,this).createElementNS(In,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function ul(e){const t=nt(tl,this).createElementNS(In,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function pl(e){const t=nt(tl,this).createElementNS(In,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),tt(il,this,ll).append(t),t}function ml(e,t,n){const s=nt(tl,this).createElementNS(In,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),e.append(s)}function fl(e,t,n,s){const i=nt(tl,this).createElementNS(In,"feComponentTransfer");s.append(i),et(il,this,ml).call(this,i,"feFuncR",e),et(il,this,ml).call(this,i,"feFuncG",t),et(il,this,ml).call(this,i,"feFuncB",n)}function gl(e,t){const n=nt(tl,this).createElementNS(In,"feComponentTransfer");t.append(n),et(il,this,ml).call(this,n,"feFuncA",e)}function vl(e){return tt(il,this,ll).style.color=e,Kn(getComputedStyle(tt(il,this,ll)).getPropertyValue("color"))}class xl{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(e){cn("Abstract method `_fetch` called.")}}class bl extends xl{async _fetch(e){const t=await On(e,"arraybuffer");return new Uint8Array(t)}}class yl{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(e){cn("Abstract method `_fetch` called.")}}class wl extends yl{async _fetch(e){const t=await On(e,"arraybuffer");return new Uint8Array(t)}}async function kl(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}jt&&ln("Please use the `legacy` build in Node.js environments.");class jl extends Jo{}class _l extends qo{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///D:/imp/research/researc_paper1/node_modules/react-pdf/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class Al extends Yo{async _fetch(e){return kl(e)}}class Nl extends xl{async _fetch(e){return kl(e)}}class Sl extends yl{async _fetch(e){return kl(e)}}const Cl="__forcedDependency",{floor:El,ceil:Ml}=Math;function Pl(e,t,n,s,i,r){e[4*t+0]=Math.min(e[4*t+0],n),e[4*t+1]=Math.min(e[4*t+1],s),e[4*t+2]=Math.max(e[4*t+2],i),e[4*t+3]=Math.max(e[4*t+3],r)}const Tl=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Rl=new WeakMap,Dl=new WeakMap;class Ll{constructor(e,t){Ze(this,Rl,void 0),Ze(this,Dl,void 0),st(Rl,this,e),st(Dl,this,t)}get length(){return nt(Rl,this).length}isEmpty(e){return nt(Rl,this)[e]===Tl}minX(e){return nt(Dl,this)[4*e+0]/256}minY(e){return nt(Dl,this)[4*e+1]/256}maxX(e){return(nt(Dl,this)[4*e+2]+1)/256}maxY(e){return(nt(Dl,this)[4*e+3]+1)/256}}const Il=(e,t)=>{if(!e)return;let n=e.get(t);return n||(n={dependencies:new Set,isRenderingOperation:!1},e.set(t,n)),n};var Fl=new WeakMap,Ol=new WeakMap,Bl=new WeakMap,Wl=new WeakMap,zl=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,ql=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,$l=new WeakMap,Zl=new WeakMap,ec=new WeakSet;class tc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$e(this,ec),Ze(this,Fl,{__proto__:null}),Ze(this,Ol,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Cl]:[]}),Ze(this,Bl,new Map),Ze(this,Wl,[]),Ze(this,zl,[]),Ze(this,Ul,[[1,0,0,1,0,0]]),Ze(this,Hl,[-1/0,-1/0,1/0,1/0]),Ze(this,Vl,new Float64Array([1/0,1/0,-1/0,-1/0])),Ze(this,Gl,-1),Ze(this,ql,new Set),Ze(this,Xl,new Map),Ze(this,Yl,new Map),Ze(this,Kl,void 0),Ze(this,Jl,void 0),Ze(this,Ql,void 0),Ze(this,$l,void 0),Ze(this,Zl,void 0),st(Kl,this,e.width),st(Jl,this,e.height),et(ec,this,nc).call(this,t),n&&st(Zl,this,new Map)}growOperationsCount(e){e>=nt($l,this).length&&et(ec,this,nc).call(this,e,nt($l,this))}save(e){return st(Fl,this,{__proto__:nt(Fl,this)}),st(Ol,this,{__proto__:nt(Ol,this),transform:{__proto__:nt(Ol,this).transform},moveText:{__proto__:nt(Ol,this).moveText},sameLineText:{__proto__:nt(Ol,this).sameLineText},[Cl]:{__proto__:nt(Ol,this)[Cl]}}),st(Hl,this,{__proto__:nt(Hl,this)}),nt(Wl,this).push(e),this}restore(e){const t=Object.getPrototypeOf(nt(Fl,this));if(null===t)return this;st(Fl,this,t),st(Ol,this,Object.getPrototypeOf(nt(Ol,this))),st(Hl,this,Object.getPrototypeOf(nt(Hl,this)));const n=nt(Wl,this).pop();var s;void 0!==n&&(null===(s=Il(nt(Zl,this),e))||void 0===s||s.dependencies.add(n),nt($l,this)[e]=nt($l,this)[n]);return this}recordOpenMarker(e){return nt(Wl,this).push(e),this}getOpenMarker(){return 0===nt(Wl,this).length?null:nt(Wl,this).at(-1)}recordCloseMarker(e){const t=nt(Wl,this).pop();var n;void 0!==t&&(null===(n=Il(nt(Zl,this),e))||void 0===n||n.dependencies.add(t),nt($l,this)[e]=nt($l,this)[t]);return this}beginMarkedContent(e){return nt(zl,this).push(e),this}endMarkedContent(e){const t=nt(zl,this).pop();var n;void 0!==t&&(null===(n=Il(nt(Zl,this),e))||void 0===n||n.dependencies.add(t),nt($l,this)[e]=nt($l,this)[t]);return this}pushBaseTransform(e){return nt(Ul,this).push(An.multiplyByDOMMatrix(nt(Ul,this).at(-1),e.getTransform())),this}popBaseTransform(){return nt(Ul,this).length>1&&nt(Ul,this).pop(),this}recordSimpleData(e,t){return nt(Fl,this)[e]=t,this}recordIncrementalData(e,t){return nt(Ol,this)[e].push(t),this}resetIncrementalData(e,t){return nt(Ol,this)[e].length=0,this}recordNamedData(e,t){return nt(Bl,this).set(e,t),this}recordSimpleDataFromNamed(e,t,n){var s;nt(Fl,this)[e]=null!==(s=nt(Bl,this).get(t))&&void 0!==s?s:n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Cl,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in nt(Fl,this)&&this.recordFutureForcedDependency(t,nt(Fl,this)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of nt(ql,this))this.recordFutureForcedDependency(Cl,e);return this}resetBBox(e){return nt(Gl,this)!==e&&(st(Gl,this,e),nt(Vl,this)[0]=1/0,nt(Vl,this)[1]=1/0,nt(Vl,this)[2]=-1/0,nt(Vl,this)[3]=-1/0),this}recordClipBox(e,t,n,s,i,r){const a=An.multiplyByDOMMatrix(nt(Ul,this).at(-1),t.getTransform()),o=[1/0,1/0,-1/0,-1/0];An.axialAlignedBoundingBox([n,i,s,r],a,o);const l=An.intersect(nt(Hl,this),o);return l?(nt(Hl,this)[0]=l[0],nt(Hl,this)[1]=l[1],nt(Hl,this)[2]=l[2],nt(Hl,this)[3]=l[3]):(nt(Hl,this)[0]=nt(Hl,this)[1]=1/0,nt(Hl,this)[2]=nt(Hl,this)[3]=-1/0),this}recordBBox(e,t,n,s,i,r){const a=nt(Hl,this);if(a[0]===1/0)return this;const o=An.multiplyByDOMMatrix(nt(Ul,this).at(-1),t.getTransform());if(a[0]===-1/0)return An.axialAlignedBoundingBox([n,i,s,r],o,nt(Vl,this)),this;const l=[1/0,1/0,-1/0,-1/0];return An.axialAlignedBoundingBox([n,i,s,r],o,l),nt(Vl,this)[0]=Math.min(nt(Vl,this)[0],Math.max(l[0],a[0])),nt(Vl,this)[1]=Math.min(nt(Vl,this)[1],Math.max(l[1],a[1])),nt(Vl,this)[2]=Math.max(nt(Vl,this)[2],Math.min(l[2],a[2])),nt(Vl,this)[3]=Math.max(nt(Vl,this)[3],Math.min(l[3],a[3])),this}recordCharacterBBox(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&nt(Yl,this).get(n),!1!==l&&(c=[0,0,0,0],An.axialAlignedBoundingBox(o,n.fontMatrix,c),1===s&&0===i&&0===r||An.scaleMinMax([s,0,0,-s,i,r],c),l)))return this.recordBBox(e,t,c[0],c[2],c[1],c[3]);if(!a)return this.recordFullPageBBox(e);const d=a();return o&&c&&void 0===l&&(l=c[0]<=i-d.actualBoundingBoxLeft&&c[2]>=i+d.actualBoundingBoxRight&&c[1]<=r-d.actualBoundingBoxAscent&&c[3]>=r+d.actualBoundingBoxDescent,nt(Yl,this).set(n,l),l)?this.recordBBox(e,t,c[0],c[2],c[1],c[3]):this.recordBBox(e,t,i-d.actualBoundingBoxLeft,i+d.actualBoundingBoxRight,r-d.actualBoundingBoxAscent,r+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return nt(Vl,this)[0]=Math.max(0,nt(Hl,this)[0]),nt(Vl,this)[1]=Math.max(0,nt(Hl,this)[1]),nt(Vl,this)[2]=Math.min(nt(Kl,this),nt(Hl,this)[2]),nt(Vl,this)[3]=Math.min(nt(Jl,this),nt(Hl,this)[3]),this}getSimpleIndex(e){return nt(Fl,this)[e]}recordDependencies(e,t){const n=nt(ql,this),s=nt(Fl,this),i=nt(Ol,this);for(const r of t)r in nt(Fl,this)?n.add(s[r]):r in i&&i[r].forEach(n.add,n);return this}recordNamedDependency(e,t){return nt(Bl,this).has(t)&&nt(ql,this).add(nt(Bl,this).get(t)),this}recordOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(e,[Cl]),nt(Zl,this)){const t=Il(nt(Zl,this),e),{dependencies:n}=t;nt(ql,this).forEach(n.add,n),nt(Wl,this).forEach(n.add,n),nt(zl,this).forEach(n.add,n),n.delete(e),t.isRenderingOperation=!0}if(nt(Gl,this)===e){const n=El(256*nt(Vl,this)[0]/nt(Kl,this)),s=El(256*nt(Vl,this)[1]/nt(Jl,this)),i=Ml(256*nt(Vl,this)[2]/nt(Kl,this)),r=Ml(256*nt(Vl,this)[3]/nt(Jl,this));Pl(nt(Ql,this),e,n,s,i,r);for(const t of nt(ql,this))t!==e&&Pl(nt(Ql,this),t,n,s,i,r);for(const t of nt(Wl,this))t!==e&&Pl(nt(Ql,this),t,n,s,i,r);for(const t of nt(zl,this))t!==e&&Pl(nt(Ql,this),t,n,s,i,r);t||(nt(ql,this).clear(),st(Gl,this,-1))}return this}recordShowTextOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(nt(ql,this));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const s of n)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return nt(Gl,this)===e&&(st(Gl,this,-1),nt(Hl,this)[0]=Math.max(nt(Hl,this)[0],nt(Vl,this)[0]),nt(Hl,this)[1]=Math.max(nt(Hl,this)[1],nt(Vl,this)[1]),nt(Hl,this)[2]=Math.min(nt(Hl,this)[2],nt(Vl,this)[2]),nt(Hl,this)[3]=Math.min(nt(Hl,this)[3],nt(Vl,this)[3]),t||nt(ql,this).clear()),this}_takePendingDependencies(){const e=nt(ql,this);return st(ql,this,new Set),e}_extractOperation(e){const t=nt(Xl,this).get(e);return nt(Xl,this).delete(e),t}_pushPendingDependencies(e){for(const t of e)nt(ql,this).add(t)}take(){return nt(Yl,this).clear(),new Ll(nt($l,this),nt(Ql,this))}takeDebugMetadata(){return nt(Zl,this)}}function nc(e,t){const n=new ArrayBuffer(4*e);st(Ql,this,new Uint8ClampedArray(n)),st($l,this,new Uint32Array(n)),t&&t.length>0?(nt($l,this).set(t),nt($l,this).fill(Tl,t.length)):nt($l,this).fill(Tl)}var sc=new WeakMap,ic=new WeakMap,rc=new WeakMap,ac=new WeakMap,oc=new WeakMap;class lc{constructor(e,t,n){if(Ze(this,sc,void 0),Ze(this,ic,void 0),Ze(this,rc,void 0),Ze(this,ac,0),Ze(this,oc,0),e instanceof lc&&nt(rc,e)===!!n)return e;st(sc,this,e),st(ic,this,t),st(rc,this,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){var t;return st(oc,this,(t=nt(oc,this),t++,t)),nt(sc,this).save(nt(ic,this)),this}restore(e){var t;nt(oc,this)>0&&(nt(sc,this).restore(nt(ic,this)),st(oc,this,(t=nt(oc,this),t--,t)));return this}recordOpenMarker(e){var t;return st(ac,this,(t=nt(ac,this),t++,t)),this}getOpenMarker(){return nt(ac,this)>0?nt(ic,this):nt(sc,this).getOpenMarker()}recordCloseMarker(e){var t;return st(ac,this,(t=nt(ac,this),t--,t)),this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return nt(sc,this).pushBaseTransform(e),this}popBaseTransform(){return nt(sc,this).popBaseTransform(),this}recordSimpleData(e,t){return nt(sc,this).recordSimpleData(e,nt(ic,this)),this}recordIncrementalData(e,t){return nt(sc,this).recordIncrementalData(e,nt(ic,this)),this}resetIncrementalData(e,t){return nt(sc,this).resetIncrementalData(e,nt(ic,this)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return nt(sc,this).recordSimpleDataFromNamed(e,t,nt(ic,this)),this}recordFutureForcedDependency(e,t){return nt(sc,this).recordFutureForcedDependency(e,nt(ic,this)),this}inheritSimpleDataAsFutureForcedDependencies(e){return nt(sc,this).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return nt(sc,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return nt(rc,this)||nt(sc,this).resetBBox(nt(ic,this)),this}recordClipBox(e,t,n,s,i,r){return nt(rc,this)||nt(sc,this).recordClipBox(nt(ic,this),t,n,s,i,r),this}recordBBox(e,t,n,s,i,r){return nt(rc,this)||nt(sc,this).recordBBox(nt(ic,this),t,n,s,i,r),this}recordCharacterBBox(e,t,n,s,i,r,a){return nt(rc,this)||nt(sc,this).recordCharacterBBox(nt(ic,this),t,n,s,i,r,a),this}recordFullPageBBox(e){return nt(rc,this)||nt(sc,this).recordFullPageBBox(nt(ic,this)),this}getSimpleIndex(e){return nt(sc,this).getSimpleIndex(e)}recordDependencies(e,t){return nt(sc,this).recordDependencies(nt(ic,this),t),this}recordNamedDependency(e,t){return nt(sc,this).recordNamedDependency(nt(ic,this),t),this}recordOperation(e){return nt(sc,this).recordOperation(nt(ic,this),!0),this}recordShowTextOperation(e){return nt(sc,this).recordShowTextOperation(nt(ic,this),!0),this}bboxToClipBoxDropOperation(e){return nt(rc,this)||nt(sc,this).bboxToClipBoxDropOperation(nt(ic,this),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const cc=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],dc=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],hc=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],uc=["filter","fillColor","fillAlpha"],pc=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],mc=["transform"],fc=["transform","fillColor"],gc="Fill",vc="Stroke",xc="Shading";function bc(e,t){if(!t)return;const n=t[2]-t[0],s=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,s),e.clip(i)}class yc{isModifyingCurrentTransform(){return!1}getPattern(){cn("Abstract method `getPattern` called.")}}class wc extends yc{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let i;if(s===vc||s===gc){const r=t.current.getClippedPathBoundingBox(s,Jn(e))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=An.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),bc(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);i.setTransform(d)}else bc(e,this._bbox),i=this._createGradient(e);return i}}function kc(e,t,n,s,i,r,a,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[n+1]>l[s+1]&&(u=n,n=s,s=u,u=r,r=a,a=u),l[s+1]>l[i+1]&&(u=s,s=i,i=u,u=a,a=o,o=u),l[n+1]>l[s+1]&&(u=n,n=s,s=u,u=r,r=a,a=u);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,f=(l[s]+t.offsetX)*t.scaleX,g=(l[s+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,x=(l[i+1]+t.offsetY)*t.scaleY;if(m>=x)return;const b=c[r],y=c[r+1],w=c[r+2],k=c[a],j=c[a+1],_=c[a+2],A=c[o],N=c[o+1],S=c[o+2],C=Math.round(m),E=Math.round(x);let M,P,T,R,D,L,I,F;for(let O=C;O<=E;O++){if(O<g){const e=O<m?0:(m-O)/(m-g);M=p-(p-f)*e,P=b-(b-k)*e,T=y-(y-j)*e,R=w-(w-_)*e}else{let e;e=O>x?1:g===x?0:(g-O)/(g-x),M=f-(f-v)*e,P=k-(k-A)*e,T=j-(j-N)*e,R=_-(_-S)*e}let e;e=O<m?0:O>x?1:(m-O)/(m-x),D=p-(p-v)*e,L=b-(b-A)*e,I=y-(y-N)*e,F=w-(w-S)*e;const t=Math.round(Math.min(M,D)),n=Math.round(Math.max(M,D));let s=h*O+4*t;for(let i=t;i<=n;i++)e=(M-i)/(M-D),e<0?e=0:e>1&&(e=1),d[s++]=P-(P-L)*e|0,d[s++]=T-(T-I)*e|0,d[s++]=R-(R-F)*e|0,d[s++]=255}}function jc(e,t,n){const s=t.coords,i=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<c;r++,t++)kc(e,n,s[t],s[t+1],s[t+o],i[t],i[t+1],i[t+o]),kc(e,n,s[t+o+1],s[t+1],s[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(r=0,a=s.length;r<a;r+=3)kc(e,n,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class _c extends yc{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const s=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-s,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(r*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=r/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-i,scaleX:1/c,scaleY:1/d},u=o+4,p=l+4,m=n.getCanvas("mesh",u,p),f=m.context,g=f.createImageData(o,l);if(t){const e=g.data;for(let n=0,s=e.length;n<s;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)jc(g,v,h);f.putImageData(g,2,2);return{canvas:m.canvas,offsetX:s-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,s){bc(e,this._bbox);const i=new Float32Array(2);if(s===xc)An.singularValueDecompose2dScale(Jn(e),i);else if(this.matrix){An.singularValueDecompose2dScale(this.matrix,i);const[e,n]=i;An.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=e,i[1]*=n}else An.singularValueDecompose2dScale(t.baseTransform,i);const r=this._createMeshCanvas(i,s===xc?null:this._background,t.cachedCanvases);return s!==xc&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class Ac extends yc{getPattern(){return"hotpink"}}const Nc=1,Sc=2;class Cc{constructor(e,t,n,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(e,t){var n,s;const{bbox:i,operatorList:r,paintType:a,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),on("TilingType: "+o);const u=i[0],p=i[1],m=i[2],f=i[3],g=m-u,v=f-p,x=new Float32Array(2);An.singularValueDecompose2dScale(this.matrix,x);const[b,y]=x;An.singularValueDecompose2dScale(this.baseTransform,x);const w=b*x[0],k=y*x[1];let j=g,_=v,A=!1,N=!1;const S=Math.ceil(d*w),C=Math.ceil(h*k);S>=Math.ceil(g*w)?j=d:A=!0,C>=Math.ceil(v*k)?_=h:N=!0;const E=this.getSizeAndScale(j,this.ctx.canvas.width,w),M=this.getSizeAndScale(_,this.ctx.canvas.height,k),P=e.cachedCanvases.getCanvas("pattern",E.size,M.size),T=P.context,R=c.createCanvasGraphics(T,t);if(R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,a,l),T.translate(-E.scale*u,-M.scale*p),R.transform(0,E.scale,0,0,M.scale,0,0),T.save(),null===(n=R.dependencyTracker)||void 0===n||n.save(),this.clipBbox(R,u,p,m,f),R.baseTransform=Jn(R.ctx),R.executeOperatorList(r),R.endDrawing(),null===(s=R.dependencyTracker)||void 0===s||s.restore(),T.restore(),A||N){const t=P.canvas;A&&(j=d),N&&(_=h);const n=this.getSizeAndScale(j,this.ctx.canvas.width,w),s=this.getSizeAndScale(_,this.ctx.canvas.height,k),i=n.size,r=s.size,a=e.cachedCanvases.getCanvas("pattern-workaround",i,r),o=a.context,l=A?Math.floor(g/d):0,c=N?Math.floor(v/h):0;for(let e=0;e<=l;e++)for(let n=0;n<=c;n++)o.drawImage(t,i*e,r*n,i,r,0,0,i,r);return{canvas:a.canvas,scaleX:n.scale,scaleY:s.scale,offsetX:u,offsetY:p}}return{canvas:P.canvas,scaleX:E.scale,scaleY:M.scale,offsetX:u,offsetY:p}}getSizeAndScale(e,t,n){const s=Math.max(Cc.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=s?i=s:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,s,i){const r=s-t,a=i-n;e.ctx.rect(t,n,r,a),An.axialAlignedBoundingBox([t,n,s,i],Jn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,i=e.current;switch(t){case Nc:const{fillStyle:e,strokeStyle:r}=this.ctx;s.fillStyle=i.fillColor=e,s.strokeStyle=i.strokeColor=r;break;case Sc:s.fillStyle=s.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new bn("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,s,i){let r=n;s!==xc&&(r=An.transform(r,t.baseTransform),this.matrix&&(r=An.transform(r,this.matrix)));const a=this.createPatternCanvas(t,i);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}}function Ec(e){let{src:t,srcPos:n=0,dest:s,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=jn.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],h=i>>3,u=7&i,p=t.length;s=new Uint32Array(s.buffer);let m=0;for(let f=0;f<r;f++){for(const i=n+h;n<i;n++){const e=n<p?t[n]:255;s[m++]=128&e?d:c,s[m++]=64&e?d:c,s[m++]=32&e?d:c,s[m++]=16&e?d:c,s[m++]=8&e?d:c,s[m++]=4&e?d:c,s[m++]=2&e?d:c,s[m++]=1&e?d:c}if(0===u)continue;const e=n<p?t[n++]:255;for(let t=0;t<u;t++)s[m++]=e&1<<7-t?d:c}return{srcPos:n,destPos:m}}Xe(Cc,"MAX_PATTERN_SIZE",3e3);const Mc=16,Pc=new DOMMatrix,Tc=new Float32Array(2),Rc=new Float32Array([1/0,1/0,-1/0,-1/0]);class Dc{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return void 0!==this.cache[e]?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Lc(e,t,n,s,i,r,a,o,l,c){const[d,h,u,p,m,f]=Jn(e);if(0===h&&0===u){const g=a*d+m,v=Math.round(g),x=o*p+f,b=Math.round(x),y=(a+l)*d+m,w=Math.abs(Math.round(y)-v)||1,k=(o+c)*p+f,j=Math.abs(Math.round(k)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,b),e.drawImage(t,n,s,i,r,0,0,w,j),e.setTransform(d,h,u,p,m,f),[w,j]}if(0===d&&0===p){const g=o*u+m,v=Math.round(g),x=a*h+f,b=Math.round(x),y=(o+c)*u+m,w=Math.abs(Math.round(y)-v)||1,k=(a+l)*h+f,j=Math.abs(Math.round(k)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,v,b),e.drawImage(t,n,s,i,r,0,0,j,w),e.setTransform(d,h,u,p,m,f),[j,w]}e.drawImage(t,n,s,i,r,a,o,l,c);return[Math.hypot(d,h)*l,Math.hypot(u,p)*c]}class Ic{constructor(e,t,n){Xe(this,"alphaIsShape",!1),Xe(this,"fontSize",0),Xe(this,"fontSizeScale",1),Xe(this,"textMatrix",null),Xe(this,"textMatrixScale",1),Xe(this,"fontMatrix",_t),Xe(this,"leading",0),Xe(this,"x",0),Xe(this,"y",0),Xe(this,"lineX",0),Xe(this,"lineY",0),Xe(this,"charSpacing",0),Xe(this,"wordSpacing",0),Xe(this,"textHScale",1),Xe(this,"textRenderingMode",Ot),Xe(this,"textRise",0),Xe(this,"fillColor","#000000"),Xe(this,"strokeColor","#000000"),Xe(this,"patternFill",!1),Xe(this,"patternStroke",!1),Xe(this,"fillAlpha",1),Xe(this,"strokeAlpha",1),Xe(this,"lineWidth",1),Xe(this,"activeSMask",null),Xe(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Rc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(e===vc){t||cn("Stroke bounding box must include transform."),An.singularValueDecompose2dScale(t,Tc);const e=Tc[0]*this.lineWidth/2,s=Tc[1]*this.lineWidth/2;n[0]-=e,n[1]-=s,n[2]+=e,n[3]+=s}return n}updateClipFromPath(){const e=An.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Rc,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return An.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Fc(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,s=t.width,i=n%Mc,r=(n-i)/Mc,a=0===i?r:r+1,o=e.createImageData(s,Mc);let l,c=0;const d=t.data,h=o.data;let u,p,m,f;if(t.kind===Vt.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),f=n.length,g=s+7>>3,v=4294967295,x=jn.isLittleEndian?4278190080:255;for(u=0;u<a;u++){for(m=u<r?Mc:i,l=0,p=0;p<m;p++){const e=t-c;let i=0;const r=e>g?s:8*e-7,a=-8&r;let o=0,h=0;for(;i<a;i+=8)h=d[c++],n[l++]=128&h?v:x,n[l++]=64&h?v:x,n[l++]=32&h?v:x,n[l++]=16&h?v:x,n[l++]=8&h?v:x,n[l++]=4&h?v:x,n[l++]=2&h?v:x,n[l++]=1&h?v:x;for(;i<r;i++)0===o&&(h=d[c++],o=128),n[l++]=h&o?v:x,o>>=1}for(;l<f;)n[l++]=0;e.putImageData(o,0,u*Mc)}}else if(t.kind===Vt.RGBA_32BPP){for(p=0,f=s*Mc*4,u=0;u<r;u++)h.set(d.subarray(c,c+f)),c+=f,e.putImageData(o,0,p),p+=Mc;u<a&&(f=s*i*4,h.set(d.subarray(c,c+f)),e.putImageData(o,0,p))}else{if(t.kind!==Vt.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=Mc,f=s*m,u=0;u<a;u++){for(u>=r&&(m=i,f=s*m),l=0,p=f;p--;)h[l++]=d[c++],h[l++]=d[c++],h[l++]=d[c++],h[l++]=255;e.putImageData(o,0,u*Mc)}}}function Oc(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,s=t.width,i=n%Mc,r=(n-i)/Mc,a=0===i?r:r+1,o=e.createImageData(s,Mc);let l=0;const c=t.data,d=o.data;for(let h=0;h<a;h++){const t=h<r?Mc:i;({srcPos:l}=Ec({src:c,srcPos:l,dest:d,width:s,height:t,nonBlackColor:0})),e.putImageData(o,0,h*Mc)}}function Bc(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of n)void 0!==e[s]&&(t[s]=e[s]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Wc(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function zc(e,t){if(t)return!0;An.singularValueDecompose2dScale(e,Tc);const n=Math.fround(Zn.pixelRatio*Fn.PDF_TO_CSS_UNITS);return Tc[0]<=n&&Tc[1]<=n}const Uc=["butt","round","square"],Hc=["miter","round","bevel"],Vc={},Gc={};var qc=new WeakSet;class Xc{constructor(e,t,n,s,i,r,a,o,l){let{optionalContentConfig:c,markedContentStack:d=null}=r;$e(this,qc),this.ctx=e,this.current=new Ic(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new Dc(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var s;return"string"===typeof t?(null===(s=this.dependencyTracker)||void 0===s||s.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing(e){let{transform:t,viewport:n,transparency:s=!1,background:i=null}=e;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,s){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Jn(this.compositeCtx))}this.ctx.save(),Wc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Jn(this.ctx)}executeOperatorList(e,t,n,s,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let h=0;const u=this.commonObjs,p=this.objs;let m,f;for(;;){if(void 0!==s&&o===s.nextBreakPoint)return s.breakIt(o,n),o;var g;if(!i||i(o))if(m=a[o],f=null!==(g=r[o])&&void 0!==g?g:null,m!==$t.dependency)null===f?this[m](o):this[m](o,...f);else for(const e of f){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(e,o);const t=e.startsWith("g_")?u:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>d)return n(),o;h=0}}}endDrawing(){et(qc,this,Yc).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),et(qc,this,Kc).call(this)}_scaleImage(e,t){var n,s;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,r=null!==(s=e.height)&&void 0!==s?s:e.displayHeight;let a,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=i,h=r,u="prescale1";for(;l>2&&d>1||c>2&&h>1;){let t=d,n=h;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),a=this.cachedCanvases.getCanvas(u,t,n),o=a.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,d,h,0,0,t,n),e=a.canvas,d=t,h=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e,t){var n;const s=this.ctx,{width:i,height:r}=t,a=this.current.fillColor,o=this.current.patternFill,l=Jn(s);let c,d,h,u;if((t.bitmap||t.data)&&t.count>1){const n=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const s=c.get(d);if(s&&!o){var p;const t=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(p=this.dependencyTracker)||void 0===p||p.recordDependencies(e,fc),{canvas:s,offsetX:t,offsetY:n}}h=s}h||(u=this.cachedCanvases.getCanvas("maskCanvas",i,r),Oc(u.context,t));let m=An.transform(l,[1/i,0,0,-1/r,0,0]);m=An.transform(m,[1,0,0,1,0,-r]);const f=Rc.slice();An.axialAlignedBoundingBox([0,0,i,r],m,f);const[g,v,x,b]=f,y=Math.round(x-g)||1,w=Math.round(b-v)||1,k=this.cachedCanvases.getCanvas("fillCanvas",y,w),j=k.context,_=g,A=v;j.translate(-_,-A),j.transform(...m),h||(h=this._scaleImage(u.canvas,Qn(j)),h=h.img,c&&o&&c.set(d,h)),j.imageSmoothingEnabled=zc(Jn(j),t.interpolate),Lc(j,h,0,0,h.width,h.height,0,0,i,r),j.globalCompositeOperation="source-in";const N=An.transform(Qn(j),[1,0,0,1,-_,-A]);return j.fillStyle=o?a.getPattern(s,this,N,gc,e):a,j.fillRect(0,0,i,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,k.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,fc),{canvas:k.canvas,offsetX:Math.round(_),offsetY:Math.round(A)}}setLineWidth(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Uc[t]}setLineJoin(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Hc[t]}setMiterLimit(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("dash",e);const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,s,i,r,a;for(const[o,l]of t)switch(o){case"LW":this.setLineWidth(e,l);break;case"LC":this.setLineCap(e,l);break;case"LJ":this.setLineJoin(e,l);break;case"ML":this.setMiterLimit(e,l);break;case"D":this.setDash(e,l[0],l[1]);break;case"RI":this.setRenderingIntent(e,l);break;case"FL":this.setFlatness(e,l);break;case"Font":this.setFont(e,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=l;break;case"ca":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("SMask",e),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=i.context;r.setTransform(this.suspendedCtx.getTransform()),Bc(this.suspendedCtx,r),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,s,i,r,a){t.transform(e,n,s,i,r,a),this.__originalTransform(e,n,s,i,r,a)},e.setTransform=function(e,n,s,i,r,a){t.setTransform(e,n,s,i,r,a),this.__originalSetTransform(e,n,s,i,r,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,s,i,r,a){t.bezierCurveTo(e,n,s,i,r,a),this.__originalBezierCurveTo(e,n,s,i,r,a)},e.rect=function(e,n,s,i){t.rect(e,n,s,i),this.__originalRect(e,n,s,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Bc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const i=s[0],r=s[1],a=s[2]-i,o=s[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,i,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,i,r,a,o,l,c,d){let h=e.canvas,u=o-c,p=l-d;if(r)if(u<0||p<0||u+n>h.width||p+s>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,s),t=e.context;t.drawImage(h,-u,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(0,0,n,s),t.globalCompositeOperation="source-over",h=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(u,p,n,s),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(u,p,n,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(o,l,n,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,u,p,n,s,o,l,n,s),t.restore()}save(e){var t;this.inSMaskMode&&Bc(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(t=this.dependencyTracker)||void 0===t||t.save(e)}restore(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.restore(e),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Bc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,s,i,r,a){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",e),this.ctx.transform(t,n,s,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,s){let[i]=n;if(!s)return i||(i=n[0]=new Path2D),void this[t](e,i);if(null!==this.dependencyTracker){const n=t===$t.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,s[0]-n,s[2]+n,s[1]-n,s[3]+n).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const e=n[0]=new Path2D;for(let t=0,n=i.length;t<n;)switch(i[t++]){case Zt:e.moveTo(i[t++],i[t++]);break;case en:e.lineTo(i[t++],i[t++]);break;case tn:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case nn:e.closePath();break;default:ln("Unrecognized drawing path operator: ".concat(i[t-1]))}i=e}An.axialAlignedBoundingBox(s,Jn(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t){var n;let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const n=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Qn(i),vc,e),n){const e=new Path2D;e.addPath(t,i.getTransform().invertSelf().multiplySelf(n)),t=e}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,cc),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(vc,Jn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t){var n;let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.fillColor;let a=!1;if(this.current.patternFill){var o;const n=r.isModifyingCurrentTransform()?i.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(e),i.save(),i.fillStyle=r.getPattern(i,this,Qn(i),gc,e),n){const e=new Path2D;e.addPath(t,i.getTransform().invertSelf().multiplySelf(n)),t=e}a=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,dc),a)&&(i.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(e));s&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,uc).recordOperation(e)}clip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Vc}eoClip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Gc}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(t=this.dependencyTracker)||void 0===t||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==t&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",e),n.recordCloseMarker(e)}if(void 0!==t){const e=new Path2D,s=n.getTransform().invertSelf();for(const{transform:n,x:i,y:r,fontSize:a,path:o}of t)o&&e.addPath(o,new DOMMatrix(n).preMultiplySelf(s).translate(i,r).scale(a,-a));n.clip(e)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var s,i;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),a=this.current;if(!r)throw new Error("Can't find font for ".concat(t));if(a.fontMatrix=r.fontMatrix||_t,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||ln("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=(null===(i=r.systemFontInfo)||void 0===i?void 0:i.css)||'"'.concat(o,'", ').concat(r.fallbackName);let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(d," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var s;null===(s=this.dependencyTracker)||void 0===s||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){var t,n;this.moveText(e,0,this.current.leading),null===(t=this.dependencyTracker)||void 0===t||t.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:e)}paintChar(e,t,n,s,i,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&Ut,u=!!(c&Ht),p=o.patternFill&&!l.missingFile,m=o.patternStroke&&!l.missingFile;let f;if((l.disableFontFace||u||p||m)&&!l.missingFile&&(f=l.getPathGenerator(this.commonObjs,t)),f&&(l.disableFontFace||p||m)){var g;let t;if(a.save(),a.translate(n,s),a.scale(d,-d),null===(g=this.dependencyTracker)||void 0===g||g.recordCharacterBBox(e,a,l),h===Ot||h===Wt)if(i){t=a.getTransform(),a.setTransform(...i);const e=et(qc,this,Jc).call(this,f,t,i);a.fill(e)}else a.fill(f);if(h===Bt||h===Wt)if(r){t||(t=a.getTransform()),a.setTransform(...r);const{a:e,b:n,c:s,d:i}=t,o=An.inverseTransform(r),l=An.transform([e,n,s,i,0,0],o);An.singularValueDecompose2dScale(l,Tc),a.lineWidth*=Math.max(Tc[0],Tc[1])/d,a.stroke(et(qc,this,Jc).call(this,f,t,r))}else a.lineWidth/=d,a.stroke(f);a.restore()}else{var v;if(h===Ot||h===Wt)a.fillText(t,n,s),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(e,a,l,d,n,s,()=>a.measureText(t));if(h===Bt||h===Wt){var x;if(this.dependencyTracker)null===(x=this.dependencyTracker)||void 0===x||x.recordCharacterBBox(e,a,l,d,n,s,()=>a.measureText(t)).recordDependencies(e,cc);a.strokeText(t,n,s)}}if(u){var b;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Jn(a),x:n,y:s,fontSize:d,path:f}),null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(e,a,l,d,n,s)}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return pn(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,pc).resetBBox(e),this.current.textRenderingMode&Ht&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,i=s.font;var r;if(i.isType3Font)return this.showType3Text(e,t),void(null===(r=this.dependencyTracker)||void 0===r||r.recordShowTextOperation(e));const a=s.fontSize;var o;if(0===a)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(e));const l=this.ctx,c=s.fontSizeScale,d=s.charSpacing,h=s.wordSpacing,u=s.fontDirection,p=s.textHScale*u,m=t.length,f=i.vertical,g=f?1:-1,v=i.defaultVMetrics,x=a*s.fontMatrix[0],b=s.textRenderingMode===Ot&&!i.disableFontFace&&!s.patternFill;let y,w;if(l.save(),s.textMatrix&&l.transform(...s.textMatrix),l.translate(s.x,s.y+s.textRise),u>0?l.scale(p,-1):l.scale(p,1),s.patternFill){l.save();const t=s.fillColor.getPattern(l,this,Qn(l),gc,e);y=Jn(l),l.restore(),l.fillStyle=t}if(s.patternStroke){l.save();const t=s.strokeColor.getPattern(l,this,Qn(l),vc,e);w=Jn(l),l.restore(),l.strokeStyle=t}let k=s.lineWidth;const j=s.textMatrixScale;if(0===j||0===k){const e=s.textRenderingMode&Ut;e!==Bt&&e!==Wt||(k=this.getSinglePixelWidth())}else k/=j;if(1!==c&&(l.scale(c,c),k/=c),l.lineWidth=k,i.isInvalidPDFjsFont){const n=[];let i=0;for(const e of t)n.push(e.unicode),i+=e.width;const r=n.join("");if(l.fillText(r,0,0),null!==this.dependencyTracker){const t=l.measureText(r);this.dependencyTracker.recordBBox(e,this.ctx,-t.actualBoundingBoxLeft,t.actualBoundingBoxRight,-t.actualBoundingBoxAscent,t.actualBoundingBoxDescent).recordShowTextOperation(e)}return s.x+=i*x*p,l.restore(),void this.compose()}let _,A=0;for(_=0;_<m;++_){const n=t[_];if("number"===typeof n){A+=g*n*a/1e3;continue}let s=!1;const r=(n.isSpace?h:0)+d,o=n.fontChar,p=n.accent;let m,k,j,S=n.width;if(f){const e=n.vmetric||v,t=-(n.vmetric?e[1]:.5*S)*x,s=e[2]*x;S=e?-e[0]:S,m=t/c,k=(A+s)/c}else m=A/c,k=0;if(i.remeasure&&S>0){j=l.measureText(o);const e=1e3*j.width/a*c;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;s=!0,l.save(),l.scale(t,1),m/=t}else S!==e&&(m+=(S-e)/2e3*a/c)}var N;if(this.contentVisible&&(n.isInFont||i.missingFile))if(b&&!p)l.fillText(o,m,k),null===(N=this.dependencyTracker)||void 0===N||N.recordCharacterBBox(e,l,j?{bbox:null}:i,a/c,m,k,()=>null!==j&&void 0!==j?j:l.measureText(o));else if(this.paintChar(e,o,m,k,y,w),p){const t=m+a*p.offset.x/c,n=k-a*p.offset.y/c;this.paintChar(e,p.fontChar,t,n,y,w)}A+=f?S*x-r*u:S*x+r*u,s&&l.restore()}f?s.y-=A:s.x+=A*p,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,s=this.current,i=s.font,r=s.fontSize,a=s.fontDirection,o=i.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,d=s.textHScale*a,h=s.fontMatrix||_t,u=t.length;let p,m,f,g;if(s.textRenderingMode===zt||0===r)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(d,a);const v=this.dependencyTracker;for(this.dependencyTracker=v?new lc(v,e):null,p=0;p<u;++p){if(m=t[p],"number"===typeof m){g=o*m*r/1e3,this.ctx.translate(g,0),s.x+=g*d;continue}const e=(m.isSpace?c:0)+l,a=i.charProcOperatorList[m.operatorListId];a?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...h),this.executeOperatorList(a),this.restore()):ln('Type3 character "'.concat(m.operatorListId,'" is not available.'));const u=[m.width,0];An.applyTransform(u,h),f=u[0]*r+e,n.translate(f,0),s.x+=f*d}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,s,i,r,a){var o;const l=new Path2D;l.rect(s,i,r-s,a-i),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,this.ctx,s,r,i,a).recordClipBox(e,this.ctx,s,r,i,a),this.endPath(e)}getColorN_Pattern(e,t){let n;if("TilingPattern"===t[0]){const e=this.baseTransform||Jn(this.ctx),s={createCanvasGraphics:(e,t)=>new Xc(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new lc(this.dependencyTracker,t,!0):null)};n=new Cc(t,this.ctx,s,e)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];this.current.strokeColor=this.getColorN_Pattern(e,s),this.current.patternStroke=!0}setFillColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];this.current.fillColor=this.getColorN_Pattern(e,s),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=function(e){switch(e[0]){case"RadialAxial":return new wc(e);case"Mesh":return new _c(e);case"Dummy":return new Ac}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e,t)),this.cachedPatterns.set(t,n)),s&&(n.matrix=s),n}shadingFill(e,t){var n;if(!this.contentVisible)return;const s=this.ctx;this.save(e);const i=this._getPattern(e,t);s.fillStyle=i.getPattern(s,this,Qn(s),xc,e);const r=Qn(s);if(r){const{width:e,height:t}=s.canvas,n=Rc.slice();An.axialAlignedBoundingBox([0,0,e,t],r,n);const[i,a,o,l]=n;this.ctx.fillRect(i,a,o-i,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,mc).recordDependencies(e,dc).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){cn("Should not call beginInlineImage")}beginImageData(){cn("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Jn(this.ctx),n)){var s;An.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[t,i,r,a]=n,o=new Path2D;o.rect(t,i,r-t,a-i),this.ctx.clip(o),null===(s=this.dependencyTracker)||void 0===s||s.recordClipBox(e,this.ctx,t,r,i,a),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var n;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||on("TODO: Support non-isolated groups."),t.knockout&&ln("Knockout groups not supported.");const i=Jn(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Rc.slice();An.axialAlignedBoundingBox(t.bbox,Jn(s),r);const a=[0,0,s.canvas.width,s.canvas.height];r=An.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,c,d),p=u.context;p.translate(-o,-l),p.transform(...i);let m=new Path2D;const[f,g,v,x]=t.bbox;if(m.rect(f,g,v-f,x-g),t.matrix){const e=new Path2D;e.addPath(m,new DOMMatrix(t.matrix)),m=e}p.clip(m),t.smask&&this.smaskStack.push({canvas:u.canvas,context:p,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),t.smask&&!this.dependencyTracker||(s.setTransform(1,0,0,1,0,0),s.translate(o,l),s.save()),Bc(s,p),this.ctx=p,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){var n;if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const t=Jn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...t);const n=Rc.slice();An.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],t,n),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,i,r){if(et(qc,this,Yc).call(this),Wc(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const i=n[2]-n[0],a=n[3]-n[1];if(r&&this.annotationCanvasMap){(s=s.slice())[4]-=n[0],s[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=i,n[3]=a,An.singularValueDecompose2dScale(Jn(this.ctx),Tc);const{viewportScale:e}=this,r=Math.ceil(i*this.outputScaleX*e),o=Math.ceil(a*this.outputScaleY*e);this.annotationCanvas=this.canvasFactory.create(r,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(t,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(Tc[0],0,0,-Tc[1],0,a*Tc[1]),Wc(this.ctx)}else{Wc(this.ctx),this.endPath(e);const t=new Path2D;t.rect(n[0],n[1],i,a),this.ctx.clip(t)}}this.current=new Ic(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...s),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),et(qc,this,Kc).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var n;if(!this.contentVisible)return;const s=t.count;(t=this.getObject(e,t.data,t)).count=s;const i=this.ctx,r=this._createMaskCanvas(e,t),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n){var s,i;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=Jn(c);c.transform(n,r,a,o,0,0);const h=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e);for(let p=0,m=l.length;p<m;p+=2){var u;const t=An.transform(d,[n,r,a,o,l[p],l[p+1]]);c.drawImage(h.canvas,t[4],t[5]),null===(u=this.dependencyTracker)||void 0===u||u.recordBBox(e,this.ctx,t[4],t[4]+h.canvas.width,t[5],t[5]+h.canvas.height)}c.restore(),this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var n,s;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordDependencies(e,fc);for(const l of t){var o;const{data:t,width:n,height:s,transform:c}=l,d=this.cachedCanvases.getCanvas("maskCanvas",n,s),h=d.context;h.save();Oc(h,this.getObject(e,t,l)),h.globalCompositeOperation="source-in",h.fillStyle=a?r.getPattern(h,this,Qn(i),gc,e):r,h.fillRect(0,0,n,s),h.restore(),i.save(),i.transform(...c),i.scale(1,-1),Lc(i,d.canvas,0,0,n,s,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,i,0,n,0,s),i.restore()}this.compose(),null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);n?this.paintInlineImageXObject(e,n):ln("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,s,i){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r)return void ln("Dependent image isn't ready yet");const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[n,0,0,s,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(e,r,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,s),r=i.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",i.canvas}paintInlineImageXObject(e,t){var n;if(!this.contentVisible)return;const s=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:a}=r;let o;if("none"!==a&&""!==a&&(r.filter="none"),r.scale(1/s,-1/i),t.bitmap)o=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const e=this.cachedCanvases.getCanvas("inlineImage",s,i).context;Fc(e,t),o=this.applyTransferMapsToCanvas(e)}const l=this._scaleImage(o,Qn(r));r.imageSmoothingEnabled=zc(Jn(r),t.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordBBox(e,r,0,s,-i,0).recordDependencies(e,hc).recordOperation(e),Lc(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,s,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var s,i;if(!this.contentVisible)return;const r=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const e=t.width,n=t.height,s=this.cachedCanvases.getCanvas("inlineImage",e,n).context;Fc(s,t),a=this.applyTransferMapsToCanvas(s)}null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e);for(const l of n){var o;r.save(),r.transform(...l.transform),r.scale(1,-1),Lc(r,a,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,r,0,1,-1,0),r.restore()}null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&(null===(t=this.dependencyTracker)||void 0===t||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,dc).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var s;null===(s=this.dependencyTracker)||void 0===s||s.beginMarkedContent(e),"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;var r,a;this.pendingClip?(s||(this.pendingClip===Gc?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,null===(r=this.dependencyTracker)||void 0===r||r.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(e);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Jn(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:i}=this.ctx.getTransform();let r,a;if(0===n&&0===s){const n=Math.abs(t),s=Math.abs(i);if(n===s)if(0===e)r=a=1/n;else{const t=n*e;r=a=t<1?1/t:1}else if(0===e)r=1/n,a=1/s;else{const t=n*e,i=s*e;r=t<1?1/t:1,a=i<1?1/i:1}}else{const o=Math.abs(t*i-n*s),l=Math.hypot(t,n),c=Math.hypot(s,i);if(0===e)r=c/o,a=l/o;else{const t=e*o;r=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:s}}=this,[i,r]=this.getScaleForStroking();if(i===r)return n.lineWidth=(s||1)*i,void n.stroke(e);const a=n.getLineDash();t&&n.save(),n.scale(i,r),Pc.a=1/i,Pc.d=1/r;const o=new Path2D;if(o.addPath(e,Pc),a.length>0){const e=Math.max(i,r);n.setLineDash(a.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=s||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function Yc(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Kc(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function Jc(e,t,n){const s=new Path2D;return s.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),s}for(const n in $t)void 0!==Xc.prototype[n]&&(Xc.prototype[$t[n]]=Xc.prototype[n]);var Qc=new WeakMap,$c=new WeakMap,Zc=new WeakMap,ed=new WeakSet;class td{static write(e){const t=new TextEncoder,n={};let s=0;for(const l of td.strings){const i=t.encode(e[l]);n[l]=i,s+=4+i.length}const i=new ArrayBuffer(s),r=new Uint8Array(i),a=new DataView(i);let o=0;for(const l of td.strings){const e=n[l],t=e.length;a.setUint32(o,t),r.set(e,o+4),o+=4+t}return dn(o===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}constructor(e){$e(this,ed),Ze(this,Qc,void 0),Ze(this,$c,void 0),Ze(this,Zc,void 0),st(Qc,this,e),st($c,this,new DataView(nt(Qc,this))),st(Zc,this,new TextDecoder)}get fontFamily(){return et(ed,this,nd).call(this,0)}get fontWeight(){return et(ed,this,nd).call(this,1)}get italicAngle(){return et(ed,this,nd).call(this,2)}}function nd(e){dn(e<dt.strings.length,"Invalid string index");let t=0;for(let s=0;s<e;s++)t+=nt($c,this).getUint32(t)+4;const n=nt($c,this).getUint32(t);return nt(Zc,this).decode(new Uint8Array(nt(Qc,this),t+4,n))}dt=td,Xe(td,"strings",["fontFamily","fontWeight","italicAngle"]);var sd=new WeakMap,id=new WeakMap,rd=new WeakMap,ad=new WeakSet;class od{static write(e){const t=new TextEncoder,n={};let s=0;for(const h of od.strings){const i=t.encode(e[h]);n[h]=i,s+=4+i.length}s+=4;let i,r,a=1+s;e.style&&(i=t.encode(e.style.style),r=t.encode(e.style.weight),a+=4+i.length+4+r.length);const o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;c.setUint8(d++,e.guessFallback?1:0),c.setUint32(d,0),d+=4,s=0;for(const h of od.strings){const e=n[h],t=e.length;s+=4+t,c.setUint32(d,t),l.set(e,d+4),d+=4+t}return c.setUint32(d-s-4,s),e.style&&(c.setUint32(d,i.length),l.set(i,d+4),d+=4+i.length,c.setUint32(d,r.length),l.set(r,d+4),d+=4+r.length),dn(d<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(d)}constructor(e){$e(this,ad),Ze(this,sd,void 0),Ze(this,id,void 0),Ze(this,rd,void 0),st(sd,this,e),st(id,this,new DataView(nt(sd,this))),st(rd,this,new TextDecoder)}get guessFallback(){return 0!==nt(id,this).getUint8(0)}get css(){return et(ad,this,ld).call(this,0)}get loadedName(){return et(ad,this,ld).call(this,1)}get baseFontName(){return et(ad,this,ld).call(this,2)}get src(){return et(ad,this,ld).call(this,3)}get style(){let e=1;e+=4+nt(id,this).getUint32(e);const t=nt(id,this).getUint32(e),n=nt(rd,this).decode(new Uint8Array(nt(sd,this),e+4,t));e+=4+t;const s=nt(id,this).getUint32(e);return{style:n,weight:nt(rd,this).decode(new Uint8Array(nt(sd,this),e+4,s))}}}function ld(e){dn(e<ht.strings.length,"Invalid string index");let t=5;for(let s=0;s<e;s++)t+=nt(id,this).getUint32(t)+4;const n=nt(id,this).getUint32(t);return nt(rd,this).decode(new Uint8Array(nt(sd,this),t+4,n))}ht=od,Xe(od,"strings",["css","loadedName","baseFontName","src"]);var cd=new WeakMap,dd=new WeakMap,hd=new WeakMap,ud=new WeakSet;class pd{constructor(e){let{data:t,extra:n}=e;$e(this,ud),Ze(this,cd,void 0),Ze(this,dd,void 0),Ze(this,hd,void 0),st(cd,this,t),st(dd,this,new TextDecoder),st(hd,this,new DataView(nt(cd,this))),n&&Object.assign(this,n)}get black(){return et(ud,this,md).call(this,0)}get bold(){return et(ud,this,md).call(this,1)}get disableFontFace(){return et(ud,this,md).call(this,2)}get fontExtraProperties(){return et(ud,this,md).call(this,3)}get isInvalidPDFjsFont(){return et(ud,this,md).call(this,4)}get isType3Font(){return et(ud,this,md).call(this,5)}get italic(){return et(ud,this,md).call(this,6)}get missingFile(){return et(ud,this,md).call(this,7)}get remeasure(){return et(ud,this,md).call(this,8)}get vertical(){return et(ud,this,md).call(this,9)}get ascent(){return et(ud,this,fd).call(this,0)}get defaultWidth(){return et(ud,this,fd).call(this,1)}get descent(){return et(ud,this,fd).call(this,2)}get bbox(){let e=xd._;if(0===nt(hd,this).getUint8(e))return;e+=1;const t=[];for(let n=0;n<4;n++)t.push(nt(hd,this).getInt16(e,!0)),e+=2;return t}get fontMatrix(){let e=bd._;if(0===nt(hd,this).getUint8(e))return;e+=1;const t=[];for(let n=0;n<6;n++)t.push(nt(hd,this).getFloat64(e,!0)),e+=8;return t}get defaultVMetrics(){let e=yd._;if(0===nt(hd,this).getUint8(e))return;e+=1;const t=[];for(let n=0;n<3;n++)t.push(nt(hd,this).getInt16(e,!0)),e+=2;return t}get fallbackName(){return et(ud,this,gd).call(this,0)}get loadedName(){return et(ud,this,gd).call(this,1)}get mimetype(){return et(ud,this,gd).call(this,2)}get name(){return et(ud,this,gd).call(this,3)}get data(){let e=wd._;e+=4+nt(hd,this).getUint32(e);e+=4+nt(hd,this).getUint32(e);e+=4+nt(hd,this).getUint32(e);const t=nt(hd,this).getUint32(e);if(0!==t)return new Uint8Array(nt(cd,this),e+4,t)}clearData(){let e=wd._;e+=4+nt(hd,this).getUint32(e);e+=4+nt(hd,this).getUint32(e);e+=4+nt(hd,this).getUint32(e);const t=nt(hd,this).getUint32(e);new Uint8Array(nt(cd,this),e+4,t).fill(0),nt(hd,this).setUint32(e,0)}get cssFontInfo(){let e=wd._;e+=4+nt(hd,this).getUint32(e);e+=4+nt(hd,this).getUint32(e);const t=nt(hd,this).getUint32(e);if(0===t)return null;const n=new Uint8Array(t);return n.set(new Uint8Array(nt(cd,this),e+4,t)),new td(n.buffer)}get systemFontInfo(){let e=wd._;e+=4+nt(hd,this).getUint32(e);const t=nt(hd,this).getUint32(e);if(0===t)return null;const n=new Uint8Array(t);return n.set(new Uint8Array(nt(cd,this),e+4,t)),new od(n.buffer)}static write(e){const t=e.systemFontInfo?od.write(e.systemFontInfo):null,n=e.cssFontInfo?td.write(e.cssFontInfo):null,s=new TextEncoder,i={};let r=0;for(const m of pd.strings)i[m]=s.encode(e[m]),r+=4+i[m].length;const a=wd._+4+r+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;const h=pd.bools.length;let u=0,p=0;for(let m=0;m<h;m++){const t=e[pd.bools[m]];u|=(void 0===t?0:t?2:1)<<p,p+=2,8!==p&&m!==h-1||(c.setUint8(d++,u),u=0,p=0)}dn(d===vd._,"FontInfo.write: Boolean properties offset mismatch");for(const m of pd.numbers)c.setFloat64(d,e[m]),d+=8;if(dn(d===xd._,"FontInfo.write: Number properties offset mismatch"),e.bbox){c.setUint8(d++,4);for(const t of e.bbox)c.setInt16(d,t,!0),d+=2}else c.setUint8(d++,0),d+=8;if(dn(d===bd._,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){c.setUint8(d++,6);for(const t of e.fontMatrix)c.setFloat64(d,t,!0),d+=8}else c.setUint8(d++,0),d+=48;if(dn(d===yd._,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){c.setUint8(d++,1);for(const t of e.defaultVMetrics)c.setInt16(d,t,!0),d+=2}else c.setUint8(d++,0),d+=6;dn(d===wd._,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(wd._,0),d+=4;for(const m of pd.strings){const e=i[m],t=e.length;c.setUint32(d,t),l.set(e,d+4),d+=4+t}if(c.setUint32(wd._,d-wd._-4),t){const e=t.byteLength;c.setUint32(d,e),dn(d+4+e<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(t),d+4),d+=4+e}else c.setUint32(d,0),d+=4;if(n){const e=n.byteLength;c.setUint32(d,e),dn(d+4+e<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),d+4),d+=4+e}else c.setUint32(d,0),d+=4;return void 0===e.data?(c.setUint32(d,0),d+=4):(c.setUint32(d,e.data.length),l.set(e.data,d+4),d+=4+e.data.length),dn(d<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(d)}}function md(e){dn(e<ut.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=2*e%8,s=nt(hd,this).getUint8(t)>>n&3;return 0===s?void 0:2===s}function fd(e){return dn(e<ut.numbers.length,"Invalid number index"),nt(hd,this).getFloat64(vd._+8*e)}function gd(e){dn(e<ut.strings.length,"Invalid string index");let t=wd._+4;for(let i=0;i<e;i++)t+=nt(hd,this).getUint32(t)+4;const n=nt(hd,this).getUint32(t),s=new Uint8Array(n);return s.set(new Uint8Array(nt(cd,this),t+4,n)),nt(dd,this).decode(s)}ut=pd,Xe(pd,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Xe(pd,"numbers",["ascent","defaultWidth","descent"]),Xe(pd,"strings",["fallbackName","loadedName","mimetype","name"]);var vd={_:Math.ceil(2*ut.bools.length/8)},xd={_:et(ut,ut,vd)._+8*ut.numbers.length},bd={_:et(ut,ut,xd)._+1+8},yd={_:et(ut,ut,bd)._+1+48},wd={_:et(ut,ut,yd)._+1+6};class kd{static get workerPort(){return et(kd,this,jd)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");jd._=et(kd,this,e)}static get workerSrc(){return et(kd,this,_d)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");_d._=et(kd,this,e)}}var jd={_:null},_d={_:""},Ad=new WeakMap,Nd=new WeakMap;class Sd{constructor(e){let{parsedData:t,rawData:n}=e;Ze(this,Ad,void 0),Ze(this,Nd,void 0),st(Ad,this,t),st(Nd,this,n)}getRaw(){return nt(Nd,this)}get(e){var t;return null!==(t=nt(Ad,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return nt(Ad,this).entries()}}const Cd=Symbol("INTERNAL");var Ed=new WeakMap,Md=new WeakMap,Pd=new WeakMap,Td=new WeakMap;class Rd{constructor(e,t){let{name:n,intent:s,usage:i,rbGroups:r}=t;Ze(this,Ed,!1),Ze(this,Md,!1),Ze(this,Pd,!1),Ze(this,Td,!0),st(Ed,this,!!(e&St)),st(Md,this,!!(e&Ct)),this.name=n,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(nt(Pd,this))return nt(Td,this);if(!nt(Td,this))return!1;const{print:e,view:t}=this.usage;return nt(Ed,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!nt(Md,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Cd&&cn("Internal method `_setVisible` called."),st(Pd,this,n),st(Td,this,t)}}var Dd=new WeakMap,Ld=new WeakMap,Id=new WeakMap,Fd=new WeakMap,Od=new WeakSet;class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;if($e(this,Od),Ze(this,Dd,null),Ze(this,Ld,new Map),Ze(this,Id,null),Ze(this,Fd,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,st(Fd,this,e.order);for(const n of e.groups)nt(Ld,this).set(n.id,new Rd(t,n));if("OFF"===e.baseState)for(const e of nt(Ld,this).values())e._setVisible(Cd,!1);for(const t of e.on)nt(Ld,this).get(t)._setVisible(Cd,!0);for(const t of e.off)nt(Ld,this).get(t)._setVisible(Cd,!1);st(Id,this,this.getHash())}}isVisible(e){if(0===nt(Ld,this).size)return!0;if(!e)return on("Optional content group not defined."),!0;if("OCG"===e.type)return nt(Ld,this).has(e.id)?nt(Ld,this).get(e.id).visible:(ln("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return et(Od,this,Wd).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!nt(Ld,this).has(t))return ln("Optional content group not found: ".concat(t)),!0;if(nt(Ld,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!nt(Ld,this).has(t))return ln("Optional content group not found: ".concat(t)),!0;if(!nt(Ld,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!nt(Ld,this).has(t))return ln("Optional content group not found: ".concat(t)),!0;if(!nt(Ld,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!nt(Ld,this).has(t))return ln("Optional content group not found: ".concat(t)),!0;if(nt(Ld,this).get(t).visible)return!1}return!0}return ln("Unknown optional content policy ".concat(e.policy,".")),!0}return ln("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=nt(Ld,this).get(e);if(s){if(n&&t&&s.rbGroups.length)for(const t of s.rbGroups)for(const n of t){var i;if(n!==e)null===(i=nt(Ld,this).get(n))||void 0===i||i._setVisible(Cd,!1,!0)}s._setVisible(Cd,!!t,!0),st(Dd,this,null)}else ln("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:s}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=nt(Ld,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,s);break;case"OFF":this.setVisibility(i,!1,s);break;case"Toggle":this.setVisibility(i,!e.visible,s)}}st(Dd,this,null)}get hasInitialVisibility(){return null===nt(Id,this)||this.getHash()===nt(Id,this)}getOrder(){return nt(Ld,this).size?nt(Fd,this)?nt(Fd,this).slice():[...nt(Ld,this).keys()]:null}getGroup(e){return nt(Ld,this).get(e)||null}getHash(){if(null!==nt(Dd,this))return nt(Dd,this);const e=new io;for(const[t,n]of nt(Ld,this))e.update("".concat(t,":").concat(n.visible));return st(Dd,this,e.hexdigest())}[Symbol.iterator](){return nt(Ld,this).entries()}}function Wd(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const t=e[s];let i;if(Array.isArray(t))i=et(Od,this,Wd).call(this,t);else{if(!nt(Ld,this).has(t))return ln("Optional content group not found: ".concat(t)),!0;i=nt(Ld,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class zd{constructor(e,t){let{disableRange:n=!1,disableStream:s=!1}=t;dn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===r||void 0===r?void 0:r.length)>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const s=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{dn(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(s),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,s,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(s=this._fullRequestReader)||void 0===s||null===(i=s.onProgress)||void 0===i||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){dn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ud(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Hd(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Ud{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=Un(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Hd{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Vd(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const s in t){const e=t[s];void 0!==e&&n.append(s,e)}return n}function Gd(e){var t,n;return null!==(t=null===(n=URL.parse(e))||void 0===n?void 0:n.origin)&&void 0!==t?t:null}function qd(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:s,disableRange:i}=e;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*s)return r;if(i||!n)return r;if("bytes"!==t.get("Accept-Ranges"))return r;return"identity"!==(t.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Xd(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=s("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),r(e)}if(n=function(e){const t=[];let n;const i=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,s,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[s,i]}const r=[];for(let s=0;s<t.length&&s in t;++s){let[e,n]=t[s];n=a(n),e&&(n=unescape(n),0===s&&(n=o(n))),r.push(n)}return r.join("")}(e),n)return r(l(n));if(n=s("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),r(e)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const s=new TextDecoder(e,{fatal:!0}),i=kn(n);n=s.decode(i),t=!1}catch(s){}}return n}function r(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,s){if("q"===n||"Q"===n)return i(t,s=(s=s.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{s=atob(s)}catch(r){}return i(t,s)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(Un(e))return e}return null}function Yd(e,t){return new xn("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function Kd(e){return 200===e||206===e}function Jd(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Qd(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ln("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class $d{constructor(e){Xe(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Vd(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return dn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Zd(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new eh(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Zd{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,Jd(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=Gd(t.url),!Kd(t.status))throw Yd(t.status,s);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:r}=qd({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=Xd(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Qd(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class eh{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const r=s.url;fetch(r,Jd(i,this._withCredentials,this._abortController)).then(t=>{const n=Gd(t.url);if(n!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(e._responseOrigin,'".'));if(!Kd(t.status))throw Yd(t.status,r);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:Qd(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class th{constructor(e){let{url:t,httpHeaders:n,withCredentials:s}=e;Xe(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Vd(this.isHttp,n),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,r]of this.headers)t.setRequestHeader(i,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),s.expectedStatus=206):s.expectedStatus=200,t.responseType="arraybuffer",dn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const s=this.pendingRequests[e];s&&(null===(n=s.onProgress)||void 0===n||n.call(s,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==s.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===s.status&&this.isHttp)return void n.onError(s.status);const i=s.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError(s.status);const r=function(e){const t=e.response;return"string"!==typeof t?t:kn(t).buffer}(s);if(206===i){const e=s.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:r}):(ln('Missing or invalid "Content-Range" header.'),n.onError(0))}else r?n.onDone({begin:0,chunk:r}):n.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class nh{constructor(e){this._source=e,this._manager=new th(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return dn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sh(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new ih(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class sh{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Gd(t.responseURL);const n=t.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:r}=qd({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Xd(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Yd(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ih{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Gd(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=Yd(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rh=/^[a-z][a-z0-9\-+.]+:/i;class ah{constructor(e){this.source=e,this.url=function(e){if(rh.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),dn("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return dn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new oh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new lh(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class oh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=Yd(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lh{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ch=Symbol("INITIAL_DATA");var dh=new WeakMap,hh=new WeakSet;class uh{constructor(){$e(this,hh),Ze(this,dh,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=et(hh,this,ph).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=nt(dh,this)[e];if(!n||n.data===ch)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=nt(dh,this)[e];return!!t&&t.data!==ch}delete(e){const t=nt(dh,this)[e];return!(!t||t.data===ch)&&(delete nt(dh,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=et(hh,this,ph).call(this,e);n.data=t,n.resolve()}clear(){for(const t in nt(dh,this)){var e;const{data:n}=nt(dh,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}st(dh,this,Object.create(null))}*[Symbol.iterator](){for(const e in nt(dh,this)){const{data:t}=nt(dh,this)[e];t!==ch&&(yield[e,t])}}}function ph(e){var t;return(t=nt(dh,this))[e]||(t[e]=Ke(Ke({},Promise.withResolvers()),{},{data:ch}))}var mh=new WeakMap,fh=new WeakMap,gh=new WeakMap,vh=new WeakMap,xh=new WeakMap,bh=new WeakMap,yh=new WeakMap,wh=new WeakMap,kh=new WeakMap,jh=new WeakMap,_h=new WeakMap,Ah=new WeakMap,Nh=new WeakMap,Sh=new WeakMap,Ch=new WeakMap,Eh=new WeakMap,Mh=new WeakMap,Ph=new WeakMap,Th=new WeakSet;class Rh{constructor(e){var t;let{textContentSource:n,container:s,viewport:i}=e;if($e(this,Th),Ze(this,mh,Promise.withResolvers()),Ze(this,fh,null),Ze(this,gh,!1),Ze(this,vh,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),Ze(this,xh,null),Ze(this,bh,null),Ze(this,yh,0),Ze(this,wh,0),Ze(this,kh,null),Ze(this,jh,null),Ze(this,_h,0),Ze(this,Ah,0),Ze(this,Nh,Object.create(null)),Ze(this,Sh,[]),Ze(this,Ch,null),Ze(this,Eh,[]),Ze(this,Mh,new WeakMap),Ze(this,Ph,null),n instanceof ReadableStream)st(Ch,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');st(Ch,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}st(fh,this,st(jh,this,s)),st(Ah,this,i.scale*Zn.pixelRatio),st(_h,this,i.rotation),st(bh,this,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:o,pageY:l}=i.rawDims;st(Ph,this,[1,0,0,-1,-o,l+a]),st(wh,this,r),st(yh,this,a),Bh.call(Rh),$n(s,i),nt(mh,this).promise.finally(()=>{Gh._.delete(this),st(bh,this,null),st(Nh,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=jn.platform;return pn(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{nt(kh,this).read().then(t=>{var n;let{value:s,done:i}=t;i?nt(mh,this).resolve():(null!==(n=nt(xh,this))&&void 0!==n||st(xh,this,s.lang),Object.assign(nt(Nh,this),s.styles),et(Th,this,Dh).call(this,s.items),e())},nt(mh,this).reject)};return st(kh,this,nt(Ch,this).getReader()),Gh._.add(this),e(),nt(mh,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const s=t.scale*Zn.pixelRatio,i=t.rotation;if(i!==nt(_h,this)&&(null===n||void 0===n||n(),st(_h,this,i),$n(nt(jh,this),{rotation:i})),s!==nt(Ah,this)){null===n||void 0===n||n(),st(Ah,this,s);const e={div:null,properties:null,ctx:Fh.call(Rh,nt(xh,this))};for(const t of nt(Eh,this))e.properties=nt(Mh,this).get(t),e.div=t,et(Th,this,Ih).call(this,e)}}cancel(){var e;const t=new yn("TextLayer task cancelled.");null===(e=nt(kh,this))||void 0===e||e.cancel(t).catch(()=>{}),st(kh,this,null),nt(mh,this).reject(t)}get textDivs(){return nt(Eh,this)}get textContentItemsStr(){return nt(Sh,this)}static cleanup(){if(!(et(Rh,this,Gh)._.size>0)){et(Rh,this,zh)._.clear();for(const{canvas:e}of et(Rh,this,Uh)._.values())e.remove();et(Rh,this,Uh)._.clear()}}}function Dh(e){var t,n;if(nt(gh,this))return;null!==(n=(t=nt(bh,this)).ctx)&&void 0!==n||(t.ctx=Fh.call(pt,nt(xh,this)));const s=nt(Eh,this),i=nt(Sh,this);for(const r of e){if(s.length>1e5)return ln("Ignoring additional textDivs for performance reasons."),void st(gh,this,!0);if(void 0!==r.str)i.push(r.str),et(Th,this,Lh).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const e=nt(fh,this);st(fh,this,document.createElement("span")),nt(fh,this).classList.add("markedContent"),r.id&&nt(fh,this).setAttribute("id","".concat(r.id)),e.append(nt(fh,this))}else"endMarkedContent"===r.type&&st(fh,this,nt(fh,this).parentNode)}}function Lh(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};nt(Eh,this).push(t);const s=An.transform(nt(Ph,this),e.transform);let i=Math.atan2(s[1],s[0]);const r=nt(Nh,this)[e.fontName];r.vertical&&(i+=Math.PI/2);let a=nt(vh,this)&&r.fontSubstitution||r.fontFamily;a=pt.fontFamilyMap.get(a)||a;const o=Math.hypot(s[2],s[3]),l=o*Wh.call(pt,a,r,nt(xh,this));let c,d;0===i?(c=s[4],d=s[5]-l):(c=s[4]+l*Math.sin(i),d=s[5]-l*Math.cos(i));const h="calc(var(--total-scale-factor) *",u=t.style;nt(fh,this)===nt(jh,this)?(u.left="".concat((100*c/nt(wh,this)).toFixed(2),"%"),u.top="".concat((100*d/nt(yh,this)).toFixed(2),"%")):(u.left="".concat(h).concat(c.toFixed(2),"px)"),u.top="".concat(h).concat(d.toFixed(2),"px)")),u.fontSize="".concat(h).concat((Vh._*o).toFixed(2),"px)"),u.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,nt(vh,this)&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=r.vertical?e.height:e.width),nt(Mh,this).set(t,n),nt(bh,this).div=t,nt(bh,this).properties=n,et(Th,this,Ih).call(this,nt(bh,this)),n.hasText&&nt(fh,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),nt(fh,this).append(e)}}function Ih(e){const{div:t,properties:n,ctx:s}=e,{style:i}=t;let r="";if(Vh._>1&&(r="scale(".concat(1/Vh._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:a,fontSize:o}=n;Oh.call(pt,s,o*nt(Ah,this),e);const{width:l}=s.measureText(t.textContent);l>0&&(r="scaleX(".concat(a*nt(Ah,this)/l,") ").concat(r))}0!==n.angle&&(r="rotate(".concat(n.angle,"deg) ").concat(r)),r.length>0&&(i.transform=r)}function Fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=et(pt,this,Uh)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),et(pt,this,Uh)._.set(e,t),et(pt,this,Hh)._.set(t,{size:0,family:""})}return t}function Oh(e,t,n){const s=et(pt,this,Hh)._.get(e);t===s.size&&n===s.family||(e.font="".concat(t,"px ").concat(n),s.size=t,s.family=n)}function Bh(){if(null!==et(pt,this,Vh)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Vh._=et(pt,this,e.getBoundingClientRect().height),e.remove()}function Wh(e,t,n){const s=et(pt,this,zh)._.get(e);if(s)return s;const i=et(pt,this,Fh).call(this,n);i.canvas.width=i.canvas.height=30,et(pt,this,Oh).call(this,i,30,e);const r=i.measureText(""),a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return a?l=a/(a+o):(jn.platform.isFirefox&&ln("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),et(pt,this,zh)._.set(e,l),l}pt=Rh;var zh={_:new Map},Uh={_:new Map},Hh={_:new WeakMap},Vh={_:null},Gh={_:new Set};function qh(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const s=new Xh,{docId:i}=s,r=n.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(jt)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,a=n.data?function(e){if(jt&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return kn(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(e=n.password)&&void 0!==e?e:null,d=n.range instanceof eu?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let u=n.worker instanceof hu?n.worker:null;const p=n.verbosity,m="string"!==typeof n.docBaseUrl||zn(n.docBaseUrl)?null:n.docBaseUrl,f=yo(n.cMapUrl),g=!1!==n.cMapPacked,v=n.CMapReaderFactory||(jt?Al:Ko),x=yo(n.iccUrl),b=yo(n.standardFontDataUrl),y=n.StandardFontDataFactory||(jt?Nl:bl),w=yo(n.wasmUrl),k=n.WasmFactory||(jt?Sl:wl),j=!0!==n.stopAtErrors,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=!1!==n.isEvalSupported,N="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!jt,S="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!jt&&(jn.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,E="boolean"===typeof n.disableFontFace?n.disableFontFace:jt,M=!0===n.fontExtraProperties,P=!0===n.enableXfa,T=n.ownerDocument||globalThis.document,R=!0===n.disableRange,D=!0===n.disableStream,L=!0===n.disableAutoFetch,I=!0===n.pdfBug,F=n.CanvasFactory||(jt?_l:Xo),O=n.FilterFactory||(jt?jl:rl),B=!0===n.enableHWA,W=!1!==n.useWasm,z=d?d.length:null!==(t=n.length)&&void 0!==t?t:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!jt&&!E,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Ko&&y===bl&&k===wl&&f&&b&&w&&Vn(f,document.baseURI)&&Vn(b,document.baseURI)&&Vn(w,document.baseURI));rn(p);const V={canvasFactory:new F({ownerDocument:T,enableHWA:B}),filterFactory:new O({docId:i,ownerDocument:T}),cMapReaderFactory:H?null:new v({baseUrl:f,isCompressed:g}),standardFontDataFactory:H?null:new y({baseUrl:b}),wasmFactory:H?null:new k({baseUrl:w})};u||(u=hu.create({verbosity:p,port:kd.workerPort}),s._worker=u);const G={docId:i,apiVersion:"5.4.296",data:a,password:c,disableAutoFetch:L,rangeChunkSize:h,length:z,docBaseUrl:m,enableXfa:P,evaluatorOptions:{maxImageSize:_,disableFontFace:E,ignoreErrors:j,isEvalSupported:A,isOffscreenCanvasSupported:N,isImageDecoderSupported:S,canvasMaxAreaInBytes:C,fontExtraProperties:M,useSystemFonts:U,useWasm:W,useWorkerFetch:H,cMapUrl:f,iccUrl:x,standardFontDataUrl:b,wasmUrl:w}},q={ownerDocument:T,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:L,enableXfa:P}};return u.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const e=u.messageHandler.sendWithPromise("GetDocRequest",G,a?[a.buffer]:null);let t;if(d)t=new zd(d,{disableRange:R,disableStream:D});else if(!a){if(!r)throw new Error("getDocument - no `url` parameter provided.");const e=Vn(r)?$d:jt?ah:nh;t=new e({url:r,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:R,disableStream:D})}return e.then(e=>{if(s.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const n=new Wo(i,e,u.port),r=new Nu(n,s,t,q,V,B);s._transport=r,n.send("Ready",null)})}).catch(s._capability.reject),s}class Xh{constructor(){Xe(this,"_capability",Promise.withResolvers()),Xe(this,"_transport",null),Xe(this,"_worker",null),Xe(this,"docId","d".concat((Yh._=(mt=Yh._,ft=mt++,mt),ft))),Xe(this,"destroyed",!1),Xe(this,"onPassword",null),Xe(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,n;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(i){var s;throw null!==(s=this._worker)&&void 0!==s&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Yh={_:0},Kh=new WeakMap,Jh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Zh=new WeakMap;class eu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ze(this,Kh,Promise.withResolvers()),Ze(this,Jh,[]),Ze(this,Qh,[]),Ze(this,$h,[]),Ze(this,Zh,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(e){nt(Zh,this).push(e)}addProgressListener(e){nt($h,this).push(e)}addProgressiveReadListener(e){nt(Qh,this).push(e)}addProgressiveDoneListener(e){nt(Jh,this).push(e)}onDataRange(e,t){for(const n of nt(Zh,this))n(e,t)}onDataProgress(e,t){nt(Kh,this).promise.then(()=>{for(const n of nt($h,this))n(e,t)})}onDataProgressiveRead(e){nt(Kh,this).promise.then(()=>{for(const t of nt(Qh,this))t(e)})}onDataProgressiveDone(){nt(Kh,this).promise.then(()=>{for(const e of nt(Jh,this))e()})}transportReady(){nt(Kh,this).resolve()}requestDataRange(e,t){cn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class tu{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var nu=new WeakMap,su=new WeakSet;class iu{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];$e(this,su),Ze(this,nu,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new Hn:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new uh,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bn({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n,s;let{canvasContext:i,canvas:r=i.canvas,viewport:a,intent:o="display",annotationMode:l=Dt.ENABLE,transform:c=null,background:d=null,optionalContentConfigPromise:h=null,annotationCanvasMap:u=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:f=!1,recordOperations:g=!1,operationsFilter:v=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const x=this._transport.getRenderingIntent(o,l,m,f),{renderingIntent:b,cacheKey:y}=x;st(nu,this,!1),h||(h=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(y);w||(w=Object.create(null),this._intentStates.set(y,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const k=!!(b&Ct);var j;w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(j=this._stats)||void 0===j||j.time("Page Request"),this._pumpOperatorList(x));const _=Boolean(this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),A=!this.recordedBBoxes&&(g||_),N=e=>{if(w.renderTasks.delete(S),A){var t;const e=null===(t=S.gfx)||void 0===t?void 0:t.dependencyTracker.take();e&&(S.stepper&&S.stepper.setOperatorBBoxes(e,S.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=e))}var n;(k&&st(nu,this,!0),et(su,this,ru).call(this),e?(S.capability.reject(e),this._abortOperatorList({intentState:w,reason:e instanceof Error?e:new Error(e)})):S.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(n=globalThis.Stats)&&void 0!==n&&n.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new Pu({callback:N,params:{canvas:r,canvasContext:i,dependencyTracker:A?new tc(r,w.operatorList.length,_):null,viewport:a,transform:c,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:v});((s=w).renderTasks||(s.renderTasks=new Set)).add(S);const C=S.task;return Promise.all([w.displayReadyCapability.promise,h]).then(e=>{var t;let[n,s]=e;if(this.destroyed)N();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(s.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:n,optionalContentConfig:s}),S.operatorListChanged()}}).catch(N),C}getOperatorList(){let{intent:e="display",annotationMode:t=Dt.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,s,!0);let r,a=this._intentStates.get(i.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>Dn.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const s=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){s.read().then(function(n){var s;let{value:r,done:a}=n;a?e(i):(null!==(s=i.lang)&&void 0!==s||(i.lang=r.lang),Object.assign(i.styles,r.styles),i.items.push(...r.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),st(nu,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];st(nu,this,!0);const t=et(su,this,ru).call(this);return e&&t&&this._stats&&(this._stats=new Hn),t}_startRenderPage(e,t){var n,s;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(s=i.displayReadyCapability)||void 0===s||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&et(su,this,ru).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:s,modifiedIds:i}=e;const{map:r,transfer:a}=s,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r,modifiedIds:i},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();et(su,this,ru).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:s=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(n instanceof Wn){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},e))}}if(t.streamReader.cancel(new yn(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function ru(){if(!nt(nu,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),st(nu,this,!1),!0}var au=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,du=new WeakSet;class hu{constructor(){let{name:e=null,port:t=null,verbosity:n=an()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if($e(this,du),Ze(this,au,Promise.withResolvers()),Ze(this,ou,null),Ze(this,lu,null),Ze(this,cu,null),this.name=e,this.destroyed=!1,this.verbosity=n,t){if(bu._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");bu._.set(t,this),et(du,this,pu).call(this,t)}else et(du,this,mu).call(this)}get promise(){return nt(au,this).promise}get port(){return nt(lu,this)}get messageHandler(){return nt(ou,this)}destroy(){var e,t;this.destroyed=!0,null===(e=nt(cu,this))||void 0===e||e.terminate(),st(cu,this,null),bu._.delete(nt(lu,this)),st(lu,this,null),null===(t=nt(ou,this))||void 0===t||t.destroy(),st(ou,this,null)}static create(e){const t=et(hu,this,bu)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new hu(e)}static get workerSrc(){if(kd.workerSrc)return kd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pn(this,"_setupFakeWorkerGlobal",(async()=>{if(tt(hu,this,gu))return tt(hu,this,gu);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function uu(){nt(au,this).resolve(),nt(ou,this).send("configure",{verbosity:this.verbosity})}function pu(e){st(lu,this,e),st(ou,this,new Wo("main","worker",e)),nt(ou,this).on("ready",()=>{}),et(du,this,uu).call(this)}function mu(){if(xu._||gu(gt))return void et(du,this,fu).call(this);let{workerSrc:e}=gt;try{gt._isSameOrigin(window.location,e)||(e=gt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Wo("main","worker",t),s=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?nt(au,this).reject(new Error("Worker was destroyed")):et(du,this,fu).call(this)},i=new AbortController;t.addEventListener("error",()=>{nt(cu,this)||s()},{signal:i.signal}),n.on("test",e=>{i.abort(),!this.destroyed&&e?(st(ou,this,n),st(lu,this,t),st(cu,this,t),et(du,this,uu).call(this)):s()}),n.on("ready",e=>{if(i.abort(),this.destroyed)s();else try{r()}catch(t){et(du,this,fu).call(this)}});const r=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void r()}catch(t){on("The worker has been disabled.")}et(du,this,fu).call(this)}function fu(){xu._||(ln("Setting up fake worker."),xu._=!0),gt._setupFakeWorkerGlobal.then(e=>{var t,n;if(this.destroyed)return void nt(au,this).reject(new Error("Worker was destroyed"));const s=new Ao;st(lu,this,s);const i="fake".concat((vu._=(t=vu._,n=t++,t),n)),r=new Wo(i+"_worker",i,s);e.setup(r,s),st(ou,this,new Wo(i,i+"_worker",s)),et(du,this,uu).call(this)}).catch(e=>{nt(au,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}function gu(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}gt=hu;var vu={_:0},xu={_:!1},bu={_:new WeakMap};jt&&(xu._=et(gt,gt,!0),kd.workerSrc||(kd.workerSrc="./pdf.worker.mjs")),gt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const s=new URL(t,n);return n.origin===s.origin},gt._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},gt.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return gt.create(e)};var yu=new WeakMap,wu=new WeakMap,ku=new WeakMap,ju=new WeakMap,_u=new WeakMap,Au=new WeakSet;class Nu{constructor(e,t,n,s,i,r){$e(this,Au),Ze(this,yu,new Map),Ze(this,wu,new Map),Ze(this,ku,new Map),Ze(this,ju,new Map),Ze(this,_u,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new uh,this.fontLoader=new vo({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return pn(this,"annotationStorage",new uo)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=St,a=ro;switch(e){case"any":r=Nt;break;case"display":break;case"print":r=Ct;break;default:ln("getRenderingIntent - invalid intent: ".concat(e))}const o=r&Ct&&n instanceof fo?n:this.annotationStorage;switch(t){case Dt.DISABLE:r+=Pt;break;case Dt.ENABLE:break;case Dt.ENABLE_FORMS:r+=Et;break;case Dt.ENABLE_STORAGE:r+=Mt,a=o.serializable;break;default:ln("getRenderingIntent - invalid annotationMode: ".concat(t))}s&&(r+=Tt),i&&(r+=Rt);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=nt(_u,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of nt(wu,this).values())t.push(s._destroy());nt(wu,this).clear(),nt(ku,this).clear(),nt(ju,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),nt(yu,this).clear(),this.filterFactory.destroy(),Rh.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new yn("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{dn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:n,done:s}=e;s?t.close():(dn(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:s,contentLength:i}=this._fullReader;if(!n||!s){var r;if(this._lastProgress)null===(r=t.onProgress)||void 0===r||r.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(e,t)=>{dn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function(e){let{value:n,done:s}=e;s?t.close():(dn(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new tu(n,this))}),e.on("DocException",e=>{t._capability.reject(Fo(e))}),e.on("PasswordRequest",e=>{st(_u,this,Promise.withResolvers());try{if(!t.onPassword)throw Fo(e);const n=e=>{e instanceof Error?nt(_u,this).reject(e):nt(_u,this).resolve({password:e})};t.onPassword(n,e.code)}catch(n){nt(_u,this).reject(n)}return nt(_u,this).promise}),e.on("DataLoaded",e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;nt(wu,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var n;let[s,i,r]=t;if(this.destroyed)return null;if(this.commonObjs.has(s))return null;switch(i){case"Font":if("error"in r){const e=r.error;ln("Error during font loading: ".concat(e)),this.commonObjs.resolve(s,e);break}const t=new pd(r),a=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new bo(t,a,r.extra,r.charProcOperatorList);this.fontLoader.bind(o).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(s,o)});break;case"CopyLocalImage":const{imageRef:l}=r;dn(l,"The imageRef must be defined.");for(const e of nt(wu,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===l)return t.dataLen?(this.commonObjs.resolve(s,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error("Got unknown common object type ".concat(i))}return null}),e.on("obj",e=>{let[t,n,s,i]=e;if(this.destroyed)return;const r=nt(wu,this).get(n);var a;if(!r.objs.has(t))if(0!==r._intentStates.size)switch(s){case"Image":case"Pattern":r.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(s))}else null===i||void 0===i||null===(a=i.bitmap)||void 0===a||a.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&ln("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=nt(ku,this).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&nt(ju,this).set(n.refStr,e);const s=new iu(t,n,this,this._params.pdfBug);return nt(wu,this).set(t,s),s});return nt(ku,this).set(t,s),s}getPageIndex(e){return wo(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return et(Au,this,Su).call(this,"GetFieldObjects")}hasJSActions(){return et(Au,this,Su).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return et(Au,this,Su).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return et(Au,this,Su).call(this,"GetOptionalContentConfig").then(t=>new Bd(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=nt(yu,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n,s,i;return{info:e[0],metadata:e[1]?new Sd(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(s=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==s?s:null}});return nt(yu,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of nt(wu,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),nt(yu,this).clear(),this.filterFactory.destroy(!0),Rh.cleanup()}}cachedPageNumber(e){var t;if(!wo(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=nt(ju,this).get(n))&&void 0!==t?t:null}}function Su(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=nt(yu,this).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return nt(yu,this).set(e,s),s}var Cu=new WeakMap;class Eu{constructor(e){Ze(this,Cu,null),Xe(this,"onContinue",null),Xe(this,"onError",null),st(Cu,this,e)}get promise(){return nt(Cu,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;nt(Cu,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=nt(Cu,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=nt(Cu,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var Mu=new WeakMap;class Pu{constructor(e){let{callback:t,params:n,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null,enableHWA:p=!1,operationsFilter:m=null}=e;Ze(this,Mu,null),this.callback=t,this.params=n,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Eu(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=m}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,n;let{transparency:s=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(Tu._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Tu._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:a,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Xc(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:r,transparency:s,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e,t,n;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),nt(Mu,this)&&(window.cancelAnimationFrame(nt(Mu,this)),st(Mu,this,null)),Tu._.delete(this._canvas),s||(s=new Wn("Rendering cancelled, page ".concat(this._pageIndex+1),i)),this.callback(s),null===(t=(n=this.task).onError)||void 0===t||t.call(n,s)}operatorListChanged(){var e,t;this.graphicsReady?(null===(e=this.gfx.dependencyTracker)||void 0===e||e.growOperationsCount(this.operatorList.fnArray.length),null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?st(Mu,this,window.requestAnimationFrame(()=>{st(Mu,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Tu._.delete(this._canvas),this.callback())))}}var Tu={_:new WeakSet};const Ru="5.4.296";var Du=new WeakMap,Lu=new WeakMap,Iu=new WeakMap,Fu=new WeakMap,Ou=new WeakMap,Bu=new WeakMap,Wu=new WeakMap,zu=new WeakMap,Uu=new WeakMap,Hu=new WeakMap,Vu=new WeakSet;class Gu{static get _keyboardManager(){return pn(this,"_keyboardManager",new Xs([[["Escape","mac+Escape"],Gu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gu.prototype._moveToPrevious],[["Home","mac+Home"],Gu.prototype._moveToBeginning],[["End","mac+End"],Gu.prototype._moveToEnd]]))}constructor(e){var t,n;let{editor:s=null,uiManager:i=null}=e;$e(this,Vu),Ze(this,Du,null),Ze(this,Lu,null),Ze(this,Iu,void 0),Ze(this,Fu,null),Ze(this,Ou,!1),Ze(this,Bu,!1),Ze(this,Wu,null),Ze(this,zu,void 0),Ze(this,Uu,null),Ze(this,Hu,null),s?(st(Bu,this,!1),st(Wu,this,s)):st(Bu,this,!0),st(Hu,this,(null===s||void 0===s?void 0:s._uiManager)||i),st(zu,this,nt(Hu,this)._eventBus),st(Iu,this,(null===s||void 0===s||null===(t=s.color)||void 0===t?void 0:t.toUpperCase())||(null===(n=nt(Hu,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),$u._||($u._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=st(Du,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",nt(Wu,this)&&(e.ariaControls="".concat(nt(Wu,this).id,"_colorpicker_dropdown"));const t=nt(Hu,this)._signal;e.addEventListener("click",et(Vu,this,Ku).bind(this),{signal:t}),e.addEventListener("keydown",et(Vu,this,Yu).bind(this),{signal:t});const n=st(Lu,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=nt(Iu,this),e.append(n),e}renderMainDropdown(){const e=st(Fu,this,et(Vu,this,qu).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===nt(Du,this))return void et(Vu,this,Ku).call(this,e);const t=e.target.getAttribute("data-color");t&&et(Vu,this,Xu).call(this,t,e)}_moveToNext(e){var t,n;tt(Vu,this,Qu)?e.target!==nt(Du,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=nt(Fu,this).firstChild)||void 0===n||n.focus():et(Vu,this,Ku).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=nt(Fu,this))||void 0===t?void 0:t.firstChild)&&e.target!==nt(Du,this)?(tt(Vu,this,Qu)||et(Vu,this,Ku).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):tt(Vu,this,Qu)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;tt(Vu,this,Qu)?null===(t=nt(Fu,this).firstChild)||void 0===t||t.focus():et(Vu,this,Ku).call(this,e)}_moveToEnd(e){var t;tt(Vu,this,Qu)?null===(t=nt(Fu,this).lastChild)||void 0===t||t.focus():et(Vu,this,Ku).call(this,e)}hideDropdown(){var e,t;null===(e=nt(Fu,this))||void 0===e||e.classList.add("hidden"),nt(Du,this).ariaExpanded="false",null===(t=nt(Uu,this))||void 0===t||t.abort(),st(Uu,this,null)}_hideDropdownFromKeyboard(){var e;nt(Bu,this)||(tt(Vu,this,Qu)?(this.hideDropdown(),nt(Du,this).focus({preventScroll:!0,focusVisible:nt(Ou,this)})):null===(e=nt(Wu,this))||void 0===e||e.unselect())}updateColor(e){if(nt(Lu,this)&&(nt(Lu,this).style.backgroundColor=e),!nt(Fu,this))return;const t=nt(Hu,this).highlightColors.values();for(const n of nt(Fu,this).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null===(e=nt(Du,this))||void 0===e||e.remove(),st(Du,this,null),st(Lu,this,null),null===(t=nt(Fu,this))||void 0===t||t.remove(),st(Fu,this,null)}}function qu(){const e=document.createElement("div"),t=nt(Hu,this)._signal;e.addEventListener("contextmenu",Gn,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),nt(Wu,this)&&(e.id="".concat(nt(Wu,this).id,"_colorpicker_dropdown"));for(const[n,s]of nt(Hu,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=n,i.setAttribute("data-l10n-id",$u._[n]);const r=document.createElement("span");i.append(r),r.className="swatch",r.style.backgroundColor=s,i.ariaSelected=s===nt(Iu,this),i.addEventListener("click",et(Vu,this,Xu).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",et(Vu,this,Yu).bind(this),{signal:t}),e}function Xu(e,t){t.stopPropagation(),nt(zu,this).dispatch("switchannotationeditorparams",{source:this,type:Ft.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}function Yu(e){vt._keyboardManager.exec(this,e)}function Ku(e){if(tt(Vu,this,Qu))return void this.hideDropdown();if(st(Ou,this,0===e.detail),nt(Uu,this)||(st(Uu,this,new AbortController),window.addEventListener("pointerdown",et(Vu,this,Ju).bind(this),{signal:nt(Hu,this).combinedSignal(nt(Uu,this))})),nt(Du,this).ariaExpanded="true",nt(Fu,this))return void nt(Fu,this).classList.remove("hidden");const t=st(Fu,this,et(Vu,this,qu).call(this));nt(Du,this).append(t)}function Ju(e){var t;null!==(t=nt(Fu,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function Qu(e){return nt(Fu,e)&&!nt(Fu,e).classList.contains("hidden")}vt=Gu;var $u={_:null},Zu=new WeakMap,ep=new WeakMap,tp=new WeakMap;class np{constructor(e){Ze(this,Zu,null),Ze(this,ep,null),Ze(this,tp,null),st(ep,this,e),st(tp,this,e._uiManager),sp._||(sp._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(nt(Zu,this))return nt(Zu,this);const{editorType:e,colorType:t,colorValue:n}=nt(ep,this),s=st(Zu,this,document.createElement("input"));return s.type="color",s.value=n||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",sp._[e]),s.addEventListener("input",()=>{nt(tp,this).updateParams(t,s.value)},{signal:nt(tp,this)._signal}),s}update(e){nt(Zu,this)&&(nt(Zu,this).value=e)}destroy(){var e;null===(e=nt(Zu,this))||void 0===e||e.remove(),st(Zu,this,null)}hideDropdown(){}}var sp={_:null};function ip(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function rp(e){return Math.max(0,Math.min(255,255*e))}class ap{static CMYK_G(e){let[t,n,s,i]=e;return["G",1-Math.min(1,.3*t+.59*s+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=rp(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=ip(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,s]=e;return["G",.3*t+.59*n+.11*s]}static RGB_rgb(e){return e.map(rp)}static RGB_HTML(e){return"#".concat(e.map(ip).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,s,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,s+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,s,i]=e;return[rp(1-Math.min(1,t+i)),rp(1-Math.min(1,s+i)),rp(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,s]=e;const i=1-t,r=1-n,a=1-s;return["CMYK",i,r,a,Math.min(i,r,a)]}}class op{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width","".concat(e,"px")),s.setAttribute("height","".concat(t,"px"))),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),s}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){cn("Abstract method `_createSVG` called.")}}class lp extends op{_createSVG(e){return document.createElementNS(In,e)}}const cp=new WeakSet,dp=60*(new Date).getTimezoneOffset()*1e3;class hp{static create(e){switch(e.data.annotationType){case Gt.LINK:return new yp(e);case Gt.TEXT:return new _p(e);case Gt.WIDGET:switch(e.data.fieldType){case"Tx":return new Np(e);case"Btn":return e.data.radioButton?new Ep(e):e.data.checkBox?new Cp(e):new Mp(e);case"Ch":return new Pp(e);case"Sig":return new Sp(e)}return new Ap(e);case Gt.POPUP:return new Rp(e);case Gt.FREETEXT:return new km(e);case Gt.LINE:return new _m(e);case Gt.SQUARE:return new Nm(e);case Gt.CIRCLE:return new Cm(e);case Gt.POLYLINE:return new Mm(e);case Gt.CARET:return new Tm(e);case Gt.INK:return new Im(e);case Gt.POLYGON:return new Pm(e);case Gt.HIGHLIGHT:return new Om(e);case Gt.UNDERLINE:return new Bm(e);case Gt.SQUIGGLY:return new Wm(e);case Gt.STRIKEOUT:return new zm(e);case Gt.STAMP:return new Um(e);case Gt.FILEATTACHMENT:return new Gm(e);default:return new gp(e)}}}var up=new WeakMap,pp=new WeakMap,mp=new WeakMap,fp=new WeakSet;class gp{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e(this,fp),Ze(this,up,null),Ze(this,pp,!1),Ze(this,mp,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData(e){let{contentsObj:t,richText:n}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gp._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var e;const{data:t}=this,n=null===(e=this.annotationStorage)||void 0===e?void 0:e.getEditor(t.id);return n?n.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var e;const t=null===(e=this.annotationStorage)||void 0===e?void 0:e.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:n,inkLists:s,rect:i}=this.data;let r=-1/0,a=-1/0;if((null===n||void 0===n?void 0:n.length)>=8){for(let e=0;e<n.length;e+=8)n[e+1]>a?(a=n[e+1],r=n[e+2]):n[e+1]===a&&(r=Math.max(r,n[e+2]));return[r,a]}if((null===s||void 0===s?void 0:s.length)>=1){for(const e of s)for(let t=0,n=e.length;t<n;t+=2)e[t+1]>a?(a=e[t+1],r=e[t]):e[t+1]===a&&(r=Math.max(r,e[t]));if(r!==1/0)return[r,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:r}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/n,e[1]=100*(e[1]-r)/s,e}get commentText(){var e,t;const{data:n}=this;return(null===(e=this.annotationStorage.getRawValue("".concat(Lt).concat(n.id)))||void 0===e||null===(e=e.popup)||void 0===e?void 0:e.contents)||(null===(t=n.contentsObj)||void 0===t?void 0:t.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue("".concat(Lt).concat(t.id),{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;null===(e=(null===(t=nt(mp,this))||void 0===t?void 0:t.popup)||this.popup)||void 0===e||e.remove(),st(mp,this,this.popup=null)}updateEdited(e){var t;if(!this.container)return;e.rect&&(nt(up,this)||st(up,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:s}=e;n&&et(fp,this,vp).call(this,n);let i=(null===(t=nt(mp,this))||void 0===t?void 0:t.popup)||this.popup;!i&&null!==s&&void 0!==s&&s.text&&(this._createPopup(s),i=nt(mp,this).popup),i&&(i.updateEdited(e),null!==s&&void 0!==s&&s.deleted&&(i.remove(),st(mp,this,null),this.popup=null))}resetEdited(){var e;nt(up,this)&&(et(fp,this,vp).call(this,nt(up,this).rect),null===(e=nt(mp,this))||void 0===e||e.popup.resetEdited(),st(up,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof Ap||this instanceof yp||(i.tabIndex=0);const{style:r}=i;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Rp){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:a,height:o}=this;if(!e&&t.borderStyle.width>0){r.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");r.borderRadius=t}else if(this instanceof Ep){const e="calc(".concat(a,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");r.borderRadius=e}switch(t.borderStyle.style){case qt:r.borderStyle="solid";break;case Xt:r.borderStyle="dashed";break;case Yt:ln("Unimplemented border style: beveled");break;case Kt:ln("Unimplemented border style: inset");break;case Jt:r.borderBottomStyle="solid"}const s=t.borderColor||null;s?(st(pp,this,!0),r.borderColor=An.makeHexColor(0|s[0],0|s[1],0|s[2])):r.borderWidth=0}const l=An.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:u}=s.rawDims;r.left="".concat(100*(l[0]-h)/c,"%"),r.top="".concat(100*(l[1]-u)/d,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(r.width="".concat(100*a/c,"%"),r.height="".concat(100*o/d,"%")):this.setRotation(p,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:r}=this;e%180!==0&&([i,r]=[r,i]),t.style.width="".concat(100*i/n,"%"),t.style.height="".concat(100*r/s,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const s=n.detail[e],i=s[0],r=s.slice(1);n.target.style[t]=ap["".concat(i,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[t]:ap["".concat(i,"_rgb")](r)})};return pn(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||n[s];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,i]of Object.entries(t)){const r=n[s];if(r){r({detail:{[s]:i},target:e}),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,i]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[r,a,o,l]=e.subarray(2,6);if(s===r&&i===a&&t===o&&n===l)return}const{style:r}=this.container;let a;if(nt(pp,this)){const{borderColor:e,borderWidth:t}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=s-t,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),p="clippath_".concat(this.data.id);u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let f=2,g=e.length;f<g;f+=8){var m;const n=e[f],s=e[f+1],r=e[f+2],d=e[f+3],h=c.createElement("rect"),p=(r-t)/o,g=(i-s)/l,v=(n-r)/o,x=(s-d)/l;h.setAttribute("x",p),h.setAttribute("y",g),h.setAttribute("width",v),h.setAttribute("height",x),u.append(h),null===(m=a)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(g,'" width="').concat(v,'" height="').concat(x,'"/>'))}nt(pp,this)&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:t}=this;let n,s;e?(n={str:e.text},s=e.date):(n=t.contentsObj,s=t.modificationDate);const i=st(mp,this,new Rp({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(nt(mp,this)||this.popup||this.data.popupRef)}get extraPopupElement(){return nt(mp,this)}render(){cn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:e,id:i,exportValues:r}of s){if(-1===e)continue;if(i===t)continue;const s="string"===typeof r?r:null,a=document.querySelector('[data-element-id="'.concat(i,'"]'));!a||cp.has(a)?n.push({id:i,exportValue:s,domElement:a}):ln("_getElementsByName - element not allowed: ".concat(i))}return n}for(const s of document.getElementsByName(e)){const{exportValue:e}=s,i=s.getAttribute("data-element-id");i!==t&&(cp.has(s)&&n.push({id:i,exportValue:e,domElement:s}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function vp(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e),t.left="".concat(100*(e[0]-a)/i,"%"),t.top="".concat(100*(r-e[3]+o)/r,"%"),0===s?(t.width="".concat(100*(e[2]-e[0])/i,"%"),t.height="".concat(100*(e[3]-e[1])/r,"%")):this.setRotation(s)}class xp extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var bp=new WeakSet;class yp extends gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),$e(this,bp),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),s=!0):e.attachment?(et(bp,this,kp).call(this,n,e.attachment,e.overlaidText,e.attachmentDest),s=!0):e.setOCGState?(et(bp,this,jp).call(this,n,e.setOCGState,e.overlaidText),s=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),s=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}_bindLink(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&et(bp,this,wp).call(this),n&&(e.title=n)}_bindNamedAction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),et(bp,this,wp).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const i=n.get(s);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1})}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),et(bp,this,wp).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),et(bp,this,wp).call(this),!this._fieldObjects)return ln('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:s,include:i}=t,r=[];if(0!==e.length||0!==s.length){const t=new Set(s);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&r.push(n)}else for(const t of Object.values(this._fieldObjects))r.push(...t);const a=this.annotationStorage,o=[];for(const t of r){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(cp.has(n)?n.dispatchEvent(new Event("resetform")):ln("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function wp(){this.container.setAttribute("data-internal-link","")}function kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,s),!1},et(bp,this,wp).call(this)}function jp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),et(bp,this,wp).call(this)}class _p extends gp{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ap extends gp{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return jn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,i){n.includes("mouse")?e.addEventListener(n,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var r;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(e)}}))})}_setEventListeners(e,t,n,s){for(const[o,l]of n){var i,r,a;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,s),"Focus"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":An.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||9,i=e.style;let r;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(At*s))||1);r=Math.min(s,a(t/At))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(s,a(e/At))}i.fontSize="calc(".concat(r,"px * var(--total-scale-factor))"),i.color=An.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Np extends Ap{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,s){const i=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=n),i.setValue(r.id,{[s]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var s;const r=e.getValue(t,{value:this.data.fieldValue});let a=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let l=r.formattedValue||(null===(s=this.data.textContent)||void 0===s?void 0:s.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),cp.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:u}=this.data,p=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",s=>{e.setValue(t,{value:s.target.value}),this.setPropertyOnSiblings(n,"value",s.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",e=>{var t;const s=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=s,c.formattedValue=null});let m=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:n}=e;if(p&&(n.type=h,u&&(n.step=u)),c.userValue){const e=c.userValue;if(p)if("time"===h){const t=new Date(e),s=[t.getHours(),t.getMinutes(),t.getSeconds()];n.value=s.map(e=>e.toString().padStart(2,"0")).join(":")}else n.value=new Date(e-dp).toISOString().split("date"===h?"T":".",1)[0];else n.value=e}c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const s={value(n){var s;c.userValue=null!==(s=n.detail.value)&&void 0!==s?s:"",p||e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:s}=n.detail;c.formattedValue=s,null!==s&&void 0!==s&&n.target!==document.activeElement&&(n.target.value=s);const i={formattedValue:s};p&&(i.value=s),e.setValue(t,i)},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var s;const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let a=c.userValue;!a||a.length<=i||(a=a.slice(0,i),r.value=c.userValue=a,e.setValue(t,{value:a}),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(s,n)}),n.addEventListener("keydown",e=>{var n;c.commitKey=1;let s=-1;if("Escape"===e.key?s=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):s=2,-1===s)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:s,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const s=m;m=null,n.addEventListener("blur",e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{target:i}=e;let{value:r}=i;if(p){if(r&&"time"===h){const e=r.split(":").map(e=>parseInt(e,10));r=new Date(2e3,0,1,e[0],e[1],e[2]||0).valueOf(),i.step=""}else r.includes("T")||(r="".concat(r,"T00:00")),r=new Date(r).valueOf();i.type="text"}var a;(c.userValue=r,c.lastCommittedValue!==r)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));s(e)}),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",e=>{var n;c.lastCommittedValue=null;const{data:s,target:i}=e,{value:r,selectionStart:a,selectionEnd:o}=i;let l=a,d=o;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=r.substring(a).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(d+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:s||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Sp extends Ap{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Cp extends Ap{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof s&&(s="Off"!==s,e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return cp.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",s=>{const{name:i,checked:r}=s.target;for(const a of this._getElementsByName(i,n)){const n=r&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:r})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const s={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(s,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Ep extends Ap{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof s&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const r of this._getElementsByName(t.fieldName,n))e.setValue(r.id,{value:!1});const i=document.createElement("input");if(cp.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",t=>{const{name:s,checked:i}=t.target;for(const r of this._getElementsByName(s,n))e.setValue(r.id,{value:!1});e.setValue(n,{value:i})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=s===t.detail.value;for(const s of this._getElementsByName(t.target.name)){const t=i&&s.id===n;s.domElement&&(s.domElement.checked=t),e.setValue(s.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Mp extends yp{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Pp extends Ap{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");cp.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of s.options)n.selected=n.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),s.append(e)}let r=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),s.prepend(e),r=()=>{e.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=s;return i?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",n=>{const i={value(n){var i;null===(i=r)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of s.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){s.multiple=!0},remove(n){const i=s.options,r=n.detail.remove;if(i[r].selected=!1,s.remove(r),i.length>0){-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==s.length;)s.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:r,exportValue:c}=n.detail.insert,d=s.children[i],h=document.createElement("option");h.textContent=r,h.value=c,d?d.before(h):s.append(h),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==s.length;)s.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,s.append(i)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const s=new Set(n.detail.indices);for(const e of n.target.options)e.selected=s.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)}),s.addEventListener("input",n=>{var s;const i=a(!0),r=a(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):s.addEventListener("input",function(n){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var Tp=new WeakSet;class Rp extends gp{constructor(e){const{data:t,elements:n,parent:s}=e,i=!!s._commentManager;if(super(e,{isRenderable:!i&&gp._hasPopupData(t)}),$e(this,Tp),this.elements=n,i&&gp._hasPopupData(t)){const e=this.popup=et(Tp,this,Dp).call(this);for(const t of n)t.popup=e}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=et(Tp,this,Dp).call(this),n=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(e=>"".concat(Pn).concat(e)).join(",")),this.container}}function Dp(){return new lm({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var Lp=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,Op=new WeakMap,Bp=new WeakMap,Wp=new WeakMap,zp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,Qp=new WeakMap,$p=new WeakMap,Zp=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,sm=new WeakMap,im=new WeakMap,rm=new WeakMap,am=new WeakMap,om=new WeakSet;class lm{constructor(e){let{container:t,color:n,elements:s,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h,commentManager:u=null}=e;$e(this,om),Ze(this,Lp,null),Ze(this,Ip,et(om,this,vm).bind(this)),Ze(this,Fp,et(om,this,wm).bind(this)),Ze(this,Op,et(om,this,ym).bind(this)),Ze(this,Bp,et(om,this,bm).bind(this)),Ze(this,Wp,null),Ze(this,zp,null),Ze(this,Up,null),Ze(this,Hp,null),Ze(this,Vp,null),Ze(this,Gp,null),Ze(this,qp,null),Ze(this,Xp,!1),Ze(this,Yp,null),Ze(this,Kp,null),Ze(this,Jp,null),Ze(this,Qp,null),Ze(this,$p,null),Ze(this,Zp,null),Ze(this,em,null),Ze(this,tm,null),Ze(this,nm,null),Ze(this,sm,null),Ze(this,im,!1),Ze(this,rm,null),Ze(this,am,null),st(zp,this,t),st(nm,this,i),st(Up,this,a),st(tm,this,o),st(Gp,this,l),st(Wp,this,n),st(em,this,c),st(qp,this,d),st(Vp,this,s),st(Lp,this,u),st(rm,this,s[0]),st(Hp,this,Xn.toDateObject(r)),this.trigger=s.flatMap(e=>e.getElementsToTriggerPopup()),u?this.renderCommentButton():(et(om,this,cm).call(this),nt(zp,this).hidden=!0,h&&et(om,this,bm).call(this))}renderCommentButton(){if(nt(Qp,this))return;if(nt($p,this)||et(om,this,dm).call(this),!nt($p,this))return;const{signal:e}=st(Kp,this,new AbortController),t=!!nt(rm,this).extraPopupElement,n=()=>{nt(Lp,this).toggleCommentPopup(this,!0,void 0,!t)},s=()=>{nt(Lp,this).toggleCommentPopup(this,!1,!0,!t)},i=()=>{nt(Lp,this).toggleCommentPopup(this,!1,!1)};if(t){st(Qp,this,nt(rm,this).container);for(const t of this.trigger)t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.addEventListener("keydown",nt(Ip,this),{signal:e}),t.addEventListener("click",n,{signal:e}),t.addEventListener("pointerenter",s,{signal:e}),t.addEventListener("pointerleave",i,{signal:e}),t.classList.add("popupTriggerArea")}else{const t=st(Qp,this,document.createElement("button"));t.className="annotationCommentButton";const r=nt(rm,this).container;t.style.zIndex=r.style.zIndex+1,t.tabIndex=0,t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button"),et(om,this,um).call(this),et(om,this,hm).call(this),t.addEventListener("keydown",nt(Ip,this),{signal:e}),t.addEventListener("click",n,{signal:e}),t.addEventListener("pointerenter",s,{signal:e}),t.addEventListener("pointerleave",i,{signal:e}),r.after(t)}}get commentButtonColor(){const{color:e,opacity:t}=nt(rm,this).commentData;return e?nt(Gp,this)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;null===(e=nt(Qp,this))||void 0===e||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:s,modificationDate:i}=nt(rm,this).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:s,modificationDate:i}}get elementBeforePopup(){return nt(Qp,this)}get comment(){return nt(am,this)||st(am,this,nt(rm,this).commentText),nt(am,this)}set comment(e){e!==this.comment&&(nt(rm,this).commentText=st(am,this,e))}get parentBoundingClientRect(){return nt(rm,this).layer.getBoundingClientRect()}setCommentButtonStates(e){let{selected:t,hasPopup:n}=e;nt(Qp,this)&&(nt(Qp,this).classList.toggle("selected",t),nt(Qp,this).ariaExpanded=n)}setSelectedCommentButton(e){nt(Qp,this).classList.toggle("selected",e)}get commentPopupPosition(){if(nt(Zp,this))return nt(Zp,this);const{x:e,y:t,height:n}=nt(Qp,this).getBoundingClientRect(),{x:s,y:i,width:r,height:a}=nt(rm,this).layer.getBoundingClientRect();return[(e-s)/r,(t+n-i)/a]}set commentPopupPosition(e){st(Zp,this,e)}hasDefaultPopupPosition(){return null===nt(Zp,this)}get commentButtonPosition(){return nt($p,this)}get commentButtonWidth(){return nt(Qp,this).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=nt(Zp,this)||this.commentButtonPosition.map(e=>e/100),s=this.parentBoundingClientRect,{x:i,y:r,width:a,height:o}=s;nt(Lp,this).showDialog(null,this,i+t*a,r+n*o,Ke(Ke({},e),{},{parentDimensions:s}))}render(){var e,t;if(nt(Yp,this))return;const n=st(Yp,this,document.createElement("div"));if(n.className="popup",nt(Wp,this)){const e=n.style.outlineColor=An.makeHexColor(...nt(Wp,this));n.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)")}const s=document.createElement("span");if(s.className="header",null!==(e=nt(nm,this))&&void 0!==e&&e.str){const e=document.createElement("span");e.className="title",s.append(e),({dir:e.dir,str:e.textContent}=nt(nm,this))}if(n.append(s),nt(Hp,this)){const e=document.createElement("time");e.className="popupDate",e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:nt(Hp,this).valueOf()})),e.dateTime=nt(Hp,this).toISOString(),s.append(e)}os({html:tt(om,this,pm)||nt(Up,this).str,dir:null===(t=nt(Up,this))||void 0===t?void 0:t.dir,className:"popupContent"},n),nt(zp,this).append(n)}updateEdited(e){var t;let{rect:n,popup:s,deleted:i}=e;if(nt(Lp,this))return i?(this.remove(),st(am,this,null)):s&&(s.deleted?this.remove():(et(om,this,um).call(this),st(am,this,s.text))),void(n&&(st($p,this,null),et(om,this,dm).call(this),et(om,this,hm).call(this)));i||null!==s&&void 0!==s&&s.deleted?this.remove():(et(om,this,cm).call(this),nt(sm,this)||st(sm,this,{contentsObj:nt(Up,this),richText:nt(tm,this)}),n&&st(Jp,this,null),s&&s.text&&(st(tm,this,et(om,this,gm).call(this,s.text)),st(Hp,this,Xn.toDateObject(s.date)),st(Up,this,null)),null===(t=nt(Yp,this))||void 0===t||t.remove(),st(Yp,this,null))}resetEdited(){var e;nt(sm,this)&&(({contentsObj:Je(st,[Up,this])._,richText:Je(st,[tm,this])._}=nt(sm,this)),st(sm,this,null),null===(e=nt(Yp,this))||void 0===e||e.remove(),st(Yp,this,null),st(Jp,this,null))}remove(){var e,t,n;if(null===(e=nt(Kp,this))||void 0===e||e.abort(),st(Kp,this,null),null===(t=nt(Yp,this))||void 0===t||t.remove(),st(Yp,this,null),st(im,this,!1),st(Xp,this,!1),null===(n=nt(Qp,this))||void 0===n||n.remove(),st(Qp,this,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){st(im,this,this.isVisible),nt(im,this)&&(nt(zp,this).hidden=!0)}maybeShow(){nt(Lp,this)||(et(om,this,cm).call(this),nt(im,this)&&(nt(Yp,this)||et(om,this,ym).call(this),st(im,this,!1),nt(zp,this).hidden=!1))}get isVisible(){return!nt(Lp,this)&&!1===nt(zp,this).hidden}}function cm(){if(nt(Kp,this))return;st(Kp,this,new AbortController);const{signal:e}=nt(Kp,this);for(const n of this.trigger)n.addEventListener("click",nt(Bp,this),{signal:e}),n.addEventListener("pointerenter",nt(Op,this),{signal:e}),n.addEventListener("pointerleave",nt(Fp,this),{signal:e}),n.classList.add("popupTriggerArea");for(const n of nt(Vp,this)){var t;null===(t=n.container)||void 0===t||t.addEventListener("keydown",nt(Ip,this),{signal:e})}}function dm(){const e=nt(Vp,this).find(e=>e.hasCommentButton);e&&st($p,this,e._normalizePoint(e.commentButtonPosition))}function hm(){if(nt(rm,this).extraPopupElement&&!nt(rm,this).editor)return;this.renderCommentButton();const[e,t]=nt($p,this),{style:n}=nt(Qp,this);n.left="calc(".concat(e,"%)"),n.top="calc(".concat(t,"% - var(--comment-button-dim))")}function um(){nt(rm,this).extraPopupElement||(this.renderCommentButton(),nt(Qp,this).style.backgroundColor=this.commentButtonColor||"")}function pm(e){const t=nt(tm,e),n=nt(Up,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:nt(tm,e).html||null}function mm(e){var t;return(null===(t=tt(om,e,pm))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function fm(e){var t;return(null===(t=tt(om,e,pm))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function gm(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:tt(om,this,fm),fontSize:tt(om,this,mm)?"calc(".concat(tt(om,this,mm),"px * var(--total-scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:s});return n}function vm(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&nt(Xp,this))&&et(om,this,bm).call(this)}function xm(){if(null!==nt(Jp,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:i}}}=nt(Gp,this);let r=!!nt(qp,this),a=nt(r?qp:em,this);for(const u of nt(Vp,this))if(!a||null!==An.intersect(u.data.rect,a)){a=u.data.rect,r=!0;break}const o=An.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,d=o[1];st(Jp,this,[100*(c-s)/t,100*(d-i)/n]);const{style:h}=nt(zp,this);h.left="".concat(nt(Jp,this)[0],"%"),h.top="".concat(nt(Jp,this)[1],"%")}function bm(){nt(Lp,this)?nt(Lp,this).toggleCommentPopup(this,!1):(st(Xp,this,!nt(Xp,this)),nt(Xp,this)?(et(om,this,ym).call(this),nt(zp,this).addEventListener("click",nt(Bp,this)),nt(zp,this).addEventListener("keydown",nt(Ip,this))):(et(om,this,wm).call(this),nt(zp,this).removeEventListener("click",nt(Bp,this)),nt(zp,this).removeEventListener("keydown",nt(Ip,this))))}function ym(){nt(Yp,this)||this.render(),this.isVisible?nt(Xp,this)&&nt(zp,this).classList.add("focused"):(et(om,this,xm).call(this),nt(zp,this).hidden=!1,nt(zp,this).style.zIndex=parseInt(nt(zp,this).style.zIndex)+1e3)}function wm(){nt(zp,this).classList.remove("focused"),!nt(Xp,this)&&this.isVisible&&(nt(zp,this).hidden=!0,nt(zp,this).style.zIndex=parseInt(nt(zp,this).style.zIndex)-1e3)}class km extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=It.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jm=new WeakMap;class _m extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Ze(this,jm,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),i=st(jm,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),s.append(i),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(jm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Am=new WeakMap;class Nm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Ze(this,Am,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,r=st(Am,this,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",i/2),r.setAttribute("y",i/2),r.setAttribute("width",t-i),r.setAttribute("height",n-i),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Am,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Sm=new WeakMap;class Cm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Ze(this,Sm,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,s=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,r=st(Sm,this,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",t/2),r.setAttribute("cy",n/2),r.setAttribute("rx",t/2-i/2),r.setAttribute("ry",n/2-i/2),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Sm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Em=new WeakMap;class Mm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Ze(this,Em,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:s},width:i,height:r}=this;if(!t)return this.container;const a=this.svgFactory.create(i,r,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],s=e[3]-t[c+1];o.push("".concat(n,",").concat(s))}o=o.join(" ");const l=st(Em,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Em,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pm extends Mm{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Tm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Rm=new WeakMap,Dm=new WeakMap,Lm=new WeakSet;class Im extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),$e(this,Lm),Ze(this,Rm,null),Ze(this,Dm,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?It.HIGHLIGHT:It.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:s,popupRef:i}}=this,{transform:r,width:a,height:o}=et(Lm,this,Fm).call(this,t,e),l=this.svgFactory.create(a,o,!0),c=st(Rm,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",s.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",r);for(let d=0,h=n.length;d<h;d++){const e=this.svgFactory.createElement(this.svgElementName);nt(Dm,this).push(e),e.setAttribute("points",n[d].join(",")),c.append(e)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:s}=e,i=nt(Rm,this);if(t>=0&&i.setAttribute("stroke-width",t||1),n)for(let r=0,a=nt(Dm,this).length;r<a;r++)nt(Dm,this)[r].setAttribute("points",n[r].join(","));if(s){const{transform:e,width:t,height:n}=et(Lm,this,Fm).call(this,this.data.rotation,s);i.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),i.setAttribute("transform",e)}}getElementsToTriggerPopup(){return nt(Dm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Fm(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class Om extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=It.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Bm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Wm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class zm extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Um extends gp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=It.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Hm=new WeakMap,Vm=new WeakSet;class Gm extends gp{constructor(e){var t;super(e,{isRenderable:!0}),$e(this,Vm),Ze(this,Hm,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",Ke({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",et(Vm,this,qm).bind(this)),st(Hm,this,n);const{isMac:s}=jn.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(s?e.metaKey:e.ctrlKey)&&et(Vm,this,qm).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return nt(Hm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function qm(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Xm=new WeakMap,Ym=new WeakMap,Km=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,$m=new WeakMap,Zm=new WeakSet;class ef{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}=e;$e(this,Zm),Ze(this,Xm,null),Ze(this,Ym,null),Ze(this,Km,null),Ze(this,Jm,new Map),Ze(this,Qm,null),Ze(this,$m,null),this.div=t,st(Xm,this,n),st(Ym,this,s),st(Qm,this,o||null),st($m,this,c||null),st(Km,this,d||new uo),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return nt(Jm,this).size>0}async render(e){const{annotations:t}=e,n=this.div;$n(n,this.viewport);const s=new Map,i={data:null,layer:n,linkService:nt($m,this),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new lp,annotationStorage:nt(Km,this),enableComment:!0===e.enableComment,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){var r;if(o.noHTML)continue;const e=o.annotationType===Gt.POPUP;if(e){const e=s.get(o.id);if(!e)continue;i.elements=e}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;i.data=o;const t=hp.create(i);if(!t.isRenderable)continue;if(!e&&o.popupRef){const e=s.get(o.popupRef);e?e.push(t):s.set(o.popupRef,[t])}const n=t.render();var a;if(o.hidden&&(n.style.visibility="hidden"),await et(Zm,this,tf).call(this,n,o.id,i.elements),null===(r=t.extraPopupElement)||void 0===r||null===(r=r.popup)||void 0===r||r.renderCommentButton(),t._isEditable)nt(Jm,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}et(Zm,this,nf).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:nt($m,this),svgFactory:new lp,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=ef._defaultBorderStyle),t.data=n;const e=hp.create(t);if(!e.isRenderable)continue;const s=e.render();await et(Zm,this,tf).call(this,s,n.id,null)}}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,$n(n,{rotation:t.rotation}),et(Zm,this,nf).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(nt(Jm,this).values())}getEditableAnnotation(e){return nt(Jm,this).get(e)}addFakeAnnotation(e){var t;const{div:n}=this,{id:s,rotation:i}=e,r=new xp({data:{id:s,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:nt($m,this),annotationStorage:nt(Km,this)}),a=r.render();return n.append(a),null===(t=nt(Xm,this))||void 0===t||t.moveElementInDOM(n,a,a,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return pn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:qt,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function tf(e,t,n){var s;const i=e.firstChild||e,r=i.id="".concat(Pn).concat(t),a=await(null===(s=nt(Qm,this))||void 0===s?void 0:s.getAriaAttributes(r));if(a)for(const[l,c]of a)i.setAttribute(l,c);var o;n?n.at(-1).container.after(e):(this.div.append(e),null===(o=nt(Xm,this))||void 0===o||o.moveElementInDOM(this.div,e,i,!1))}function nf(){if(!nt(Ym,this))return;const e=this.div;for(const[n,s]of nt(Ym,this)){const i=e.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s);const a=nt(Jm,this).get(n);var t;if(a)if(a._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(n,i.id,s),a._hasNoCanvas=!1;else a.canvas=s}nt(Ym,this).clear()}const sf=/\r\n?|\n/g;var rf=new WeakMap,af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakSet;class df extends Da{static get _keyboardManager(){const e=df.prototype,t=e=>e.isEmpty(),n=qi.TRANSLATE_SMALL,s=qi.TRANSLATE_BIG;return pn(this,"_keyboardManager",new Xs([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}constructor(e){super(Ke(Ke({},e),{},{name:"freeTextEditor"})),$e(this,cf),Ze(this,rf,""),Ze(this,af,"".concat(this.id,"-editor")),Ze(this,of,null),Ze(this,lf,void 0),Xe(this,"_colorPicker",null),this.color=e.color||df._defaultColor||Da._defaultLineColor,st(lf,this,e.fontSize||df._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Da.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ft.FREETEXT_SIZE:df._defaultFontSize=t;break;case Ft.FREETEXT_COLOR:df._defaultColor=t}}updateParams(e,t){switch(e){case Ft.FREETEXT_SIZE:et(cf,this,hf).call(this,t);break;case Ft.FREETEXT_COLOR:et(cf,this,uf).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ft.FREETEXT_SIZE,df._defaultFontSize],[Ft.FREETEXT_COLOR,df._defaultColor||Da._defaultLineColor]]}get propertiesToUpdate(){return[[Ft.FREETEXT_SIZE,nt(lf,this)],[Ft.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new np(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,null===(e=this._colorPicker)||void 0===e||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-df._internalPadding*e,-(df._internalPadding+nt(lf,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),st(of,this,new AbortController);const e=this._uiManager.combinedSignal(nt(of,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",nt(af,this)),this._isDraggable=!0,null===(e=nt(of,this))||void 0===e||e.abort(),st(of,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=nt(rf,this),t=st(rf,this,et(cf,this,pf).call(this).trimEnd());if(e===t)return;const n=e=>{st(rf,this,e),e?(et(cf,this,gf).call(this),this._uiManager.rebuild(this),et(cf,this,mf).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),et(cf,this,mf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){df._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",nt(af,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(nt(lf,this),"px * var(--total-scale-factor))"),n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(i[0]-c)/o,u=t+this.height-(i[1]-d)/l;break;case 90:h=e+(i[0]-c)/o,u=t-(i[1]-d)/l,[r,a]=[a,-r];break;case 180:h=e-this.width+(i[0]-c)/o,u=t-(i[1]-d)/l,[r,a]=[-r,-a];break;case 270:h=e+(i[0]-c-this.height*l)/o,u=t+(i[1]-d-this.width*o)/l,[r,a]=[-a,r]}this.setAt(h*n,u*s,r,a)}else this._moveAfterPaste(e,t);et(cf,this,gf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const s=xf.call(df,t.getData("text")||"").replaceAll(sf,"\n");if(!s)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const r=i.getRangeAt(0);if(!s.includes("\n"))return r.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(sf,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(ff.call(df,n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(sf,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(ff.call(df,n))}st(rf,this,"".concat(l.join("\n")).concat(s).concat(c.join("\n"))),et(cf,this,gf).call(this);const d=new Range;let h=Math.sumPrecise(l.map(e=>e.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}i.removeAllRanges(),i.addRange(d)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=df._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let s=null;if(e instanceof km){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:r,id:a,popupRef:o,richText:l,contentsObj:c,creationDate:d,modificationDate:h},textContent:u,textPosition:p,parent:{page:{pageNumber:m}}}=e;if(!u||0===u.length)return null;s=e={annotationType:It.FREETEXT,color:Array.from(n),fontSize:t,value:u.join("\n"),position:p,pageIndex:m-1,rect:i.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:o,comment:(null===c||void 0===c?void 0:c.str)||null,richText:l,creationDate:d,modificationDate:h}}const i=await super.deserialize(e,t,n);return st(lf,i,e.fontSize),i.color=An.makeHexColor(...e.color),st(rf,i,xf.call(df,e.value)),i._initialData=s,e.comment&&i.setCommentData(e),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Da._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:nt(lf,this),value:et(cf,this,vf).call(this)});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!et(cf,this,bf).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize="calc(".concat(nt(lf,this),"px * var(--total-scale-factor))"),n.color=this.color,t.replaceChildren();for(const s of nt(rf,this).split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:nt(rf,this)}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function hf(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-nt(lf,this))*this.parentScale),st(lf,this,e),et(cf,this,mf).call(this)},n=nt(lf,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function uf(e){const t=e=>{this.color=e,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function pf(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===s.nodeName||(e.push(ff.call(xt,s)),t=s)}return e.join("\n")}function mf(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,s=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=s,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function ff(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(sf,"")}function gf(){if(this.editorDiv.replaceChildren(),nt(rf,this))for(const e of nt(rf,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function vf(){return nt(rf,this).replaceAll("\xa0"," ")}function xf(e){return e.replaceAll(" ","\xa0")}function bf(e){const{value:t,fontSize:n,color:s,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==s[t])||e.pageIndex!==i}xt=df,Xe(df,"_freeTextDefaultContent",""),Xe(df,"_internalPadding",0),Xe(df,"_defaultColor",null),Xe(df,"_defaultFontSize",10),Xe(df,"_type","freetext"),Xe(df,"_editorType",It.FREETEXT);class yf{toSVGPath(){cn("Abstract method `toSVGPath` must be implemented.")}get box(){cn("Abstract getter `box` must be implemented.")}serialize(e,t){cn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,s,i,r){r||(r=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a]*s,r[a+1]=n+e[a+1]*i;return r}static _rescaleAndSwap(e,t,n,s,i,r){r||(r=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a+1]*s,r[a+1]=n+e[a]*i;return r}static _translate(e,t,n,s){s||(s=new Float32Array(e.length));for(let i=0,r=e.length;i<r;i+=2)s[i]=t+e[i],s[i+1]=n+e[i+1];return s}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,s,i){switch(i){case 90:return[1-t/n,e/s];case 180:return[1-e/n,1-t/s];case 270:return[t/n,1-e/s];default:return[e/n,t/s]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,s,i,r){return[(e+5*n)/6,(t+5*s)/6,(5*n+i)/6,(5*s+r)/6,(n+i)/2,(s+r)/2]}}Xe(yf,"PRECISION",1e-4);var wf=new WeakMap,kf=new WeakMap,jf=new WeakMap,_f=new WeakMap,Af=new WeakMap,Nf=new WeakMap,Sf=new WeakMap,Cf=new WeakMap,Ef=new WeakMap,Mf=new WeakMap,Pf=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Df=new WeakSet;class Lf{constructor(e,t,n,s,i){let{x:r,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;$e(this,Df),Ze(this,wf,void 0),Ze(this,kf,[]),Ze(this,jf,void 0),Ze(this,_f,void 0),Ze(this,Af,[]),Ze(this,Nf,new Float32Array(18)),Ze(this,Sf,void 0),Ze(this,Cf,void 0),Ze(this,Ef,void 0),Ze(this,Mf,void 0),Ze(this,Pf,void 0),Ze(this,Tf,void 0),Ze(this,Rf,[]),st(wf,this,t),st(Tf,this,s*n),st(_f,this,i),nt(Nf,this).set([NaN,NaN,NaN,NaN,r,a],6),st(jf,this,o),st(Mf,this,Hf._*n),st(Ef,this,Vf._*n),st(Pf,this,n),nt(Rf,this).push(r,a)}isEmpty(){return isNaN(nt(Nf,this)[8])}add(e){var t;let{x:n,y:s}=e;st(Sf,this,n),st(Cf,this,s);const[i,r,a,o]=nt(wf,this);let[l,c,d,h]=nt(Nf,this).subarray(8,12);const u=n-d,p=s-h,m=Math.hypot(u,p);if(m<nt(Ef,this))return!1;const f=m-nt(Mf,this),g=f/m,v=g*u,x=g*p;let b=l,y=c;l=d,c=h,d+=v,h+=x,null===(t=nt(Rf,this))||void 0===t||t.push(n,s);const w=v/f,k=-x/f*nt(Tf,this),j=w*nt(Tf,this);if(nt(Nf,this).set(nt(Nf,this).subarray(2,8),0),nt(Nf,this).set([d+k,h+j],4),nt(Nf,this).set(nt(Nf,this).subarray(14,18),12),nt(Nf,this).set([d-k,h-j],16),isNaN(nt(Nf,this)[6]))return 0===nt(Af,this).length&&(nt(Nf,this).set([l+k,c+j],2),nt(Af,this).push(NaN,NaN,NaN,NaN,(l+k-i)/a,(c+j-r)/o),nt(Nf,this).set([l-k,c-j],14),nt(kf,this).push(NaN,NaN,NaN,NaN,(l-k-i)/a,(c-j-r)/o)),nt(Nf,this).set([b,y,l,c,d,h],6),!this.isEmpty();nt(Nf,this).set([b,y,l,c,d,h],6);return Math.abs(Math.atan2(y-c,b-l)-Math.atan2(x,v))<Math.PI/2?([l,c,d,h]=nt(Nf,this).subarray(2,6),nt(Af,this).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/a,((c+h)/2-r)/o),[l,c,b,y]=nt(Nf,this).subarray(14,18),nt(kf,this).push(NaN,NaN,NaN,NaN,((b+l)/2-i)/a,((y+c)/2-r)/o),!0):([b,y,l,c,d,h]=nt(Nf,this).subarray(0,6),nt(Af,this).push(((b+5*l)/6-i)/a,((y+5*c)/6-r)/o,((5*l+d)/6-i)/a,((5*c+h)/6-r)/o,((l+d)/2-i)/a,((c+h)/2-r)/o),[d,h,l,c,b,y]=nt(Nf,this).subarray(12,18),nt(kf,this).push(((b+5*l)/6-i)/a,((y+5*c)/6-r)/o,((5*l+d)/6-i)/a,((5*c+h)/6-r)/o,((l+d)/2-i)/a,((c+h)/2-r)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=nt(Af,this),t=nt(kf,this);if(isNaN(nt(Nf,this)[6])&&!this.isEmpty())return et(Df,this,Ff).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push("L".concat(e[s+4]," ").concat(e[s+5])):n.push("C".concat(e[s]," ").concat(e[s+1]," ").concat(e[s+2]," ").concat(e[s+3]," ").concat(e[s+4]," ").concat(e[s+5]));et(Df,this,Bf).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push("L".concat(t[s+4]," ").concat(t[s+5])):n.push("C".concat(t[s]," ").concat(t[s+1]," ").concat(t[s+2]," ").concat(t[s+3]," ").concat(t[s+4]," ").concat(t[s+5]));return et(Df,this,Of).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,i,r){return new Zf(e,t,n,s,i,r)}getOutlines(){var e,t;const n=nt(Af,this),s=nt(kf,this),i=nt(Nf,this),[r,a,o,l]=nt(wf,this),c=new Float32Array((null!==(e=null===(t=nt(Rf,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let u=0,p=c.length-2;u<p;u+=2)c[u]=(nt(Rf,this)[u]-r)/o,c[u+1]=(nt(Rf,this)[u+1]-a)/l;if(c[c.length-2]=(nt(Sf,this)-r)/o,c[c.length-1]=(nt(Cf,this)-a)/l,isNaN(i[6])&&!this.isEmpty())return et(Df,this,Wf).call(this,c);const d=new Float32Array(nt(Af,this).length+24+nt(kf,this).length);let h=n.length;for(let u=0;u<h;u+=2)isNaN(n[u])?d[u]=d[u+1]=NaN:(d[u]=n[u],d[u+1]=n[u+1]);h=et(Df,this,Uf).call(this,d,h);for(let u=s.length-6;u>=6;u-=6)for(let e=0;e<6;e+=2)isNaN(s[u+e])?(d[h]=d[h+1]=NaN,h+=2):(d[h]=s[u+e],d[h+1]=s[u+e+1],h+=2);return et(Df,this,zf).call(this,d,h),this.newFreeDrawOutline(d,c,nt(wf,this),nt(Pf,this),nt(jf,this),nt(_f,this))}}function If(){const e=nt(Nf,this).subarray(4,6),t=nt(Nf,this).subarray(16,18),[n,s,i,r]=nt(wf,this);return[(nt(Sf,this)+(e[0]-t[0])/2-n)/i,(nt(Cf,this)+(e[1]-t[1])/2-s)/r,(nt(Sf,this)+(t[0]-e[0])/2-n)/i,(nt(Cf,this)+(t[1]-e[1])/2-s)/r]}function Ff(){const[e,t,n,s]=nt(wf,this),[i,r,a,o]=et(Df,this,If).call(this);return"M".concat((nt(Nf,this)[2]-e)/n," ").concat((nt(Nf,this)[3]-t)/s," L").concat((nt(Nf,this)[4]-e)/n," ").concat((nt(Nf,this)[5]-t)/s," L").concat(i," ").concat(r," L").concat(a," ").concat(o," L").concat((nt(Nf,this)[16]-e)/n," ").concat((nt(Nf,this)[17]-t)/s," L").concat((nt(Nf,this)[14]-e)/n," ").concat((nt(Nf,this)[15]-t)/s," Z")}function Of(e){const t=nt(kf,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function Bf(e){const[t,n,s,i]=nt(wf,this),r=nt(Nf,this).subarray(4,6),a=nt(Nf,this).subarray(16,18),[o,l,c,d]=et(Df,this,If).call(this);e.push("L".concat((r[0]-t)/s," ").concat((r[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((a[0]-t)/s," ").concat((a[1]-n)/i))}function Wf(e){const t=nt(Nf,this),[n,s,i,r]=nt(wf,this),[a,o,l,c]=et(Df,this,If).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-s)/r,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-s)/r,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-s)/r,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-s)/r],0),this.newFreeDrawOutline(d,e,nt(wf,this),nt(Pf,this),nt(jf,this),nt(_f,this))}function zf(e,t){const n=nt(kf,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function Uf(e,t){const n=nt(Nf,this).subarray(4,6),s=nt(Nf,this).subarray(16,18),[i,r,a,o]=nt(wf,this),[l,c,d,h]=et(Df,this,If).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/a,(n[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-r)/o],t),t+24}var Hf={_:8},Vf={_:Hf._+2},Gf=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,$f=new WeakSet;class Zf extends yf{constructor(e,t,n,s,i,r){super(),$e(this,$f),Ze(this,Gf,void 0),Ze(this,qf,new Float32Array(4)),Ze(this,Xf,void 0),Ze(this,Yf,void 0),Ze(this,Kf,void 0),Ze(this,Jf,void 0),Ze(this,Qf,void 0),st(Qf,this,e),st(Kf,this,t),st(Gf,this,n),st(Jf,this,s),st(Xf,this,i),st(Yf,this,r),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],et($f,this,eg).call(this,r);const[a,o,l,c]=nt(qf,this);for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(nt(Qf,this)[4]," ").concat(nt(Qf,this)[5])];for(let t=6,n=nt(Qf,this).length;t<n;t+=6)isNaN(nt(Qf,this)[t])?e.push("L".concat(nt(Qf,this)[t+4]," ").concat(nt(Qf,this)[t+5])):e.push("C".concat(nt(Qf,this)[t]," ").concat(nt(Qf,this)[t+1]," ").concat(nt(Qf,this)[t+2]," ").concat(nt(Qf,this)[t+3]," ").concat(nt(Qf,this)[t+4]," ").concat(nt(Qf,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,s,i,r]=e;const a=i-n,o=r-s;let l,c;switch(t){case 0:l=yf._rescale(nt(Qf,this),n,r,a,-o),c=yf._rescale(nt(Kf,this),n,r,a,-o);break;case 90:l=yf._rescaleAndSwap(nt(Qf,this),n,s,a,o),c=yf._rescaleAndSwap(nt(Kf,this),n,s,a,o);break;case 180:l=yf._rescale(nt(Qf,this),i,s,-a,o),c=yf._rescale(nt(Kf,this),i,s,-a,o);break;case 270:l=yf._rescaleAndSwap(nt(Qf,this),i,r,-a,-o),c=yf._rescaleAndSwap(nt(Kf,this),i,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return nt(qf,this)}newOutliner(e,t,n,s,i){return new Lf(e,t,n,s,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[n,s,i,r]=nt(qf,this),[a,o,l,c]=nt(Gf,this),d=i*l,h=r*c,u=n*l+a,p=s*c+o,m=this.newOutliner({x:nt(Kf,this)[0]*d+u,y:nt(Kf,this)[1]*h+p},nt(Gf,this),nt(Jf,this),e,nt(Yf,this),null!==t&&void 0!==t?t:nt(Xf,this));for(let f=2;f<nt(Kf,this).length;f+=2)m.add({x:nt(Kf,this)[f]*d+u,y:nt(Kf,this)[f+1]*h+p});return m.getOutlines()}}function eg(e){const t=nt(Qf,this);let n=t[4],s=t[5];const i=[n,s,n,s];let r=n,a=s,o=n,l=s;const c=e?Math.max:Math.min,d=new Float32Array(4);for(let u=6,p=t.length;u<p;u+=6){const e=t[u+4],h=t[u+5];isNaN(t[u])?(An.pointBoundingBox(e,h,i),a>h?(r=e,a=h):a===h&&(r=c(r,e)),l<h?(o=e,l=h):l===h&&(o=c(o,e))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,An.bezierBoundingBox(n,s,...t.slice(u,u+6),d),An.rectBoundingBox(d[0],d[1],d[2],d[3],i),a>d[1]?(r=d[0],a=d[1]):a===d[1]&&(r=c(r,d[0])),l<d[3]?(o=d[2],l=d[3]):l===d[3]&&(o=c(o,d[2]))),n=e,s=h}const h=nt(qf,this);h[0]=i[0]-nt(Xf,this),h[1]=i[1]-nt(Xf,this),h[2]=i[2]-i[0]+2*nt(Xf,this),h[3]=i[3]-i[1]+2*nt(Xf,this),this.firstPoint=[r,a],this.lastPoint=[o,l]}var tg=new WeakMap,ng=new WeakMap,sg=new WeakMap,ig=new WeakMap,rg=new WeakMap,ag=new WeakSet;class og{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];$e(this,ag),Ze(this,tg,void 0),Ze(this,ng,void 0),Ze(this,sg,void 0),Ze(this,ig,[]),Ze(this,rg,[]);const i=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:m,y:f,width:g,height:v}of e){const e=Math.floor((m-t)/r)*r,n=Math.ceil((m+g+t)/r)*r,s=Math.floor((f-t)/r)*r,a=Math.ceil((f+v+t)/r)*r,o=[e,s,a,!0],l=[n,s,a,!1];nt(ig,this).push(o,l),An.rectBoundingBox(e,s,n,a,i)}const a=i[2]-i[0]+2*n,o=i[3]-i[1]+2*n,l=i[0]-n,c=i[1]-n;let d=s?-1/0:1/0,h=1/0;const u=nt(ig,this).at(s?-1:-2),p=[u[0],u[2]];for(const m of nt(ig,this)){const[e,t,n,i]=m;!i&&s?t<h?(h=t,d=e):t===h&&(d=Math.max(d,e)):i&&!s&&(t<h?(h=t,d=e):t===h&&(d=Math.min(d,e))),m[0]=(e-l)/a,m[1]=(t-c)/o,m[2]=(n-c)/o}st(tg,this,new Float32Array([l,c,a,o])),st(ng,this,[d,h]),st(sg,this,p)}getOutlines(){nt(ig,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of nt(ig,this))t[3]?(e.push(...et(ag,this,ug).call(this,t)),et(ag,this,dg).call(this,t)):(et(ag,this,hg).call(this,t),e.push(...et(ag,this,ug).call(this,t)));return et(ag,this,lg).call(this,e)}}function lg(e){const t=[],n=new Set;for(const r of e){const[e,n,s]=r;t.push([e,n,r],[e,s,r])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let r=0,a=t.length;r<a;r+=2){const e=t[r][2],s=t[r+1][2];e.push(s),s.push(e),n.add(e),n.add(s)}const s=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,r,a,o,l]=e;n.delete(e);let c=t,d=r;for(i=[t,a],s.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,r,a,o,l]=e,c!==t&&(i.push(c,d,t,d===r?r:a),c=t),d=d===r?a:r}i.push(c,d)}return new fg(s,nt(tg,this),nt(ng,this),nt(sg,this))}function cg(e){const t=nt(rg,this);let n=0,s=t.length-1;for(;n<=s;){const i=n+s>>1,r=t[i][0];if(r===e)return i;r<e?n=i+1:s=i-1}return s+1}function dg(e){let[,t,n]=e;const s=et(ag,this,cg).call(this,t);nt(rg,this).splice(s,0,[t,n])}function hg(e){let[,t,n]=e;const s=et(ag,this,cg).call(this,t);for(let i=s;i<nt(rg,this).length;i++){const[e,s]=nt(rg,this)[i];if(e!==t)break;if(e===t&&s===n)return void nt(rg,this).splice(i,1)}for(let i=s-1;i>=0;i--){const[e,s]=nt(rg,this)[i];if(e!==t)break;if(e===t&&s===n)return void nt(rg,this).splice(i,1)}}function ug(e){const[t,n,s]=e,i=[[t,n,s]],r=et(ag,this,cg).call(this,s);for(let a=0;a<r;a++){const[e,n]=nt(rg,this)[a];for(let s=0,r=i.length;s<r;s++){const[,a,o]=i[s];if(!(n<=a||o<=e))if(a>=e)if(o>n)i[s][1]=n;else{if(1===r)return[];i.splice(s,1),s--,r--}else i[s][2]=e,o>n&&i.push([t,n,o])}}return i}var pg=new WeakMap,mg=new WeakMap;class fg extends yf{constructor(e,t,n,s){super(),Ze(this,pg,void 0),Ze(this,mg,void 0),st(mg,this,e),st(pg,this,t),this.firstPoint=n,this.lastPoint=s}toSVGPath(){const e=[];for(const t of nt(mg,this)){let[n,s]=t;e.push("M".concat(n," ").concat(s));for(let i=2;i<t.length;i+=2){const r=t[i],a=t[i+1];r===n?(e.push("V".concat(a)),s=a):a===s&&(e.push("H".concat(r)),n=r)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,s,i,r]=e;const a=[],o=i-n,l=r-s;for(const c of nt(mg,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=r-c[t+1]*l;a.push(e)}return a}get box(){return nt(pg,this)}get classNamesForOutlining(){return["highlightOutline"]}}class gg extends Lf{newFreeDrawOutline(e,t,n,s,i,r){return new vg(e,t,n,s,i,r)}}class vg extends Zf{newOutliner(e,t,n,s,i){return new gg(e,t,n,s,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var xg=new WeakMap,bg=new WeakMap,yg=new WeakMap,wg=new WeakMap,kg=new WeakMap,jg=new WeakMap,_g=new WeakMap,Ag=new WeakMap,Ng=new WeakMap,Sg=new WeakMap,Cg=new WeakMap,Eg=new WeakMap,Mg=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,Rg=new WeakMap,Dg=new WeakMap,Lg=new WeakMap,Ig=new WeakSet;class Fg extends Da{static get _keyboardManager(){const e=Fg.prototype;return pn(this,"_keyboardManager",new Xs([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Ke(Ke({},e),{},{name:"highlightEditor"})),$e(this,Ig),Ze(this,xg,null),Ze(this,bg,0),Ze(this,yg,void 0),Ze(this,wg,null),Ze(this,kg,null),Ze(this,jg,null),Ze(this,_g,null),Ze(this,Ag,0),Ze(this,Ng,null),Ze(this,Sg,null),Ze(this,Cg,null),Ze(this,Eg,!1),Ze(this,Mg,null),Ze(this,Pg,null),Ze(this,Tg,null),Ze(this,Rg,""),Ze(this,Dg,void 0),Ze(this,Lg,""),this.color=e.color||Fg._defaultColor,st(Dg,this,e.thickness||Fg._defaultThickness),this.opacity=e.opacity||Fg._defaultOpacity,st(yg,this,e.boxes||null),st(Lg,this,e.methodOfCreation||""),st(Rg,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(st(Eg,this,!0),et(Ig,this,Bg).call(this,e),et(Ig,this,Vg).call(this)):nt(yg,this)&&(st(xg,this,e.anchorNode),st(bg,this,e.anchorOffset),st(_g,this,e.focusNode),st(Ag,this,e.focusOffset),et(Ig,this,Og).call(this),et(Ig,this,Vg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:nt(Eg,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:nt(Dg,this),methodOfCreation:nt(Lg,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;Da.initialize(e,t),Fg._defaultColor||(Fg._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Ft.HIGHLIGHT_COLOR:Fg._defaultColor=t;break;case Ft.HIGHLIGHT_THICKNESS:Fg._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return nt(Pg,this)}get commentButtonPosition(){return nt(Mg,this)}updateParams(e,t){switch(e){case Ft.HIGHLIGHT_COLOR:et(Ig,this,Wg).call(this,t);break;case Ft.HIGHLIGHT_THICKNESS:et(Ig,this,zg).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,Fg._defaultColor],[Ft.HIGHLIGHT_THICKNESS,Fg._defaultThickness]]}get propertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,this.color||Fg._defaultColor],[Ft.HIGHLIGHT_THICKNESS,nt(Dg,this)||Fg._defaultThickness],[Ft.HIGHLIGHT_FREE,nt(Eg,this)]]}onUpdatedColor(){var e,t;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Cg,this),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(t=nt(kg,this))||void 0===t||t.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",st(kg,this,new Gu({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(et(Ig,this,Yg).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,et(Ig,this,Yg).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){et(Ig,this,Hg).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(et(Ig,this,Vg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)et(Ig,this,Hg).call(this);else if(e){var n;et(Ig,this,Vg).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;nt(Eg,this)?(e=(e-this.rotation+360)%360,n=Gg.call(Fg,nt(Sg,this).box,e)):n=Gg.call(Fg,[this.x,this.y,this.width,this.height],e),t.updateProperties(nt(Cg,this),{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(nt(Tg,this),{bbox:Gg.call(Fg,nt(jg,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();nt(Rg,this)&&(e.setAttribute("aria-label",nt(Rg,this)),e.setAttribute("role","mark")),nt(Eg,this)?e.classList.add("free"):this.div.addEventListener("keydown",et(Ig,this,qg).bind(this),{signal:this._uiManager._signal});const t=st(Ng,this,document.createElement("div"));return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=nt(wg,this),this.setDims(this.width,this.height),Ts(this,nt(Ng,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Tg,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Tg,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:et(Ig,this,Xg).call(this,!0);break;case 1:case 3:et(Ig,this,Xg).call(this,!1)}}select(){var e;super.select(),nt(Tg,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Tg,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),nt(Tg,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Tg,this),{rootClass:{selected:!1}}),nt(Eg,this)||et(Ig,this,Xg).call(this,!1))}get _mustFixPosition(){return!nt(Eg,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(nt(Cg,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(nt(Tg,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,n){let{target:s,x:i,y:r}=n;const{x:a,y:o,width:l,height:c}=s.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),u=t=>{d.abort(),et(Fg,this,$g).call(this,e,t)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",qn,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Gn,{signal:h}),s.addEventListener("pointermove",et(Fg,this,Qg).bind(this,e),{signal:h}),this._freeHighlight=new gg({x:i,y:r},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){let s=null;if(e instanceof Om){const{data:{quadPoints:t,rect:n,rotation:i,id:r,color:a,opacity:o,popupRef:l,richText:c,contentsObj:d,creationDate:h,modificationDate:u},parent:{page:{pageNumber:p}}}=e;s=e={annotationType:It.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:t,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:h,modificationDate:u}}else if(e instanceof Im){const{data:{inkLists:t,rect:n,rotation:i,id:r,color:a,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:d,creationDate:h,modificationDate:u},parent:{page:{pageNumber:p}}}=e;s=e={annotationType:It.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:t,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:h,modificationDate:u}}const{color:i,quadPoints:r,inkLists:a,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=An.makeHexColor(...i),l.opacity=o||1,a&&st(Dg,l,e.thickness),l._initialData=s,e.comment&&l.setCommentData(e);const[c,d]=l.pageDimensions,[h,u]=l.pageTranslation;if(r){const e=st(yg,l,[]);for(let t=0;t<r.length;t+=8)e.push({x:(r[t]-h)/c,y:1-(r[t+1]-u)/d,width:(r[t+2]-r[t])/c,height:(r[t+1]-r[t+5])/d});et(Ig,l,Og).call(l),et(Ig,l,Vg).call(l),l.rotate(l.rotation)}else if(a){st(Eg,l,!0);const e=a[0],n={x:e[0]-h,y:d-(e[1]-u)},s=new gg(n,[0,0,c,d],1,nt(Dg,l)/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)n.x=e[t]-h,n.y=d-(e[t+1]-u),s.add(n);const{id:i,clipPathId:r}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:s.toSVGPath()}},!0,!0);et(Ig,l,Bg).call(l,{highlightOutlines:s.getOutlines(),highlightId:i,clipPathId:r}),et(Ig,l,Vg).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Da._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:nt(Dg,this),quadPoints:et(Ig,this,Kg).call(this),outlines:et(Ig,this,Jg).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!et(Ig,this,Zg).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function Og(){const e=new og(nt(yg,this),.001);st(Sg,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=nt(Sg,this).box;const t=new og(nt(yg,this),.0025,.001,"ltr"===this._uiManager.direction);st(jg,this,t.getOutlines());const{firstPoint:n}=nt(Sg,this);st(Mg,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:s}=nt(jg,this);st(Pg,this,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])}function Bg(e){let{highlightOutlines:t,highlightId:n,clipPathId:s}=e;st(Sg,this,t);if(st(jg,this,t.getNewOutline(nt(Dg,this)/2+1.5,.0025)),n>=0)st(Cg,this,n),st(wg,this,s),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),st(Tg,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:nt(jg,this).box,path:{d:nt(jg,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(nt(Cg,this),{bbox:Gg.call(bt,nt(Sg,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(nt(Tg,this),{bbox:Gg.call(bt,nt(jg,this).box,e),path:{d:nt(jg,this).toSVGPath()}})}const[i,r,a,o]=t.box;switch(this.rotation){case 0:this.x=i,this.y=r,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{firstPoint:l}=t;st(Mg,this,[(l[0]-i)/a,(l[1]-r)/o]);const{lastPoint:c}=nt(jg,this);st(Pg,this,[(c[0]-i)/a,(c[1]-r)/o])}function Wg(e){const t=(e,t)=>{this.color=e,this.opacity=t,this.onUpdatedColor()},n=this.color,s=this.opacity;this.addCommands({cmd:t.bind(this,e,bt._defaultOpacity),undo:t.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}function zg(e){const t=nt(Dg,this),n=e=>{st(Dg,this,e),et(Ig,this,Ug).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function Ug(e){nt(Eg,this)&&(et(Ig,this,Bg).call(this,{highlightOutlines:nt(Sg,this).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function Hg(){null!==nt(Cg,this)&&this.parent&&(this.parent.drawLayer.remove(nt(Cg,this)),st(Cg,this,null),this.parent.drawLayer.remove(nt(Tg,this)),st(Tg,this,null))}function Vg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===nt(Cg,this)&&(({id:Je(st,[Cg,this])._,clipPathId:Je(st,[wg,this])._}=e.drawLayer.draw({bbox:nt(Sg,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:nt(Eg,this)},path:{d:nt(Sg,this).toSVGPath()}},!1,!0)),st(Tg,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:nt(Eg,this)},bbox:nt(jg,this).box,path:{d:nt(jg,this).toSVGPath()}},nt(Eg,this))),nt(Ng,this)&&(nt(Ng,this).style.clipPath=nt(wg,this)))}function Gg(e,t){let[n,s,i,r]=e;switch(t){case 90:return[1-s-r,n,r,i];case 180:return[1-n-i,1-s-r,i,r];case 270:return[s,1-n-i,r,i]}return[n,s,i,r]}function qg(e){bt._keyboardManager.exec(this,e)}function Xg(e){if(!nt(xg,this))return;const t=window.getSelection();e?t.setPosition(nt(xg,this),nt(bg,this)):t.setPosition(nt(_g,this),nt(Ag,this))}function Yg(){return nt(Eg,this)?this.rotation:0}function Kg(){if(nt(Eg,this))return null;const[e,t]=this.pageDimensions,[n,s]=this.pageTranslation,i=nt(yg,this),r=new Float32Array(8*i.length);let a=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+n,h=(1-l)*t+s;r[a]=r[a+4]=i,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=i+c*e,r[a+5]=r[a+7]=h-d*t,a+=8}return r}function Jg(e){return nt(Sg,this).serialize(e,et(Ig,this,Yg).call(this))}function Qg(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function $g(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function Zg(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((e,n)=>e!==t[n])}bt=Fg,Xe(Fg,"_defaultColor",null),Xe(Fg,"_defaultOpacity",1),Xe(Fg,"_defaultThickness",12),Xe(Fg,"_type","highlight"),Xe(Fg,"_editorType",It.HIGHLIGHT),Xe(Fg,"_freeHighlightId",-1),Xe(Fg,"_freeHighlight",null),Xe(Fg,"_freeHighlightClipId","");var ev=new WeakMap;class tv{constructor(){Ze(this,ev,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){nt(ev,this)[e]=t}toSVGProperties(){const e=nt(ev,this);return st(ev,this,Object.create(null)),{root:e}}reset(){st(ev,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){cn("Not implemented")}}var nv=new WeakMap,sv=new WeakMap,iv=new WeakSet;class rv extends Da{constructor(e){super(e),$e(this,iv),Ze(this,nv,null),Ze(this,sv,void 0),Xe(this,"_colorPicker",null),Xe(this,"_drawId",null),st(sv,this,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;null===(e=this._colorPicker)||void 0===e||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(et(iv,this,av).call(this,e),et(iv,this,cv).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[s,i]of Object.entries(t))n.has(s)?Object.assign(e[s],i):e[s]=i;return e}static getDefaultDrawingOptions(e){cn("Not implemented")}static get typesMap(){cn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(mv._.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)e.push([n,t[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,s]of this.constructor.typesMap)e.push([n,t[s]]);return e}_updateProperty(e,t,n){const s=this._drawingOptions,i=s[t],r=n=>{var i;s.updateProperty(t,n);const r=nt(nv,this).updateProperty(t,n);r&&et(iv,this,uv).call(this,r),null===(i=this.parent)||void 0===i||i.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,rv._mergeSVGProperties(nt(nv,this).getPathResizingSVGProperties(et(iv,this,hv).call(this)),{bbox:et(iv,this,pv).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,rv._mergeSVGProperties(nt(nv,this).getPathResizedSVGProperties(et(iv,this,hv).call(this)),{bbox:et(iv,this,pv).call(this)}))}_onTranslating(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:et(iv,this,pv).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,rv._mergeSVGProperties(nt(nv,this).getPathTranslatedSVGProperties(et(iv,this,hv).call(this),this.parentDimensions),{bbox:et(iv,this,pv).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,nt(sv,this)&&(st(sv,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){et(iv,this,lv).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(et(iv,this,cv).call(this),et(iv,this,uv).call(this,nt(nv,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),et(iv,this,lv).call(this);else if(e){var n;this._uiManager.addShouldRescale(this),et(iv,this,cv).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,rv._mergeSVGProperties({bbox:et(iv,this,pv).call(this)},nt(nv,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&et(iv,this,uv).call(this,nt(nv,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");return n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,s,i){cn("Not implemented")}static startDrawing(e,t,n,s){var i,r;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=s;if(xv._&&xv._!==d)return;const{viewport:{rotation:h}}=e,{width:u,height:p}=a.getBoundingClientRect(),m=fv._=new AbortController,f=e.combinedSignal(m);vv._||(vv._=c),null!==(i=xv._)&&void 0!==i||(xv._=d),window.addEventListener("pointerup",e=>{var t;vv._===e.pointerId?this._endDraw(e):null===(t=bv._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointercancel",e=>{var t;vv._===e.pointerId?this._currentParent.endDrawingSession():null===(t=bv._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointerdown",e=>{xv._===e.pointerType&&((bv._||(bv._=new Set)).add(e.pointerId),mv._.isCancellable()&&(mv._.removeLastElement(),mv._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Gn,{signal:f}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),a.addEventListener("touchmove",e=>{e.timeStamp===yv._&&qn(e)},{signal:f}),e.toggleDrawing(),null===(r=t._editorUndoBar)||void 0===r||r.hide(),mv._?e.drawLayer.updateProperties(this._currentDrawId,mv._.startNew(o,l,u,p,h)):(t.updateUIForDefaultProperties(this),mv._=this.createDrawerInstance(o,l,u,p,h),gv._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(gv._.toSVGProperties(),mv._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(yv._=-1,!mv._)return;const{offsetX:n,offsetY:s,pointerId:i}=e;vv._===i&&((null===(t=bv._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,mv._.add(n,s)),yv._=e.timeStamp,qn(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,mv._=null,gv._=null,xv._=null,yv._=NaN),fv._&&(fv._.abort(),fv._=null,vv._=NaN,bv._=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,mv._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=mv._,n=this._currentDrawId,s=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:Ft.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ft.DRAW_STEP),!mv._.isEmpty()){const{pageDimensions:[n,s],scale:i}=t,r=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:mv._.getOutlines(n*i,s*i,i,this._INNER_MARGIN),drawingOptions:gv._,mustBeCommitted:!e});return this._cleanup(!0),r}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,s,i,r){cn("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:a}}=t.viewport,o=this.deserializeDraw(r,a,s,i,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),et(iv,l,av).call(l,{drawOutlines:o}),et(iv,l,cv).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[s,i]=this.pageDimensions;return nt(nv,this).serialize([t,n,s,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function av(e){let{drawOutlines:t,drawId:n,drawingOptions:s}=e;st(nv,this,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=et(iv,this,ov).call(this,t,this.parent),et(iv,this,uv).call(this,t.box)}function ov(e,t){const{id:n}=t.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}function lv(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function cv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=et(iv,this,ov).call(this,nt(nv,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function dv(e){let[t,n,s,i]=e;const{parentDimensions:[r,a],rotation:o}=this;switch(o){case 90:return[n,1-t,s*(a/r),i*(r/a)];case 180:return[1-t,1-n,s,i];case 270:return[1-n,t,s*(a/r),i*(r/a)];default:return[t,n,s,i]}}function hv(){const{x:e,y:t,width:n,height:s,parentDimensions:[i,r],rotation:a}=this;switch(a){case 90:return[1-t,e,n*(i/r),s*(r/i)];case 180:return[1-e,1-t,n,s];case 270:return[t,1-e,n*(i/r),s*(r/i)];default:return[e,t,n,s]}}function uv(e){[this.x,this.y,this.width,this.height]=et(iv,this,dv).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function pv(){const{x:e,y:t,width:n,height:s,rotation:i,parentRotation:r,parentDimensions:[a,o]}=this;switch((4*i+r)/90){case 1:return[1-t-s,e,s,n];case 2:return[1-e-n,1-t-s,n,s];case 3:return[t,1-e-n,s,n];case 4:return[e,t-n*(a/o),s*(o/a),n*(a/o)];case 5:return[1-t,e,n*(a/o),s*(o/a)];case 6:return[1-e-s*(o/a),1-t,s*(o/a),n*(a/o)];case 7:return[t-n*(a/o),1-e-s*(o/a),n*(a/o),s*(o/a)];case 8:return[e-n,t-s,n,s];case 9:return[1-t,e-n,s,n];case 10:return[1-e,1-t,n,s];case 11:return[t-s,1-e,s,n];case 12:return[e-s*(o/a),t,s*(o/a),n*(a/o)];case 13:return[1-t-n*(a/o),e-s*(o/a),n*(a/o),s*(o/a)];case 14:return[1-e,1-t-n*(a/o),s*(o/a),n*(a/o)];case 15:return[t,1-e,n*(a/o),s*(o/a)];default:return[e,t,n,s]}}yt=rv,Xe(rv,"_currentDrawId",-1),Xe(rv,"_currentParent",null);var mv={_:null},fv={_:null},gv={_:null},vv={_:NaN},xv={_:null},bv={_:null},yv={_:NaN};Xe(rv,"_INNER_MARGIN",3);var wv=new WeakMap,kv=new WeakMap,jv=new WeakMap,_v=new WeakMap,Av=new WeakMap,Nv=new WeakMap,Sv=new WeakMap,Cv=new WeakMap,Ev=new WeakMap,Mv=new WeakMap,Pv=new WeakMap,Tv=new WeakSet;class Rv{constructor(e,t,n,s,i,r){$e(this,Tv),Ze(this,wv,new Float64Array(6)),Ze(this,kv,void 0),Ze(this,jv,void 0),Ze(this,_v,void 0),Ze(this,Av,void 0),Ze(this,Nv,void 0),Ze(this,Sv,""),Ze(this,Cv,0),Ze(this,Ev,new Gv),Ze(this,Mv,void 0),Ze(this,Pv,void 0),st(Mv,this,n),st(Pv,this,s),st(_v,this,i),st(Av,this,r),[e,t]=et(Tv,this,Dv).call(this,e,t);const a=st(kv,this,[NaN,NaN,NaN,NaN,e,t]);st(Nv,this,[e,t]),st(jv,this,[{line:a,points:nt(Nv,this)}]),nt(wv,this).set(a,0)}updateProperty(e,t){"stroke-width"===e&&st(Av,this,t)}isEmpty(){return!nt(jv,this)||0===nt(jv,this).length}isCancellable(){return nt(Nv,this).length<=10}add(e,t){[e,t]=et(Tv,this,Dv).call(this,e,t);const[n,s,i,r]=nt(wv,this).subarray(2,6),a=e-i,o=t-r;return Math.hypot(nt(Mv,this)*a,nt(Pv,this)*o)<=2?null:(nt(Nv,this).push(e,t),isNaN(n)?(nt(wv,this).set([i,r,e,t],2),nt(kv,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(nt(wv,this)[0])&&nt(kv,this).splice(6,6),nt(wv,this).set([n,s,i,r,e,t],0),nt(kv,this).push(...yf.createBezierPoints(n,s,i,r,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===nt(Nv,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,s,i){st(Mv,this,n),st(Pv,this,s),st(_v,this,i),[e,t]=et(Tv,this,Dv).call(this,e,t);const r=st(kv,this,[NaN,NaN,NaN,NaN,e,t]);st(Nv,this,[e,t]);const a=nt(jv,this).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),nt(jv,this).push({line:r,points:nt(Nv,this)}),nt(wv,this).set(r,0),st(Cv,this,0),this.toSVGPath(),null}getLastElement(){return nt(jv,this).at(-1)}setLastElement(e){return nt(jv,this)?(nt(jv,this).push(e),st(kv,this,e.line),st(Nv,this,e.points),st(Cv,this,0),{path:{d:this.toSVGPath()}}):nt(Ev,this).setLastElement(e)}removeLastElement(){if(!nt(jv,this))return nt(Ev,this).removeLastElement();nt(jv,this).pop(),st(Sv,this,"");for(let e=0,t=nt(jv,this).length;e<t;e++){const{line:t,points:n}=nt(jv,this)[e];st(kv,this,t),st(Nv,this,n),st(Cv,this,0),this.toSVGPath()}return{path:{d:nt(Sv,this)}}}toSVGPath(){const e=yf.svgRound(nt(kv,this)[4]),t=yf.svgRound(nt(kv,this)[5]);if(2===nt(Nv,this).length)return st(Sv,this,"".concat(nt(Sv,this)," M ").concat(e," ").concat(t," Z")),nt(Sv,this);if(nt(Nv,this).length<=6){const n=nt(Sv,this).lastIndexOf("M");st(Sv,this,"".concat(nt(Sv,this).slice(0,n)," M ").concat(e," ").concat(t)),st(Cv,this,6)}if(4===nt(Nv,this).length){const e=yf.svgRound(nt(kv,this)[10]),t=yf.svgRound(nt(kv,this)[11]);return st(Sv,this,"".concat(nt(Sv,this)," L ").concat(e," ").concat(t)),st(Cv,this,12),nt(Sv,this)}const n=[];0===nt(Cv,this)&&(n.push("M ".concat(e," ").concat(t)),st(Cv,this,6));for(let s=nt(Cv,this),i=nt(kv,this).length;s<i;s+=6){const[e,t,i,r,a,o]=nt(kv,this).slice(s,s+6).map(yf.svgRound);n.push("C".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(a," ").concat(o))}return st(Sv,this,nt(Sv,this)+n.join(" ")),st(Cv,this,nt(kv,this).length),nt(Sv,this)}getOutlines(e,t,n,s){const i=nt(jv,this).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),nt(Ev,this).build(nt(jv,this),e,t,n,nt(_v,this),nt(Av,this),s),st(wv,this,null),st(kv,this,null),st(jv,this,null),st(Sv,this,null),nt(Ev,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function Dv(e,t){return yf._normalizePoint(e,t,nt(Mv,this),nt(Pv,this),nt(_v,this))}var Lv=new WeakMap,Iv=new WeakMap,Fv=new WeakMap,Ov=new WeakMap,Bv=new WeakMap,Wv=new WeakMap,zv=new WeakMap,Uv=new WeakMap,Hv=new WeakMap,Vv=new WeakSet;class Gv extends yf{constructor(){super(...arguments),$e(this,Vv),Ze(this,Lv,void 0),Ze(this,Iv,0),Ze(this,Fv,void 0),Ze(this,Ov,void 0),Ze(this,Bv,void 0),Ze(this,Wv,void 0),Ze(this,zv,void 0),Ze(this,Uv,void 0),Ze(this,Hv,void 0)}build(e,t,n,s,i,r,a){st(Bv,this,t),st(Wv,this,n),st(zv,this,s),st(Uv,this,i),st(Hv,this,r),st(Fv,this,null!==a&&void 0!==a?a:0),st(Ov,this,e),et(Vv,this,Yv).call(this)}get thickness(){return nt(Hv,this)}setLastElement(e){return nt(Ov,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return nt(Ov,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of nt(Ov,this))if(e.push("M".concat(yf.svgRound(t[4])," ").concat(yf.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(yf.svgRound(t[10])," ").concat(yf.svgRound(t[11])));else for(let n=6,s=t.length;n<s;n+=6){const[s,i,r,a,o,l]=t.subarray(n,n+6).map(yf.svgRound);e.push("C".concat(s," ").concat(i," ").concat(r," ").concat(a," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[n,s,i,r]=e;const a=[],o=[],[l,c,d,h]=et(Vv,this,Xv).call(this);let u,p,m,f,g,v,x,b,y;switch(nt(Uv,this)){case 0:y=yf._rescale,u=n,p=s+r,m=i,f=-r,g=n+l*i,v=s+(1-c-h)*r,x=n+(l+d)*i,b=s+(1-c)*r;break;case 90:y=yf._rescaleAndSwap,u=n,p=s,m=i,f=r,g=n+c*i,v=s+l*r,x=n+(c+h)*i,b=s+(l+d)*r;break;case 180:y=yf._rescale,u=n+i,p=s,m=-i,f=r,g=n+(1-l-d)*i,v=s+c*r,x=n+(1-l)*i,b=s+(c+h)*r;break;case 270:y=yf._rescaleAndSwap,u=n+i,p=s+r,m=-i,f=-r,g=n+(1-c-h)*i,v=s+(1-l-d)*r,x=n+(1-c)*i,b=s+(1-l)*r}for(const{line:w,points:k}of nt(Ov,this))a.push(y(w,u,p,m,f,t?new Array(w.length):null)),o.push(y(k,u,p,m,f,t?new Array(k.length):null));return{lines:a,points:o,rect:[g,v,x,b]}}static deserialize(e,t,n,s,i,r){let{paths:{lines:a,points:o},rotation:l,thickness:c}=r;const d=[];let h,u,p,m,f;switch(l){case 0:f=yf._rescale,h=-e/n,u=t/s+1,p=1/n,m=-1/s;break;case 90:f=yf._rescaleAndSwap,h=-t/s,u=-e/n,p=1/s,m=1/n;break;case 180:f=yf._rescale,h=e/n+1,u=-t/s,p=-1/n,m=1/s;break;case 270:f=yf._rescaleAndSwap,h=t/s+1,u=e/n+1,p=-1/s,m=-1/n}if(!a){a=[];for(const e of o){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));a.push(n);let[s,i,r,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,s,i],0);for(let a=4;a<t;a+=2){const t=e[a],l=e[a+1];n.set(yf.createBezierPoints(s,i,r,o,t,l),3*(a-2)),[s,i,r,o]=[r,o,t,l]}}}for(let v=0,x=a.length;v<x;v++)d.push({line:f(a[v].map(e=>null!==e&&void 0!==e?e:NaN),h,u,p,m),points:f(o[v].map(e=>null!==e&&void 0!==e?e:NaN),h,u,p,m)});const g=new this.prototype.constructor;return g.build(d,n,s,1,l,c,i),g}get box(){return nt(Lv,this)}updateProperty(e,t){return"stroke-width"===e?et(Vv,this,Kv).call(this,t):null}updateParentDimensions(e,t){let[n,s]=e;const[i,r]=et(Vv,this,qv).call(this);st(Bv,this,n),st(Wv,this,s),st(zv,this,t);const[a,o]=et(Vv,this,qv).call(this),l=a-i,c=o-r,d=nt(Lv,this);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return st(Iv,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return nt(Lv,this).map(yf.svgRound).join(" ")}get defaultProperties(){const[e,t]=nt(Lv,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(yf.svgRound(e)," ").concat(yf.svgRound(t))}}}get rotationTransform(){const[,,e,t]=nt(Lv,this);let n=0,s=0,i=0,r=0,a=0,o=0;switch(nt(Iv,this)){case 90:s=t/e,i=-e/t,a=e;break;case 180:n=-1,r=-1,a=e,o=t;break;case 270:s=-t/e,i=e/t,o=t;break;default:return""}return"matrix(".concat(n," ").concat(s," ").concat(i," ").concat(r," ").concat(yf.svgRound(a)," ").concat(yf.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,n,s,i]=e;const[r,a]=et(Vv,this,qv).call(this),[o,l,c,d]=nt(Lv,this);if(Math.abs(c-r)<=yf.PRECISION||Math.abs(d-a)<=yf.PRECISION){const e=t+s/2-(o+c/2),r=n+i/2-(l+d/2);return{path:{"transform-origin":"".concat(yf.svgRound(t)," ").concat(yf.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(r,")")}}}const h=(s-2*r)/(c-2*r),u=(i-2*a)/(d-2*a),p=c/s,m=d/i;return{path:{"transform-origin":"".concat(yf.svgRound(o)," ").concat(yf.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(p," ").concat(m,") ")+"translate(".concat(yf.svgRound(r)," ").concat(yf.svgRound(a),") scale(").concat(h," ").concat(u,") ")+"translate(".concat(yf.svgRound(-r)," ").concat(yf.svgRound(-a),")")}}}getPathResizedSVGProperties(e){let[t,n,s,i]=e;const[r,a]=et(Vv,this,qv).call(this),o=nt(Lv,this),[l,c,d,h]=o;if(o[0]=t,o[1]=n,o[2]=s,o[3]=i,Math.abs(d-r)<=yf.PRECISION||Math.abs(h-a)<=yf.PRECISION){const e=t+s/2-(l+d/2),r=n+i/2-(c+h/2);for(const{line:t,points:n}of nt(Ov,this))yf._translate(t,e,r,t),yf._translate(n,e,r,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(yf.svgRound(t)," ").concat(yf.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(s-2*r)/(d-2*r),p=(i-2*a)/(h-2*a),m=-u*(l+r)+t+r,f=-p*(c+a)+n+a;if(1!==u||1!==p||0!==m||0!==f)for(const{line:g,points:v}of nt(Ov,this))yf._rescale(g,m,f,u,p,g),yf._rescale(v,m,f,u,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(yf.svgRound(t)," ").concat(yf.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[n,s]=e;const[i,r]=t,a=nt(Lv,this),o=n-a[0],l=s-a[1];if(nt(Bv,this)===i&&nt(Wv,this)===r)for(const{line:c,points:d}of nt(Ov,this))yf._translate(c,o,l,c),yf._translate(d,o,l,d);else{const e=nt(Bv,this)/i,t=nt(Wv,this)/r;st(Bv,this,i),st(Wv,this,r);for(const{line:n,points:s}of nt(Ov,this))yf._rescale(n,o,l,e,t,n),yf._rescale(s,o,l,e,t,s);a[2]*=e,a[3]*=t}return a[0]=n,a[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(yf.svgRound(n)," ").concat(yf.svgRound(s))}}}get defaultSVGProperties(){const e=nt(Lv,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(yf.svgRound(e[0])," ").concat(yf.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function qv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(Hv,this);const t=nt(Fv,this)+e/2*nt(zv,this);return nt(Uv,this)%180===0?[t/nt(Bv,this),t/nt(Wv,this)]:[t/nt(Wv,this),t/nt(Bv,this)]}function Xv(){const[e,t,n,s]=nt(Lv,this),[i,r]=et(Vv,this,qv).call(this,0);return[e+i,t+r,n-2*i,s-2*r]}function Yv(){const e=st(Lv,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of nt(Ov,this)){if(s.length<=12){for(let t=4,n=s.length;t<n;t+=6)An.pointBoundingBox(s[t],s[t+1],e);continue}let t=s[4],n=s[5];for(let i=6,r=s.length;i<r;i+=6){const[r,a,o,l,c,d]=s.subarray(i,i+6);An.bezierBoundingBox(t,n,r,a,o,l,c,d,e),t=c,n=d}}const[t,n]=et(Vv,this,qv).call(this);e[0]=Tn(e[0]-t,0,1),e[1]=Tn(e[1]-n,0,1),e[2]=Tn(e[2]+t,0,1),e[3]=Tn(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}function Kv(e){const[t,n]=et(Vv,this,qv).call(this);st(Hv,this,e);const[s,i]=et(Vv,this,qv).call(this),[r,a]=[s-t,i-n],o=nt(Lv,this);return o[0]-=r,o[1]-=a,o[2]+=2*r,o[3]+=2*a,o}class Jv extends tv{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Da._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Jv(this._viewParameters);return e.updateAll(this),e}}var Qv=new WeakSet;class $v extends rv{constructor(e){super(Ke(Ke({},e),{},{name:"inkEditor"})),$e(this,Qv),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Da.initialize(e,t),this._defaultDrawingOptions=new Jv(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return pn(this,"typesMap",new Map([[Ft.INK_THICKNESS,"stroke-width"],[Ft.INK_COLOR,"stroke"],[Ft.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,s,i){return new Rv(e,t,n,s,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,s,i,r){return Gv.deserialize(e,t,n,s,i,r)}static async deserialize(e,t,n){let s=null;if(e instanceof Im){const{data:{inkLists:t,rect:n,rotation:i,id:r,color:a,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:d,contentsObj:h,creationDate:u,modificationDate:p},parent:{page:{pageNumber:m}}}=e;s=e={annotationType:It.INK,color:Array.from(a),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:m-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:d,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:u,modificationDate:p}}const i=await super.deserialize(e,t,n);return i._initialData=s,e.comment&&i.setCommentData(e),i}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new np(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:n,opacity:s}=e;this._drawingOptions=$v.getDefaultDrawingOptions({stroke:An.makeHexColor(...t),"stroke-width":n,"stroke-opacity":s})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":i,"stroke-width":r}}=this,a=Object.assign(super.serialize(e),{color:Da._colorManager.convert(s),opacity:i,thickness:r,paths:{lines:t,points:n}});return this.addComment(a),e?(a.isCopy=!0,a):this.annotationElementId&&!et(Qv,this,Zv).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}function Zv(e){const{color:t,thickness:n,opacity:s,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==s||e.pageIndex!==i}Xe($v,"_type","ink"),Xe($v,"_editorType",It.INK),Xe($v,"_defaultDrawingOptions",null);class ex extends Gv{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class tx{static extractContoursFromText(e,t,n,s,i,r){let{fontFamily:a,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=d.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(a),{actualBoundingBoxLeft:u,actualBoundingBoxRight:p,actualBoundingBoxAscent:m,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:x}=d.measureText(e),b=1.5,y=Math.ceil(Math.max(Math.abs(u)+Math.abs(p)||0,x)*b),w=Math.ceil(Math.max(Math.abs(m)+Math.abs(f)||200,Math.abs(g)+Math.abs(v)||200)*b);c=new OffscreenCanvas(y,w),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=h,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,y,w),d.fillStyle="black",d.fillText(e,.5*y/2,1.5*w/2);const k=et(tx,this,dx).call(this,d.getImageData(0,0,y,w).data),j=et(tx,this,cx).call(this,k),_=et(tx,this,hx).call(this,j),A=et(tx,this,rx).call(this,k,y,w,_);return this.processDrawnLines({lines:{curves:A,width:y,height:w},pageWidth:n,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static process(e,t,n,s,i){const[r,a,o]=et(tx,this,ux).call(this,e),[l,c]=et(tx,this,lx).call(this,r,a,o,Math.hypot(a,o)*et(tx,this,px)._.sigmaSFactor,et(tx,this,px)._.sigmaR,et(tx,this,px)._.kernelSize),d=et(tx,this,hx).call(this,c),h=et(tx,this,rx).call(this,l,a,o,d);return this.processDrawnLines({lines:{curves:h,width:a,height:o},pageWidth:t,pageHeight:n,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:n,pageWidth:s,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:o,areContours:l}=e;r%180!==0&&([s,i]=[i,s]);const{curves:c,width:d,height:h}=n,u=null!==(t=n.thickness)&&void 0!==t?t:0,p=[],m=Math.min(s/d,i/h),f=m/s,g=m/i,v=[];for(const{points:b}of c){const e=o?et(tx,this,ox).call(this,b):b;if(!e)continue;v.push(e);const t=e.length,n=new Float32Array(t),s=new Float32Array(3*(2===t?2:t-2));if(p.push({line:s,points:n}),2===t){n[0]=e[0]*f,n[1]=e[1]*g,s.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[i,r,a,l]=e;i*=f,r*=g,a*=f,l*=g,n.set([i,r,a,l],0),s.set([NaN,NaN,NaN,NaN,i,r],0);for(let o=4;o<t;o+=2){const t=n[o]=e[o]*f,c=n[o+1]=e[o+1]*g;s.set(yf.createBezierPoints(i,r,a,l,t,c),3*(o-2)),[i,r,a,l]=[a,l,t,c]}}if(0===p.length)return null;const x=l?new ex:new Gv;return x.build(p,s,i,1,r,l?0:u,a),{outline:x,newCurves:v,areContours:l,thickness:u,width:d,height:h}}static async compressSignature(e){let t,{outlines:n,areContours:s,thickness:i,width:r,height:a}=e,o=1/0,l=-1/0,c=0;for(const x of n){c+=x.length;for(let e=2,t=x.length;e<t;e++){const t=x[e]-x[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=n.length,h=8+3*d,u=new Uint32Array(h);let p=0;u[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*t.BYTES_PER_ELEMENT,u[p++]=0,u[p++]=r,u[p++]=a,u[p++]=s?0:1,u[p++]=Math.max(0,Math.floor(null!==i&&void 0!==i?i:0)),u[p++]=d,u[p++]=t.BYTES_PER_ELEMENT;for(const x of n)u[p++]=x.length-2,u[p++]=x[0],u[p++]=x[1];const m=new CompressionStream("deflate-raw"),f=m.writable.getWriter();await f.ready,f.write(u);const g=t.prototype.constructor;for(const x of n){const e=new g(x.length-2);for(let t=2,n=x.length;t<n;t++)e[t-2]=x[t]-x[t-2];f.write(e)}f.close();const v=await new Response(m.readable).arrayBuffer();return Rn(new Uint8Array(v))}static async decompressSignature(e){try{const l=(a=e,Uint8Array.fromBase64?Uint8Array.fromBase64(a):kn(atob(a))),{readable:c,writable:d}=new DecompressionStream("deflate-raw"),h=d.getWriter();await h.ready,h.write(l).then(async()=>{await h.ready,await h.close()}).catch(()=>{});let u=null,p=0;var t,n=!1,s=!1;try{for(var i,r=function(e){var t,n,s,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,s=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(s&&null!=(t=e[s]))return new it(t.call(e));n="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(i=await r.next()).done;n=!1){const e=i.value;u||(u=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),u.set(e,p),p+=e.length}}catch(o){s=!0,t=o}finally{try{n&&null!=r.return&&await r.return()}finally{if(s)throw t}}const m=new Uint32Array(u.buffer,0,u.length>>2),f=m[1];if(0!==f)throw new Error("Invalid version: ".concat(f));const g=m[2],v=m[3],x=0===m[4],b=m[5],y=m[6],w=m[7],k=[],j=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(w){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(u.buffer,j);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(u.buffer,j);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(u.buffer,j)}p=0;for(let e=0;e<y;e++){const t=m[3*e+8],n=new Float32Array(t+2);k.push(n);for(let s=0;s<2;s++)n[s]=m[3*e+8+s+1];for(let e=0;e<t;e++)n[e+2]=n[e]+_[p++]}return{areContours:x,thickness:b,outlines:k,width:g,height:v}}catch(Vy){return ln("decompressSignature: ".concat(Vy)),null}var a}}function nx(e,t,n,s){return s-=t,0===(n-=e)?s>0?0:4:1===n?s+6:2-s}function sx(e,t,n,s,i,r,a){const o=et(wt,this,nx).call(this,n,s,i,r);for(let l=0;l<8;l++){const i=(-l+o-a+16)%8;if(0!==e[(n+et(wt,this,mx)._[2*i])*t+(s+et(wt,this,mx)._[2*i+1])])return i}return-1}function ix(e,t,n,s,i,r,a){const o=et(wt,this,nx).call(this,n,s,i,r);for(let l=0;l<8;l++){const i=(l+o+a+16)%8;if(0!==e[(n+et(wt,this,mx)._[2*i])*t+(s+et(wt,this,mx)._[2*i+1])])return i}return-1}function rx(e,t,n,s){const i=e.length,r=new Int32Array(i);for(let c=0;c<i;c++)r[c]=e[c]<=s?1:0;for(let c=1;c<n-1;c++)r[c*t]=r[c*t+t-1]=0;for(let c=0;c<t;c++)r[c]=r[t*n-1-c]=0;let a,o=1;const l=[];for(let c=1;c<n-1;c++){a=1;for(let e=1;e<t-1;e++){const n=c*t+e,s=r[n];if(0===s)continue;let i=c,d=e;if(1===s&&0===r[n-1])o+=1,d-=1;else{if(!(s>=1&&0===r[n+1])){1!==s&&(a=Math.abs(s));continue}o+=1,d+=1,s>1&&(a=s)}const h=[e,c],u=d===e+1,p={isHole:u,points:h,id:o,parent:0};let m;l.push(p);for(const e of l)if(e.id===a){m=e;break}m?m.isHole?p.parent=u?m.parent:a:p.parent=u?a:m.parent:p.parent=u?a:0;const f=et(wt,this,sx).call(this,r,t,c,e,i,d,0);if(-1===f){r[n]=-o,1!==r[n]&&(a=Math.abs(r[n]));continue}let g=et(wt,this,mx)._[2*f],v=et(wt,this,mx)._[2*f+1];const x=c+g,b=e+v;i=x,d=b;let y=c,w=e;for(;;){const s=et(wt,this,ix).call(this,r,t,y,w,i,d,1);g=et(wt,this,mx)._[2*s],v=et(wt,this,mx)._[2*s+1];const l=y+g,u=w+v;h.push(u,l);const p=y*t+w;if(0===r[p+1]?r[p]=-o:1===r[p]&&(r[p]=o),l===c&&u===e&&y===x&&w===b){1!==r[n]&&(a=Math.abs(r[n]));break}i=y,d=w,y=l,w=u}}}return l}function ax(e,t,n,s){if(n-t<=4){for(let i=t;i<n-2;i+=2)s.push(e[i],e[i+1]);return}const i=e[t],r=e[t+1],a=e[n-4]-i,o=e[n-3]-r,l=Math.hypot(a,o),c=a/l,d=o/l,h=c*r-d*i,u=o/a,p=1/l,m=Math.atan(u),f=Math.cos(m),g=Math.sin(m),v=p*(Math.abs(f)+Math.abs(g)),x=p*(1-v+v**2),b=Math.max(Math.atan(Math.abs(g+f)*x),Math.atan(Math.abs(g-f)*x));let y=0,w=t;for(let k=t+2;k<n-2;k+=2){const t=Math.abs(h-c*e[k+1]+d*e[k]);t>y&&(w=k,y=t)}y>(l*b)**2?(et(wt,this,ax).call(this,e,t,w+2,s),et(wt,this,ax).call(this,e,w,n,s)):s.push(i,r)}function ox(e){const t=[],n=e.length;return et(wt,this,ax).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}function lx(e,t,n,s,i,r){const a=new Float32Array(r**2),o=-2*s**2,l=r>>1;for(let m=0;m<r;m++){const e=(m-l)**2;for(let t=0;t<r;t++)a[m*r+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),d=-2*i**2;for(let m=0;m<256;m++)c[m]=Math.exp(m**2/d);const h=e.length,u=new Uint8Array(h),p=new Uint32Array(256);for(let m=0;m<n;m++)for(let s=0;s<t;s++){const i=m*t+s,o=e[i];let d=0,h=0;for(let u=0;u<r;u++){const i=m+u-l;if(!(i<0||i>=n))for(let n=0;n<r;n++){const p=s+n-l;if(p<0||p>=t)continue;const m=e[i*t+p],f=a[u*r+n]*c[Math.abs(m-o)];d+=m*f,h+=f}}p[u[i]=Math.round(d/h)]++}return[u,p]}function cx(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}function dx(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let a=0,o=n.length;a<o;a++){const t=n[a]=e[a<<2];s=Math.max(s,t),i=Math.min(i,t)}const r=255/(s-i);for(let a=0,o=n.length;a<o;a++)n[a]=(n[a]-i)*r;return n}function hx(e){let t,n=-1/0,s=-1/0;const i=e.findIndex(e=>0!==e);let r=i,a=i;for(t=i;t<256;t++){const i=e[t];i>n&&(t-r>s&&(s=t-r,a=t-1),n=i,r=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function ux(e){const t=e,{width:n,height:s}=e,{maxDim:i}=et(wt,this,px)._;let r=n,a=s;if(n>i||s>i){let o=n,l=s,c=Math.log2(Math.max(n,s)/i);const d=Math.floor(c);c=c===d?d-1:d;for(let n=0;n<c;n++){r=Math.ceil(o/2),a=Math.ceil(l/2);const n=new OffscreenCanvas(r,a);n.getContext("2d").drawImage(e,0,0,o,l,0,0,r,a),o=r,l=a,e!==t&&e.close(),e=n.transferToImageBitmap()}const h=Math.min(i/r,i/a);r=Math.round(r*h),a=Math.round(a*h)}const o=new OffscreenCanvas(r,a).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,r,a),o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,r,a);const l=o.getImageData(0,0,r,a).data;return[et(wt,this,dx).call(this,l),r,a]}wt=tx;var px={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},mx={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class fx extends tv{constructor(){super(),super.updateProperties({fill:Da._defaultLineColor,"stroke-width":0})}clone(){const e=new fx;return e.updateAll(this),e}}class gx extends Jv{constructor(e){super(e),super.updateProperties({stroke:Da._defaultLineColor,"stroke-width":1})}clone(){const e=new gx(this._viewParameters);return e.updateAll(this),e}}var vx=new WeakMap,xx=new WeakMap,bx=new WeakMap,yx=new WeakMap;class wx extends rv{constructor(e){super(Ke(Ke({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),Ze(this,vx,!1),Ze(this,xx,null),Ze(this,bx,null),Ze(this,yx,null),this._willKeepAspectRatio=!0,st(bx,this,e.signatureData||null),st(xx,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Da.initialize(e,t),this._defaultDrawingOptions=new fx,this._defaultDrawnSignatureOptions=new gx(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return pn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!nt(xx,this)}}static computeTelemetryFinalData(e){var t,n;const s=e.get("hasDescription");return{hasAltText:null!==(t=s.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=s.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(nt(bx,this)){const{lines:e,mustSmooth:t,areContours:n,description:s,uuid:i,heightInPage:r}=nt(bx,this),{rawDims:{pageWidth:a,pageHeight:o},rotation:l}=this.parent.viewport,c=tx.processDrawnLines({lines:e,pageWidth:a,pageHeight:o,rotation:l,innerMargin:wx._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(c,r,s,i)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:nt(xx,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){st(yx,this,e),this.addEditToolbar()}getUuid(){return nt(yx,this)}get description(){return nt(xx,this)}set description(e){st(xx,this,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{null===t||void 0===t||t.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:s,height:i}=nt(bx,this),r=Math.max(s,i);return{areContours:t,outline:tx.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:s,height:i},pageWidth:r,pageHeight:r,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,s){const{x:i,y:r}=this,{outline:a}=st(bx,this,e);let o;st(vx,this,a instanceof ex),this.description=n,nt(vx,this)?o=wx.getDefaultDrawingOptions():(o=wx._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:o});const[,l]=this.pageDimensions;let c=t/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=i,this.y=r,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:s}=this.parent.viewport;return tx.process(e,t,n,s,wx._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:i}=this.parent.viewport;return tx.extractContoursFromText(e,t,n,s,i,wx._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:s}=this.parent.viewport;return tx.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:s,innerMargin:wx._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:n}=e;t?this._drawingOptions=wx.getDefaultDrawingOptions():(this._drawingOptions=wx._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,i=Object.assign(super.serialize(e),{isSignature:!0,areContours:nt(vx,this),color:[0,0,0],thickness:nt(vx,this)?0:s});return this.addComment(i),e?(i.paths={lines:t,points:n},i.uuid=nt(yx,this),i.isCopy=!0):i.lines=t,nt(xx,this)&&(i.accessibilityData={type:"Figure",alt:nt(xx,this)}),i}static deserializeDraw(e,t,n,s,i,r){return r.areContours?ex.deserialize(e,t,n,s,i,r):Gv.deserialize(e,t,n,s,i,r)}static async deserialize(e,t,n){var s;const i=await super.deserialize(e,t,n);return st(vx,i,e.areContours),i.description=(null===(s=e.accessibilityData)||void 0===s?void 0:s.alt)||"",st(yx,i,e.uuid),i}}Xe(wx,"_type","signature"),Xe(wx,"_editorType",It.SIGNATURE),Xe(wx,"_defaultDrawingOptions",null);var kx=new WeakMap,jx=new WeakMap,_x=new WeakMap,Ax=new WeakMap,Nx=new WeakMap,Sx=new WeakMap,Cx=new WeakMap,Ex=new WeakMap,Mx=new WeakMap,Px=new WeakMap,Tx=new WeakMap,Rx=new WeakSet;class Dx extends Da{constructor(e){super(Ke(Ke({},e),{},{name:"stampEditor"})),$e(this,Rx),Ze(this,kx,null),Ze(this,jx,null),Ze(this,_x,null),Ze(this,Ax,null),Ze(this,Nx,null),Ze(this,Sx,""),Ze(this,Cx,null),Ze(this,Ex,!1),Ze(this,Mx,null),Ze(this,Px,!1),Ze(this,Tx,!1),st(Ax,this,e.bitmapUrl),st(Nx,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Da.initialize(e,t)}static isHandlingMimeForPasting(e){return es.includes(e)}static paste(e,t){t.pasteEditor({mode:It.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const s=e.get("hasAltText");return{hasAltText:null!==(t=s.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=s.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:i,height:r}=e||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:s,width:i,height:r,channels:s.length/(i*r)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;nt(jx,this)&&(st(kx,this,null),this._uiManager.imageManager.deleteId(nt(jx,this)),null===(e=nt(Cx,this))||void 0===e||e.remove(),st(Cx,this,null),nt(Mx,this)&&(clearTimeout(nt(Mx,this)),st(Mx,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(nt(jx,this)&&null===nt(Cx,this)&&et(Rx,this,Fx).call(this),this.isAttachedToDOM||this.parent.add(this))):nt(jx,this)&&et(Rx,this,Fx).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(nt(_x,this)||nt(kx,this)||nt(Ax,this)||nt(Nx,this)||nt(jx,this)||nt(Ex,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),nt(Ex,this)||(nt(kx,this)?et(Rx,this,Ox).call(this):et(Rx,this,Fx).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(st(jx,this,n),s&&st(kx,this,s),st(Ex,this,!1),et(Rx,this,Ox).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==nt(Mx,this)&&clearTimeout(nt(Mx,this));st(Mx,this,setTimeout(()=>{st(Mx,this,null),et(Rx,this,Wx).call(this)},200))}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:s,height:i}=nt(kx,this),r=new Zn;let a=nt(kx,this),o=s,l=i,c=null;if(t){if(s>t||i>t){const e=Math.min(t/s,t/i);o=Math.floor(s*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*r.sx),n=c.height=Math.ceil(l*r.sy);nt(Px,this)||(a=et(Rx,this,Bx).call(this,e,n));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let h="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":ts.isDarkMode&&(h="#8f8f9d",u="#42414d");const p=15,m=p*r.sx,f=p*r.sy,g=new OffscreenCanvas(2*m,2*f),v=g.getContext("2d");v.fillStyle=h,v.fillRect(0,0,2*m,2*f),v.fillStyle=u,v.fillRect(0,0,m,f),v.fillRect(m,f,m,f),d.fillStyle=d.createPattern(g,"repeat"),d.fillRect(0,0,e,n),d.drawImage(a,0,0,a.width,a.height,0,0,e,n)}let d=null;if(n){let t,n;if(r.symmetric&&a.width<e&&a.height<e)t=a.width,n=a.height;else if(a=nt(kx,this),s>e||i>e){const r=Math.min(e/s,e/i);t=Math.floor(s*r),n=Math.floor(i*r),nt(Px,this)||(a=et(Rx,this,Bx).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,t,n),d={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:d}}static async deserialize(e,t,n){let s=null,i=!1;if(e instanceof Um){var r;const{data:{rect:a,rotation:o,id:l,structParent:c,popupRef:d,richText:h,contentsObj:u,creationDate:p,modificationDate:m},container:f,parent:{page:{pageNumber:g}},canvas:v}=e;let x,b;v?(delete e.canvas,({id:x,bitmap:b}=n.imageManager.getFromCanvas(f.id,v)),v.remove()):(i=!0,e._hasNoCanvas=!0);const y=(null===(r=await t._structTree.getAriaAttributes("".concat(Pn).concat(l)))||void 0===r?void 0:r.get("aria-label"))||"";s=e={annotationType:It.STAMP,bitmapId:x,bitmap:b,pageIndex:g-1,rect:a.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:y},isSvg:!1,structParent:c,popupRef:d,richText:h,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:p,modificationDate:m}}const a=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:u}=e;i?(n.addMissingCanvas(e.id,a),st(Ex,a,!0)):d&&n.imageManager.isValidId(d)?(st(jx,a,d),l&&st(kx,a,l)):st(Ax,a,c),st(Px,a,h);const[p,m]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/m,u&&(a.altTextData=u),a._initialData=s,e.comment&&a.setCommentData(e),st(Tx,a,!!s),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:nt(jx,this),isSvg:nt(Px,this)});if(this.addComment(n),e)return n.bitmapUrl=et(Rx,this,zx).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:i}=this.serializeAltText(!1);if(!s&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=et(Rx,this,Ux).call(this,n);if(e.isSame)return null;var r;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(r=this._initialData.structParent)&&void 0!==r?r:-1;return n.id=this.annotationElementId,delete n.bitmapId,n}if(null===t)return n;t.stamps||(t.stamps=new Map);const a=nt(Px,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(nt(jx,this))){if(nt(Px,this)){const e=t.stamps.get(nt(jx,this));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=et(Rx,this,zx).call(this,!1))}}else t.stamps.set(nt(jx,this),{area:a,serialized:n}),n.bitmap=et(Rx,this,zx).call(this,!1);return n}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function Lx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(st(kx,this,e.bitmap),t||(st(jx,this,e.id),st(Px,this,e.isSvg)),e.file&&st(Sx,this,e.file.name),et(Rx,this,Ox).call(this)):this.remove()}function Ix(){if(st(_x,this,null),this._uiManager.enableWaiting(!1),nt(Cx,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&nt(kx,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&nt(kx,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Fx(){if(nt(jx,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(nt(jx,this)).then(e=>et(Rx,this,Lx).call(this,e,!0)).finally(()=>et(Rx,this,Ix).call(this));if(nt(Ax,this)){const e=nt(Ax,this);return st(Ax,this,null),this._uiManager.enableWaiting(!0),void st(_x,this,this._uiManager.imageManager.getFromUrl(e).then(e=>et(Rx,this,Lx).call(this,e)).finally(()=>et(Rx,this,Ix).call(this)))}if(nt(Nx,this)){const e=nt(Nx,this);return st(Nx,this,null),this._uiManager.enableWaiting(!0),void st(_x,this,this._uiManager.imageManager.getFromFile(e).then(e=>et(Rx,this,Lx).call(this,e)).finally(()=>et(Rx,this,Ix).call(this)))}const e=document.createElement("input");e.type="file",e.accept=es.join(",");const t=this._uiManager._signal;st(_x,this,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),et(Rx,this,Lx).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>et(Rx,this,Ix).call(this))),e.click()}function Ox(){var e;const{div:t}=this;let{width:n,height:s}=nt(kx,this);const[i,r]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,s=this.height*r;else if(n>a*i||s>a*r){const e=Math.min(a*i/n,a*r/s);n*=e,s*=e}this._uiManager.enableWaiting(!1);const o=st(Cx,this,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=n/i,this.height=s/r,this.setDims(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),et(Rx,this,Wx).call(this),nt(Tx,this)||(this.parent.addUndoableEditor(this),st(Tx,this,!0)),this._reportTelemetry({action:"inserted_image"}),nt(Sx,this)&&this.div.setAttribute("aria-description",nt(Sx,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function Bx(e,t){const{width:n,height:s}=nt(kx,this);let i=n,r=s,a=nt(kx,this);for(;i>2*e||r>2*t;){const n=i,s=r;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(i,r);o.getContext("2d").drawImage(a,0,0,n,s,0,0,i,r),a=o.transferToImageBitmap()}return a}function Wx(){const[e,t]=this.parentDimensions,{width:n,height:s}=this,i=new Zn,r=Math.ceil(n*e*i.sx),a=Math.ceil(s*t*i.sy),o=nt(Cx,this);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=nt(Px,this)?nt(kx,this):et(Rx,this,Bx).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)}function zx(e){if(e){if(nt(Px,this)){const e=this._uiManager.imageManager.getSvgUrl(nt(jx,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=nt(kx,this));return e.getContext("2d").drawImage(nt(kx,this),0,0),e.toDataURL()}if(nt(Px,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Fn.PDF_TO_CSS_UNITS),s=Math.round(this.height*t*Fn.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,s);return i.getContext("2d").drawImage(nt(kx,this),0,0,nt(kx,this).width,nt(kx,this).height,0,0,n,s),i.transferToImageBitmap()}return structuredClone(nt(kx,this))}function Ux(e){var t;const{pageIndex:n,accessibilityData:{altText:s}}=this._initialData,i=e.pageIndex===n,r=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}Xe(Dx,"_type","stamp"),Xe(Dx,"_editorType",It.STAMP);var Hx=new WeakMap,Vx=new WeakMap,Gx=new WeakMap,qx=new WeakMap,Xx=new WeakMap,Yx=new WeakMap,Kx=new WeakMap,Jx=new WeakMap,Qx=new WeakMap,$x=new WeakMap,Zx=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,sb=new WeakMap,ib=new WeakMap,rb=new WeakSet;class ab{constructor(e){let{uiManager:t,pageIndex:n,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;$e(this,rb),Ze(this,Hx,void 0),Ze(this,Vx,!1),Ze(this,Gx,null),Ze(this,qx,null),Ze(this,Xx,null),Ze(this,Yx,new Map),Ze(this,Kx,!1),Ze(this,Jx,!1),Ze(this,Qx,!1),Ze(this,$x,null),Ze(this,Zx,null),Ze(this,eb,null),Ze(this,tb,null),Ze(this,nb,null),Ze(this,sb,-1),Ze(this,ib,void 0);const h=[...pb._.values()];if(!ab._initialized){ab._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),st(ib,this,t),this.pageIndex=n,this.div=s,st(Hx,this,r),st(Gx,this,a),this.viewport=c,st(eb,this,l),this.drawLayer=o,this._structTree=i,nt(ib,this).addLayer(this)}get isEmpty(){return 0===nt(Yx,this).size}get isInvisible(){return this.isEmpty&&nt(ib,this).getMode()===It.NONE}updateToolbar(e){nt(ib,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(ib,this).getMode();switch(et(rb,this,ub).call(this),e){case It.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case It.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case It.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===It.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of pb._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=nt(eb,this))||void 0===t?void 0:t.div)}setEditingState(e){nt(ib,this).setEditingState(e)}addCommands(e){nt(ib,this).addCommands(e)}cleanUndoStack(e){nt(ib,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=nt(Gx,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){var e;st(Qx,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(e=nt(nb,this))||void 0===e||e.abort(),st(nb,this,null);const t=new Set;for(const s of tt(rb,this,ob))s.enableEditing(),s.show(!0),s.annotationElementId&&(nt(ib,this).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const n=nt(Gx,this);if(n)for(const s of n.getEditableAnnotations()){if(s.hide(),nt(ib,this).isDeletedAnnotationElement(s.data.id))continue;if(t.has(s.data.id))continue;const e=await this.deserialize(s);e&&(this.addOrRebuild(e),e.enableEditing())}st(Qx,this,!1),nt(ib,this)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(st(Jx,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),nt(eb,this)&&!nt(nb,this)){st(nb,this,new AbortController);const e=nt(ib,this).combinedSignal(nt(nb,this));nt(eb,this).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:n,timeStamp:s}=e;if(s-nt(sb,this)>500)return void st(sb,this,s);st(sb,this,-1);const{classList:i}=this.div;i.toggle("getElements",!0);const r=document.elementsFromPoint(t,n);if(i.toggle("getElements",!1),!this.div.contains(r[0]))return;let a;const o=new RegExp("^".concat(Lt,"[0-9]+$"));for(const c of r)if(o.test(c.id)){a=c.id;break}if(!a)return;const l=nt(Yx,this).get(a);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),l.dblclick(e))},{signal:e,capture:!0})}const e=nt(Gx,this);if(e){const n=new Map,s=new Map;for(const r of tt(rb,this,ob)){var t;r.disableEditing(),r.annotationElementId?null===r.serialize()?(s.set(r.annotationElementId,r),null===(t=this.getEditableAnnotation(r.annotationElementId))||void 0===t||t.show(),r.remove()):n.set(r.annotationElementId,r):r.updateFakeAnnotationElement(e)}const i=e.getEditableAnnotations();for(const e of i){const{id:t}=e.data;if(nt(ib,this).isDeletedAnnotationElement(t)){e.updateEdited({deleted:!0});continue}let i=s.get(t);i?(i.resetAnnotationElement(e),i.show(!1),e.show()):(i=n.get(t),i&&(nt(ib,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(e)&&i.show(!1)),e.show())}}et(rb,this,ub).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of pb._.values())n.remove("".concat(s._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),st(Jx,this,!1)}getEditableAnnotation(e){var t;return(null===(t=nt(Gx,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){nt(ib,this).getActive()!==e&&nt(ib,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=nt(eb,this))&&void 0!==e&&e.div&&!nt(tb,this)){st(tb,this,new AbortController);const e=nt(ib,this).combinedSignal(nt(tb,this));nt(eb,this).div.addEventListener("pointerdown",et(rb,this,lb).bind(this),{signal:e}),nt(eb,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=nt(eb,this))&&void 0!==e&&e.div&&nt(tb,this)&&(nt(tb,this).abort(),st(tb,this,null),nt(eb,this).div.classList.remove("highlighting"))}enableClick(){if(nt(qx,this))return;st(qx,this,new AbortController);const e=nt(ib,this).combinedSignal(nt(qx,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=nt(qx,this))||void 0===e||e.abort(),st(qx,this,null)}attach(e){nt(Yx,this).set(e.id,e);const{annotationElementId:t}=e;t&&nt(ib,this).isDeletedAnnotationElement(t)&&nt(ib,this).removeDeletedAnnotationElement(e)}detach(e){var t;nt(Yx,this).delete(e.id),null===(t=nt(Hx,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!nt(Jx,this)&&e.annotationElementId&&nt(ib,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),nt(ib,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(nt(ib,this).addDeletedAnnotationElement(e.annotationElementId),Da.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),nt(ib,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!nt(Qx,this)),nt(ib,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!nt(Xx,this)&&(e._focusEventsAllowed=!1,st(Xx,this,setTimeout(()=>{st(Xx,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:nt(ib,this)._signal}),n.focus())},0))),e._structTreeParentId=null===(t=nt(Hx,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getEditorByUID(e){for(const t of nt(Yx,this).values())if(t.uid===e)return t;return null}getNextId(){return nt(ib,this).getId()}combinedSignal(e){return nt(ib,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=tt(rb,this,cb))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await nt(ib,this).updateMode(e.mode);const{offsetX:n,offsetY:s}=et(rb,this,hb).call(this),i=this.getNextId(),r=et(rb,this,db).call(this,Ke({parent:this,id:i,x:n,y:s,uiManager:nt(ib,this),isCentered:!0},t));r&&this.add(r)}async deserialize(e){var t,n;return await(null===(t=pb._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,nt(ib,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getNextId(),i=et(rb,this,db).call(this,Ke({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:nt(ib,this),isCentered:t},n));return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(et(rb,this,hb).call(this),!0,e)}setSelected(e){nt(ib,this).setSelected(e)}toggleSelected(e){nt(ib,this).toggleSelected(e)}unselect(e){nt(ib,this).unselect(e)}pointerup(e){var t;const{isMac:n}=jn.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!nt(Kx,this))return;if(st(Kx,this,!1),null!==(t=tt(rb,this,cb))&&void 0!==t&&t.isDrawer&&tt(rb,this,cb).supportMultipleDrawings)return;if(!nt(Vx,this))return void st(Vx,this,!0);const s=nt(ib,this).getMode();s!==It.STAMP&&s!==It.SIGNATURE?this.createAndAddNewEditor(e,!1):nt(ib,this).unselectAll()}pointerdown(e){var t;if(nt(ib,this).getMode()===It.HIGHLIGHT&&this.enableTextSelection(),nt(Kx,this))return void st(Kx,this,!1);const{isMac:n}=jn.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(st(Kx,this,!0),null!==(t=tt(rb,this,cb))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const s=nt(ib,this).getActive();st(Vx,this,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),nt($x,this))return void tt(rb,this,cb).startDrawing(this,nt(ib,this),!1,e);nt(ib,this).setCurrentDrawingSession(this),st($x,this,new AbortController);const t=nt(ib,this).combinedSignal(nt($x,this));this.div.addEventListener("blur",e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&(st(Zx,this,null),this.commitOrRemove())},{signal:t}),tt(rb,this,cb).startDrawing(this,nt(ib,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&st(Zx,this,e))}nt(Zx,this)&&setTimeout(()=>{var e;null===(e=nt(Zx,this))||void 0===e||e.focus(),st(Zx,this,null)},0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return nt($x,this)?(nt(ib,this).setCurrentDrawingSession(null),nt($x,this).abort(),st($x,this,null),st(Zx,this,null),tt(rb,this,cb).endDrawing(e)):null}findNewParent(e,t,n){const s=nt(ib,this).findParent(t,n);return null!==s&&s!==this&&(s.changeParent(e),!0)}commitOrRemove(){return!!nt($x,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){nt($x,this)&&tt(rb,this,cb).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=nt(ib,this).getActive())||void 0===e?void 0:e.parent)===this&&(nt(ib,this).commitOrRemove(),nt(ib,this).setActiveEditor(null)),nt(Xx,this)&&(clearTimeout(nt(Xx,this)),st(Xx,this,null));for(const n of nt(Yx,this).values()){var t;null===(t=nt(Hx,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,nt(Yx,this).clear(),nt(ib,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,$n(this.div,t);for(const n of nt(ib,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;nt(ib,this).commitOrRemove(),et(rb,this,ub).call(this);const n=this.viewport.rotation,s=t.rotation;if(this.viewport=t,$n(this.div,{rotation:s}),n!==s)for(const i of nt(Yx,this).values())i.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return nt(ib,this).viewParameters.realScale}}function ob(e){return 0!==nt(Yx,e).size?nt(Yx,e).values():nt(ib,e).getEditors(e.pageIndex)}function lb(e){nt(ib,this).unselectAll();const{target:t}=e;if(t===nt(eb,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&nt(eb,this).div.contains(t)){const{isMac:t}=jn.platform;if(0!==e.button||e.ctrlKey&&t)return;nt(ib,this).showAllEditors("highlight",!0,!0),nt(eb,this).div.classList.add("free"),this.toggleDrawing(),Fg.startHighlighting(this,"ltr"===nt(ib,this).direction,{target:nt(eb,this).div,x:e.x,y:e.y}),nt(eb,this).div.addEventListener("pointerup",()=>{nt(eb,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:nt(ib,this)._signal}),e.preventDefault()}}function cb(e){return pb._.get(nt(ib,e).getMode())}function db(e){const t=tt(rb,this,cb);return t?new t.prototype.constructor(e):null}function hb(){const{x:e,y:t,width:n,height:s}=this.boundingClientRect,i=Math.max(0,e),r=Math.max(0,t),a=(i+Math.min(window.innerWidth,e+n))/2-e,o=(r+Math.min(window.innerHeight,t+s))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function ub(){for(const e of nt(Yx,this).values())e.isEmpty()&&e.remove()}Xe(ab,"_initialized",!1);var pb={_:new Map([df,$v,Dx,Fg,wx].map(e=>[e._editorType,e]))},mb=new WeakMap,fb=new WeakMap,gb=new WeakMap,vb=new WeakSet;class xb{constructor(e){let{pageIndex:t}=e;$e(this,vb),Ze(this,mb,null),Ze(this,fb,new Map),Ze(this,gb,new Map),this.pageIndex=t}setParent(e){if(nt(mb,this)){if(nt(mb,this)!==e){if(nt(fb,this).size>0)for(const t of nt(fb,this).values())t.remove(),e.append(t);st(mb,this,e)}}else st(mb,this,e)}static get _svgFactory(){return pn(this,"_svgFactory",new lp)}draw(e){var t,n;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(jb._=(t=jb._,n=t++,t),n),a=et(vb,this,yb).call(this),o=xb._svgFactory.createElement("defs");a.append(o);const l=xb._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(r);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),s&&nt(gb,this).set(r,l);const d=i?et(vb,this,wb).call(this,o,c):null,h=xb._svgFactory.createElement("use");return a.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(a,e),nt(fb,this).set(r,a),{id:r,clipPathId:"url(#".concat(d,")")}}drawOutline(e,t){var n,s;const i=(jb._=(n=jb._,s=n++,n),s),r=et(vb,this,yb).call(this),a=xb._svgFactory.createElement("defs");r.append(a);const o=xb._svgFactory.createElement("path");a.append(o);const l="path_p".concat(this.pageIndex,"_").concat(i);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=xb._svgFactory.createElement("mask");a.append(e),c="mask_p".concat(this.pageIndex,"_").concat(i),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=xb._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=xb._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const d=xb._svgFactory.createElement("use");r.append(d),d.setAttribute("href","#".concat(l)),c&&d.setAttribute("mask","url(#".concat(c,")"));const h=d.cloneNode();return r.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),nt(fb,this).set(i,r),i}finalizeDraw(e,t){nt(gb,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:s,rootClass:i,path:r}=t,a="number"===typeof e?nt(fb,this).get(e):e;if(a){if(n&&et(vb,this,kb).call(this,a,n),s&&bb.call(xb,a,s),i){const{classList:e}=a;for(const[t,n]of Object.entries(i))e.toggle(t,n)}if(r){const e=a.firstChild.firstChild;et(vb,this,kb).call(this,e,r)}}}updateParent(e,t){if(t===this)return;const n=nt(fb,this).get(e);n&&(nt(mb,t).append(n),nt(fb,this).delete(e),nt(fb,t).set(e,n))}remove(e){nt(gb,this).delete(e),null!==nt(mb,this)&&(nt(fb,this).get(e).remove(),nt(fb,this).delete(e))}destroy(){st(mb,this,null);for(const e of nt(fb,this).values())e.remove();nt(fb,this).clear(),nt(gb,this).clear()}}function bb(e,t){let[n,s,i,r]=t;const{style:a}=e;a.top="".concat(100*s,"%"),a.left="".concat(100*n,"%"),a.width="".concat(100*i,"%"),a.height="".concat(100*r,"%")}function yb(){const e=kt._svgFactory.create(1,1,!0);return nt(mb,this).append(e),e.setAttribute("aria-hidden",!0),e}function wb(e,t){const n=kt._svgFactory.createElement("clipPath");e.append(n);const s="clip_".concat(t);n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const i=kt._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),s}function kb(e,t){for(const[n,s]of Object.entries(t))null===s?e.removeAttribute(n):e.setAttribute(n,s)}kt=xb;var jb={_:0};function _b(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ab(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ab(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}globalThis._pdfjsTestingUtils={HighlightOutliner:og},globalThis.pdfjsLib={AbortException:yn,AnnotationEditorLayer:ab,AnnotationEditorParamsType:Ft,AnnotationEditorType:It,AnnotationEditorUIManager:qi,AnnotationLayer:ef,AnnotationMode:Dt,AnnotationType:Gt,applyOpacity:function(e,t,n,s){const i=255*(1-(s=Math.min(Math.max(null!==s&&void 0!==s?s:1,0),1)));return[e=Math.round(e*s+i),t=Math.round(t*s+i),n=Math.round(n*s+i)]},build:"f56dc8601",ColorPicker:Gu,createValidAbsoluteUrl:hn,CSSConstants:class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),pn(this,"commentForegroundColor",Kn(n))}},DOMSVGFactory:lp,DrawLayer:xb,FeatureTest:jn,fetchData:On,findContrastColor:function(e,t){const n=e[0]+256*e[1]+65536*e[2]+16777216*t[0]+4294967296*t[1]+1099511627776*t[2];let s=as.get(n);if(s)return s;const i=new Float32Array(9),r=i.subarray(0,3),a=i.subarray(3,6);ns(e,a);const o=i.subarray(6,9);ns(t,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),rs(a,o,r)<c){let e,t;l?(e=a[2],t=1):(e=0,t=a[2]);const n=.005;for(;t-e>n;){const n=a[2]=(e+t)/2;l===rs(a,o,r)<c?e=n:t=n}a[2]=l?t:e}return ss(a,r),s=An.makeHexColor(Math.round(255*r[0]),Math.round(255*r[1]),Math.round(255*r[2])),as.set(n,s),s},getDocument:qh,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(zn(e))return ln('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(e=>{try{return new URL(e)}catch(t){try{return new URL(decodeURIComponent(e))}catch(n){try{return new URL(e,"https://foo.bar")}catch(s){try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch(i){return null}}}}})(e);if(!n)return t;const s=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch(t){return e}},i=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(i.test(r))return s(r);if(n.searchParams.size>0){const e=Array.from(n.searchParams.values()).reverse();for(const n of e)if(i.test(n))return s(n);const t=Array.from(n.searchParams.keys()).reverse();for(const n of t)if(i.test(n))return s(n)}if(n.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(e)return s(e[0])}return t},getRGB:Kn,getUuid:Mn,getXfaPageViewport:function(e,t){let{scale:n=1,rotation:s=0}=t;const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Bn({viewBox:a,userUnit:1,scale:n,rotation:s})},GlobalWorkerOptions:kd,ImageKind:Vt,InvalidPDFException:vn,isDataScheme:zn,isPdfFile:Un,isValidExplicitDest:ko,MathClamp:Tn,noContextMenu:Gn,normalizeUnicode:function(e){return Cn||(Cn=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,En=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Cn,(e,t,n)=>t?t.normalize("NFKC"):En.get(n))},OPS:$t,OutputScale:Zn,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:eu,PDFDateString:Xn,PDFWorker:hu,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Fn,RenderingCancelledException:Wn,renderRichText:os,ResponseException:xn,setLayerDimensions:$n,shadow:pn,SignatureExtractor:tx,stopEvent:qn,SupportedImageMimeTypes:es,TextLayer:Rh,TouchManager:sa,updateUrlHash:un,Util:An,VerbosityLevel:Qt,version:Ru,XfaLayer:Ln};const Nb=function(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ab(e))&&(s&&(s+=" "),s+=t);return s};var Sb=Object.prototype.hasOwnProperty;function Cb(e,t,n){for(n of e.keys())if(Eb(n,t))return n}function Eb(e,t){var n,s,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&Eb(e[s],t[s]););return-1===s}if(n===Set){if(e.size!==t.size)return!1;for(s of e){if((i=s)&&"object"===typeof i&&!(i=Cb(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e){if((i=s[0])&&"object"===typeof i&&!(i=Cb(t,i)))return!1;if(!Eb(s[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return-1===s}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return-1===s}if(!n||"object"===typeof e){for(n in s=0,e){if(Sb.call(e,n)&&++s&&!Sb.call(t,n))return!1;if(!(n in t)||!Eb(e[n],t[n]))return!1}return Object.keys(t).length===s}}return e!==e&&t!==t}function Mb(e){let t=!1;return{promise:new Promise((n,s)=>{e.then(e=>!t&&n(e)).catch(e=>!t&&s(e))}),cancel(){t=!0}}}const Pb=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function Tb(e,t){const n={};for(const s of Pb){const i=e[s];i&&(n[s]=t?e=>i(e,t(s)):i)}return n}var Rb="Invariant failed";function Db(e,t){if(!e)throw new Error(Rb)}var Lb=n(568);const Ib=(0,s.createContext)(null);class Fb{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Db(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Db(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Db(this.pdfDocument),Db(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(e=>{Db(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise(e=>{Db(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(t=>{e(t)}).catch(()=>{Db(!1,'"'.concat(t,'" is not a valid page reference.'))}):"number"===typeof t?e(t):Db(!1,'"'.concat(t,'" is not a valid destination reference.'))}).then(t=>{const n=t+1;Db(this.pdfViewer),Db(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})})})}goToPage(e){const t=e-1;Db(this.pdfViewer),Db(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Ob(e){let{children:t,type:n}=e;return(0,Re.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:t})}const Bb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Wb(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function zb(){return(0,s.useReducer)(Wb,{value:void 0,error:void 0})}const Ub="undefined"!==typeof window,Hb=Ub&&"file:"===window.location.protocol;function Vb(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Gb(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function qb(e){Db(Gb(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Xb(){return Ub&&window.devicePixelRatio||1}const Yb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Kb(){Lb(!Hb,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Yb))}function Jb(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function Qb(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}const $b=["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"],Zb=["url"],{Tm:ey}=e,ty=(e,t)=>{switch(t){case Bb.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Bb.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function ny(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const sy=(0,s.forwardRef)(function(e,t){let{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF\u2026",noData:u="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:f,onLoadSuccess:g,onPassword:v=ty,onSourceError:x,onSourceSuccess:b,options:y,renderMode:w,rotate:k,scale:j}=e,_=_b(e,$b);const[A,N]=zb(),{value:S,error:C}=A,[E,M]=zb(),{value:P,error:T}=E,R=(0,s.useRef)(new Fb),D=(0,s.useRef)([]),L=(0,s.useRef)(void 0),I=(0,s.useRef)(void 0);l&&l!==L.current&&ny(l)&&(Lb(!Eb(l,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=l),y&&y!==I.current&&(Lb(!Eb(y,I.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),I.current=y);const F=(0,s.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:s=n-1}=e;if(p)return void p({dest:t,pageIndex:s,pageNumber:n});const i=D.current[s];i?i.scrollIntoView():Lb(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,s.useImperativeHandle)(t,()=>({linkService:R,pages:D,viewer:F}),[]),(0,s.useEffect)(function(){N({type:"RESET"})},[l,N]);const O=(0,s.useCallback)(async()=>{if(!l)return null;if("string"===typeof l){if(Gb(l)){return{data:qb(l)}}return Kb(),{url:l}}if(l instanceof ey)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Ub&&function(e){return Db(Ub),e instanceof Blob}(l)){const e=await function(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return n(new Error("Error while reading a file."));t(s.result)},s.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},s.readAsArrayBuffer(e)})}(l);return{data:e}}if(Db("object"===typeof l),Db(ny(l)),"url"in l&&"string"===typeof l.url){if(Gb(l.url)){const{url:e}=l,t=_b(l,Zb);return Ke({data:qb(e)},t)}Kb()}return l},[l]);(0,s.useEffect)(()=>{const e=Mb(O());return e.promise.then(e=>{N({type:"RESOLVE",value:e})}).catch(e=>{N({type:"REJECT",error:e})}),()=>{Jb(e)}},[O,N]),(0,s.useEffect)(()=>{"undefined"!==typeof S&&(!1!==S?b&&b():C&&(Lb(!1,C.toString()),x&&x(C)))},[S]),(0,s.useEffect)(function(){M({type:"RESET"})},[M,S]),(0,s.useEffect)(function(){if(!S)return;const e=qh(y?Ke(Ke({},S),y):S);f&&(e.onProgress=f),v&&(e.onPassword=v);const t=e,n=t.promise.then(e=>{M({type:"RESOLVE",value:e})}).catch(e=>{t.destroyed||M({type:"REJECT",error:e})});return()=>{n.finally(()=>t.destroy())}},[y,M,S]),(0,s.useEffect)(()=>{"undefined"!==typeof P&&(!1!==P?P&&(g&&g(P),D.current=new Array(P.numPages),R.current.setDocument(P)):T&&(Lb(!1,T.toString()),m&&m(T)))},[P]),(0,s.useEffect)(function(){R.current.setViewer(F.current),R.current.setExternalLinkRel(a),R.current.setExternalLinkTarget(o)},[a,o]);const B=(0,s.useCallback)((e,t)=>{D.current[e]=t},[]),W=(0,s.useCallback)(e=>{delete D.current[e]},[]),z=(0,s.useMemo)(()=>({imageResourcesPath:d,linkService:R.current,onItemClick:p,pdf:P,registerPage:B,renderMode:w,rotate:k,scale:j,unregisterPage:W}),[d,p,P,B,w,k,j,W]),U=(0,s.useMemo)(()=>Tb(_,()=>P),[_,P]);return(0,Re.jsx)("div",Ke(Ke({className:Nb("react-pdf__Document",i),ref:c},U),{},{children:l?void 0===P||null===P?(0,Re.jsx)(Ob,{type:"loading",children:"function"===typeof h?h():h}):!1===P?(0,Re.jsx)(Ob,{type:"error",children:"function"===typeof r?r():r}):function(){if(e=z,!Boolean(null===e||void 0===e?void 0:e.pdf))throw new Error("pdf is undefined");var e;const t="function"===typeof n?n(z):n;return(0,Re.jsx)(Ib.Provider,{value:z,children:t})}():(0,Re.jsx)(Ob,{type:"no-data",children:"function"===typeof u?u():u})}))}),iy=sy;function ry(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){for(var t=0,s=n;t<s.length;t++){var i=s[t];"function"===typeof i?i(e):i&&(i.current=e)}}}function ay(){return(0,s.useContext)(Ib)}const oy=(0,s.createContext)(null);function ly(){return(0,s.useContext)(oy)}function cy(){const e=ay(),t=ly();Db(t);const n=Ke(Ke({},e),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:u,rotate:p,scale:m=1}=n;Db(h),Db(d),Db(r);const[f,g]=zb(),{value:v,error:x}=f,b=(0,s.useRef)(null);Lb(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,s.useEffect)(function(){g({type:"RESET"})},[g,d]),(0,s.useEffect)(function(){if(!d)return;const e=Mb(d.getAnnotations()),t=e;return e.promise.then(e=>{g({type:"RESOLVE",value:e})}).catch(e=>{g({type:"REJECT",error:e})}),()=>{Jb(t)}},[g,d]),(0,s.useEffect)(()=>{void 0!==v&&(!1!==v?v&&o&&o(v):x&&(Lb(!1,x.toString()),a&&a(x)))},[v]);const y=(0,s.useMemo)(()=>d.getViewport({scale:m,rotation:p}),[d,p,m]);return(0,s.useEffect)(function(){if(!h||!d||!r||!v)return;const{current:e}=b;if(!e)return;const t=y.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:h.annotationStorage,commentManager:null,div:e,l10n:null,linkService:r,page:d,structTreeLayer:null,viewport:t},s={annotations:v,annotationStorage:h.annotationStorage,div:e,imageResourcesPath:i,linkService:r,page:d,renderForms:u,viewport:t};e.innerHTML="";try{new ef(n).render(s),c&&c()}catch(a){!function(e){Lb(!1,"".concat(e)),l&&l(e)}(a)}return()=>{}},[v,i,r,d,h,u,y]),(0,Re.jsx)("div",{className:Nb("react-pdf__Page__annotations","annotationLayer"),ref:b})}const dy={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},hy=/^H(\d+)$/;function uy(e){return"children"in e}function py(e){return!!uy(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function my(e){const t={};if(uy(e)){const{role:n}=e,s=n.match(hy);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(function(e){return e in dy}(n)){const e=dy[n];e&&(t.role=e)}}return t}function fy(e){const t={};if(uy(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),py(e)){const[n]=e.children;if(n){const e=fy(n);return Ke(Ke({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function gy(e){return e?Ke(Ke({},my(e)),fy(e)):null}function vy(e){let{className:t,node:n}=e;const i=(0,s.useMemo)(()=>gy(n),[n]),r=(0,s.useMemo)(()=>uy(n)?py(n)?null:n.children.map((e,t)=>(0,Re.jsx)(vy,{node:e},t)):null,[n]);return(0,Re.jsx)("span",Ke(Ke({className:t},i),{},{children:r}))}function xy(){const e=ly();Db(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,r]=zb(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,s.useEffect)(function(){r({type:"RESET"})},[r,c]),(0,s.useEffect)(function(){if(l)return;if(!c)return;const e=Mb(c.getStructTree()),t=e;return e.promise.then(e=>{r({type:"RESOLVE",value:e})}).catch(e=>{r({type:"REJECT",error:e})}),()=>Jb(t)},[l,c,r]),(0,s.useEffect)(()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(Lb(!1,o.toString()),t&&t(o)))},[a]),a?(0,Re.jsx)(vy,{className:"react-pdf__Page__structTree structTree",node:a}):null}const by=Dt;function yy(e){const t=ly();Db(t);const n=Ke(Ke({},t),e),{_className:i,canvasBackground:r,devicePixelRatio:a=Xb(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:h,rotate:u,scale:p}=n,{canvasRef:m}=e;Db(c);const f=(0,s.useRef)(null);function g(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Lb(!1,e.toString()),o&&o(e))}const v=(0,s.useMemo)(()=>c.getViewport({scale:p*a,rotation:u}),[a,c,u,p]),x=(0,s.useMemo)(()=>c.getViewport({scale:p,rotation:u}),[c,u,p]);(0,s.useEffect)(function(){if(!c)return;c.cleanup();const{current:e}=f;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(x.width),"px"),e.style.height="".concat(Math.floor(x.height),"px"),e.style.visibility="hidden";const t={annotationMode:d?by.ENABLE_FORMS:by.ENABLE,canvas:e,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};r&&(t.background=r);const n=c.render(t),s=n;return n.promise.then(()=>{e.style.visibility="",c&&l&&l(Qb(c,p))}).catch(g),()=>Jb(s)},[r,c,d,v,x]);const b=(0,s.useCallback)(()=>{const{current:e}=f;e&&(e.width=0,e.height=0)},[]);return(0,s.useEffect)(()=>b,[b]),(0,Re.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:ry(m,f),style:{display:"block",userSelect:"none"},children:h?(0,Re.jsx)(xy,{}):null})}function wy(){const e=ly();Db(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:h}=e;Db(o);const[u,p]=zb(),{value:m,error:f}=u,g=(0,s.useRef)(null);Lb(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,s.useEffect)(function(){p({type:"RESET"})},[o,p]),(0,s.useEffect)(function(){if(!o)return;const e=Mb(o.getTextContent()),t=e;return e.promise.then(e=>{p({type:"RESOLVE",value:e})}).catch(e=>{p({type:"REJECT",error:e})}),()=>Jb(t)},[o,p]),(0,s.useEffect)(()=>{void 0!==m&&(!1!==m?m&&i&&i(m):f&&(Lb(!1,f.toString()),n&&n(f)))},[m]);const v=(0,s.useCallback)(()=>{a&&a()},[a]),x=(0,s.useCallback)(e=>{Lb(!1,e.toString()),r&&r(e)},[r]);const b=(0,s.useMemo)(()=>o.getViewport({scale:h,rotation:d}),[o,d,h]);return(0,s.useLayoutEffect)(function(){if(!o||!m)return;const{current:e}=g;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),s=new Rh({container:e,textContentSource:n,viewport:b}),i=s;return s.render().then(()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const s=e.querySelectorAll('[role="presentation"]');if(t){let e=0;m.items.forEach((n,i)=>{if(!function(e){return"str"in e}(n))return;const r=s[e];if(!r)return;const a=t(Ke({pageIndex:l,pageNumber:c,itemIndex:i},n));r.innerHTML=a,e+=n.str&&n.hasEOL?2:1})}v()}).catch(x),()=>Jb(i)},[t,x,v,o,l,c,m,b]),(0,Re.jsx)("div",{className:Nb("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=g.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=g.current;e&&e.classList.add("selecting")},ref:g})}const ky=["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"],jy=1;function _y(e){const t=Ke(Ke({},ay()),e),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:h,error:u="Failed to load the page.",height:p,inputRef:m,loading:f="Loading page\u2026",noData:g="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:y,onGetTextError:w,onGetTextSuccess:k,onLoadError:j,onLoadSuccess:_,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:N,onRenderError:S,onRenderSuccess:C,onRenderTextLayerError:E,onRenderTextLayerSuccess:M,pageIndex:P,pageNumber:T,pdf:R,registerPage:D,renderAnnotationLayer:L=!0,renderForms:I=!1,renderMode:F="canvas",renderTextLayer:O=!0,rotate:B,scale:W=jy,unregisterPage:z,width:U}=t,H=_b(t,ky),[V,G]=zb(),{value:q,error:X}=V,Y=(0,s.useRef)(null);Db(R);const K=Vb(T)?T-1:null!==P&&void 0!==P?P:null,J=null!==T&&void 0!==T?T:Vb(P)?P+1:null,Q=null!==B&&void 0!==B?B:q?q.rotate:null,$=(0,s.useMemo)(()=>{if(!q)return null;let e=1;const t=null!==W&&void 0!==W?W:jy;if(U||p){const t=q.getViewport({scale:1,rotation:Q});U?e=U/t.width:p&&(e=p/t.height)}return t*e},[p,q,Q,W,U]);(0,s.useEffect)(function(){return()=>{Vb(K)&&i&&z&&z(K)}},[i,R,K,z]),(0,s.useEffect)(function(){G({type:"RESET"})},[G,R,K]),(0,s.useEffect)(function(){if(!R||!J)return;const e=Mb(R.getPage(J)),t=e;return e.promise.then(e=>{G({type:"RESOLVE",value:e})}).catch(e=>{G({type:"REJECT",error:e})}),()=>Jb(t)},[G,R,J]),(0,s.useEffect)(()=>{void 0!==q&&(!1!==q?function(){if(_){if(!q||!$)return;_(Qb(q,$))}if(i&&D){if(!Vb(K)||!Y.current)return;D(K,Y.current)}}():X&&(Lb(!1,X.toString()),j&&j(X)))},[q,$]);const Z=(0,s.useMemo)(()=>Vb(K)&&J&&Vb(Q)&&Vb($)?{_className:n,canvasBackground:r,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:y,onGetTextError:w,onGetTextSuccess:k,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:N,onRenderError:S,onRenderSuccess:C,onRenderTextLayerError:E,onRenderTextLayerSuccess:M,page:q,pageIndex:K,pageNumber:J,renderForms:I,renderTextLayer:O,rotate:Q,scale:$}:null,[n,r,d,h,v,x,b,y,w,k,A,N,S,C,E,M,q,K,J,I,O,Q,$]),ee=(0,s.useMemo)(()=>Tb(H,()=>q?$?Qb(q,$):void 0:q),[H,q,$]),te="".concat(K,"@").concat($,"/").concat(Q);function ne(){switch(F){case"custom":return Db(c),(0,Re.jsx)(c,{},"".concat(te,"_custom"));case"none":return null;default:return(0,Re.jsx)(yy,{canvasRef:a},"".concat(te,"_canvas"))}}return(0,Re.jsx)("div",Ke(Ke({className:Nb(n,l),"data-page-number":J,ref:ry(m,Y),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat($),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ee),{},{children:J?null===R||void 0===q||null===q?(0,Re.jsx)(Ob,{type:"loading",children:"function"===typeof f?f():f}):!1===R||!1===q?(0,Re.jsx)(Ob,{type:"error",children:"function"===typeof u?u():u}):function(){if(e=Z,!Boolean(null===e||void 0===e?void 0:e.page))throw new Error("page is undefined");var e;const t="function"===typeof o?o(Z):o;return(0,Re.jsxs)(oy.Provider,{value:Z,children:[ne(),O?(0,Re.jsx)(wy,{},"".concat(te,"_text")):null,L?(0,Re.jsx)(cy,{},"".concat(te,"_annotations")):null,t]})}():(0,Re.jsx)(Ob,{type:"no-data",children:"function"===typeof g?g():g})}))}kd.workerSrc="https://unpkg.com/pdfjs-dist@".concat(Ru,"/build/pdf.worker.min.mjs");const Ay=()=>{const[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[r,a]=(0,s.useState)(""),[o,l]=(0,s.useState)("all"),[c,d]=(0,s.useState)(null),[h,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(1),[f,g]=(0,s.useState)(1),[v,x]=(0,s.useState)(""),[b,y]=(0,s.useState)({});(0,s.useEffect)(()=>{(async()=>{try{i(!0);const[e,n]=await Promise.all([Te.getPublishedPapers(),Te.getIssueAssignments()]),s={};(n||[]).forEach(e=>{e&&e.paperId&&e.issue&&(s[e.paperId]=e.issue)});const r=(e||[]).map(e=>Ke(Ke({},e),{},{assignedIssue:e.assignedIssue||s[e.id]||null}));t(r)}catch(e){console.error("Error loading published papers for browse page",e),t([])}finally{i(!1)}})()},[]);const w=r.trim().toLowerCase(),k=(e||[]).filter(e=>{if(!e)return!1;if("all"!==o&&e.category!==o)return!1;if(!w)return!0;const t=(e.title||"").toLowerCase(),n=(e.abstract||"").toLowerCase(),s=Array.isArray(e.keywords)?e.keywords.join(" ").toLowerCase():String(e.keywords||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(w)||n.includes(w)||s.includes(w)||i.includes(w)}),j=["all",...new Set((e||[]).map(e=>e.category).filter(Boolean))],_=()=>{d(null),u(null),m(1),g(1),x("")},A=e=>{if(!e)return"Issue: Not assigned";const t=[];if(e.volume&&t.push("Vol. ".concat(e.volume)),e.issue&&t.push("Issue ".concat(e.issue)),e.month||e.year){const n="".concat(e.month?"".concat(e.month," "):"").concat(e.year||"").trim();n&&t.push("(".concat(n,")"))}return 0===t.length?"Issue: Not assigned":t.join(" ")};return n?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading published papers..."})}):(0,Re.jsxs)("div",{className:"min-h-screen bg-slate-50 py-10",children:[(0,Re.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("header",{className:"mb-8 text-center",children:[(0,Re.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Research Library"}),(0,Re.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Tell us what you are looking for and browse matching published papers. Click a title to open the paper in a PDF viewer."})]}),(0,Re.jsx)("section",{className:"mb-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-4 sm:p-6",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-stretch md:items-end",children:[(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"What are you looking for?"}),(0,Re.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Enter keywords, topic, author name, or phrase...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,Re.jsxs)("div",{className:"w-full md:w-60",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Section (Category)"}),(0,Re.jsx)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:j.map(e=>(0,Re.jsx)("option",{value:e,children:"all"===e?"All sections":e},e))})]})]})}),(0,Re.jsx)("section",{className:"bg-white rounded-2xl shadow-sm border border-slate-200",children:0===k.length?(0,Re.jsx)("div",{className:"p-8 text-center text-slate-500 text-sm",children:"No published papers found matching your search."}):(0,Re.jsx)("div",{className:"divide-y divide-slate-200",children:(()=>{const e=new Map;(k||[]).forEach(t=>{var n,s,i,r;const a=t.assignedIssue||null,o=null!==(n=null===a||void 0===a?void 0:a.volume)&&void 0!==n?n:"",l=null!==(s=null===a||void 0===a?void 0:a.issue)&&void 0!==s?s:"",c=null!==(i=null===a||void 0===a?void 0:a.year)&&void 0!==i?i:"",d=null!==(r=null===a||void 0===a?void 0:a.month)&&void 0!==r?r:"",h=[""!==o?"v".concat(o):"v_",""!==l?"i".concat(l):"i_",""!==c?"y".concat(c):"y_",d||"_"].join("|"),u=A(a);e.has(h)||e.set(h,{key:h,label:u,issue:a,papers:[]}),e.get(h).papers.push(t)});const t=Array.from(e.values());return t.sort((e,t)=>{const n=e.issue,s=t.issue;if(!n&&!s)return 0;if(!n)return 1;if(!s)return-1;const i=n.year||0,r=s.year||0;if(i!==r)return r-i;const a=n.volume||0,o=s.volume||0;if(a!==o)return o-a;const l=n.issue||0;return(s.issue||0)-l}),t})().map(e=>{const t=!0===b[e.key];return(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-4",children:[(0,Re.jsxs)("button",{type:"button",onClick:()=>{return t=e.key,void y(e=>Ke(Ke({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between gap-2 mb-2 text-left",children:[(0,Re.jsx)("h2",{className:"text-sm font-semibold text-slate-800",children:e.label}),(0,Re.jsx)("span",{className:"text-slate-400",children:(0,Re.jsx)("svg",{className:"w-4 h-4 transform transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),t&&(0,Re.jsx)("ul",{className:"space-y-2 mt-1",children:e.papers.map(e=>(0,Re.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 rounded-lg hover:bg-slate-50 px-2 py-2",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("button",{type:"button",onClick:()=>(e=>{d(e),m(1),g(1),u(null),x("")})(e),className:"text-left text-indigo-700 hover:text-indigo-900 font-semibold leading-snug hover:underline",children:e.title}),(0,Re.jsxs)("div",{className:"mt-1 text-xs text-slate-600",children:["Authors: ",Array.isArray(e.authors)?e.authors.join(", "):e.authors||"N/A"]})]}),(0,Re.jsxs)("div",{className:"text-xs text-slate-500 space-y-1 text-left sm:text-right",children:[e.category&&(0,Re.jsx)("div",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-700",children:e.category}),e.publicationDate&&(0,Re.jsxs)("div",{className:"text-[11px]",children:["Published:"," ",new Date(e.publicationDate).toLocaleDateString()]})]})]},e.id))})]},e.key)})})})]}),c&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",children:(0,Re.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-b border-slate-200 flex items-start justify-between gap-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-slate-900 leading-snug line-clamp-2",children:c.title}),(0,Re.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Authors: ",Array.isArray(c.authors)?c.authors.join(", "):c.authors||"N/A"]}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:A(c.assignedIssue)})]}),(0,Re.jsx)("button",{type:"button",onClick:_,className:"text-slate-400 hover:text-slate-600 text-xl leading-none",children:"\xd7"})]}),(0,Re.jsx)("div",{className:"flex-1 bg-slate-900/95",style:{maxHeight:"80vh",overflowY:"auto"},children:c.pdfUrl&&c.pdfUrl.toLowerCase().endsWith(".pdf")?(0,Re.jsxs)("div",{className:"flex flex-col items-center justify-start py-6",children:[(0,Re.jsx)(iy,{file:c.pdfUrl,onLoadSuccess:e=>{let{numPages:t}=e;u(t),m(1)},onLoadError:e=>x("Failed to load PDF."),loading:(0,Re.jsx)("div",{className:"flex items-center justify-center text-slate-100 text-sm",children:(0,Re.jsx)(Fe,{size:"sm",text:"Loading PDF..."})}),error:(0,Re.jsx)("div",{className:"flex items-center justify-center text-red-200 text-sm",children:"Failed to load PDF."}),children:(0,Re.jsx)(_y,{pageNumber:p,height:650,scale:f})}),v&&(0,Re.jsx)("div",{className:"mt-3 text-xs text-red-200",children:v}),h&&(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-slate-100 justify-center",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.max(e-.25,.5))},className:"px-2 py-1 rounded bg-slate-800 disabled:opacity-50",disabled:f<=.5,children:"-"}),(0,Re.jsxs)("span",{children:[Math.round(100*f),"%"]}),(0,Re.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.min(e+.25,2))},className:"px-2 py-1 rounded bg-slate-800 disabled:opacity-50",disabled:f>=2,children:"+"}),(0,Re.jsx)("button",{type:"button",onClick:()=>{g(1)},className:"px-3 py-1 rounded bg-slate-800/70 hover:bg-slate-800",children:"Reset"})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>{m(e=>Math.max(e-1,1))},disabled:p<=1,className:"px-3 py-1 rounded bg-slate-800 disabled:opacity-50",children:"Previous"}),(0,Re.jsxs)("span",{children:["Page ",p," of ",h]}),(0,Re.jsx)("button",{type:"button",onClick:()=>{m(e=>h?Math.min(e+1,h):e+1)},disabled:h&&p>=h,className:"px-3 py-1 rounded bg-slate-800 disabled:opacity-50",children:"Next"})]})]})]}):(0,Re.jsx)("div",{className:"flex items-center justify-center h-full min-h-[60vh] px-6 py-10",children:(0,Re.jsxs)("div",{className:"max-w-md text-center",children:[(0,Re.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"PDF not available"}),(0,Re.jsx)("p",{className:"text-sm text-slate-200",children:"This paper does not have a PDF file available for inline viewing."})]})})}),(0,Re.jsx)("div",{className:"px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50 flex justify-end",children:(0,Re.jsx)("button",{type:"button",onClick:_,className:"px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white text-xs sm:text-sm font-medium rounded-lg",children:"Close"})})]})})]})},Ny=e=>{let{type:t="info",message:n,onClose:s}=e;return(0,Re.jsx)("div",{className:"border rounded-lg p-4 ".concat((e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})(t)),children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"text-lg mr-2",children:(e=>{switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26a0";default:return"\u2139"}})(t)}),(0,Re.jsx)("span",{className:"flex-1",children:n}),s&&(0,Re.jsx)("button",{onClick:s,className:"ml-2 text-lg hover:opacity-70 transition-opacity",children:"\xd7"})]})})},Sy=()=>{var e,t;const{login:n,loginWithGoogle:i}=Le(),r=te(),a=Z(),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),f=(null===(e=a.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/",g=async e=>{m(""),u(!0);try{let t;t="admin"===e?{email:"admin@example.com",password:"password123"}:"reviewer"===e?{email:"reviewer@example.com",password:"password123"}:{email:"author@example.com",password:"password123"};const s=await n(t.email,t.password);s&&s.success?r("/"):m((null===s||void 0===s?void 0:s.error)||"Demo login failed.")}catch(t){m("Demo login failed.")}finally{u(!1)}};return(0,Re.jsxs)("div",{className:"min-h-screen bg-academic-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-8",children:(0,Re.jsx)("img",{src:Be,alt:"Research Platform Logo",className:"w-16 h-16 object-contain rounded-2xl shadow-lg"})}),(0,Re.jsx)("h2",{className:"mt-2 text-center text-3xl font-extrabold text-academic-900 leading-tight",children:"Sign in to your account"}),(0,Re.jsx)("p",{className:"mt-4 text-center text-base text-academic-600",children:"Access your research papers, reviews, and administrative tools"}),(0,Re.jsxs)("p",{className:"mt-2 text-center text-sm text-academic-600",children:["Or"," ",(0,Re.jsx)(Ce,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"create a new account"})]})]}),(0,Re.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Re.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg rounded-lg sm:px-10",children:[p&&(0,Re.jsx)(Ny,{type:"error",message:p}),(0,Re.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),m(""),u(!0);try{const e=await n(o,c);e&&e.success?r(f,{replace:!0}):m((null===e||void 0===e?void 0:e.error)||"Failed to sign in. Please check your credentials.")}catch(t){m("Failed to sign in. Please check your credentials.")}finally{u(!1)}},children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-academic-700",children:"Email address"}),(0,Re.jsx)("div",{className:"mt-1",children:(0,Re.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>l(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-academic-300 rounded-md shadow-sm placeholder-academic-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-academic-700",children:"Password"}),(0,Re.jsx)("div",{className:"mt-1",children:(0,Re.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>d(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-academic-300 rounded-md shadow-sm placeholder-academic-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),(0,Re.jsx)("div",{children:(0,Re.jsxs)("button",{type:"submit",disabled:h,className:"button-auth w-full justify-center",children:[(0,Re.jsx)("span",{className:"dots_border"}),(0,Re.jsxs)("svg",{className:"sparkle",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Re.jsx)("path",{className:"path",d:"M14.8285 14.8285C16.105 13.552 16.105 11.448 14.8285 10.1716C13.552 8.89502 11.448 8.89502 10.1716 10.1716C8.89502 11.448 8.89502 13.552 10.1716 14.8285C11.448 16.105 13.552 16.105 14.8285 14.8285Z"}),(0,Re.jsx)("path",{className:"path",d:"M12 2V4M12 20V22M4 12H2M22 12H20M19.071 19.071L17.657 17.657M6.343 6.343L4.929 4.929M19.071 4.929L17.657 6.343M6.343 17.657L4.929 19.071"})]}),(0,Re.jsx)("span",{className:"text_button",children:h?"Signing In...":"Sign In"})]})})]}),(0,Re.jsx)("div",{className:"mt-6 flex items-center justify-center",children:(0,Re.jsx)(Ce,{to:"/forgot-password",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsxs)("button",{onClick:async()=>{m(""),u(!0);try{await i(),r("/")}catch(e){m("Google sign-in failed.")}finally{u(!1)}},className:"w-full flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-academic-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:[(0,Re.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Sign in with Google"]})}),(0,Re.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[(0,Re.jsx)("button",{onClick:()=>g("admin"),className:"w-full py-2 px-4 border rounded-md shadow-sm text-sm font-medium bg-gray-100 hover:bg-gray-200",children:"Demo Login as Admin"}),(0,Re.jsx)("button",{onClick:()=>g("reviewer"),className:"w-full py-2 px-4 border rounded-md shadow-sm text-sm font-medium bg-gray-100 hover:bg-gray-200",children:"Demo Login as Reviewer"}),(0,Re.jsx)("button",{onClick:()=>g("author"),className:"w-full py-2 px-4 border rounded-md shadow-sm text-sm font-medium bg-gray-100 hover:bg-gray-200",children:"Demo Login as Author"})]})]})})]})},Cy=["confirmPassword"],Ey=()=>{const[e,t]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",affiliation:"",department:"",role:"author"}),[n,i]=(0,s.useState)(""),[r,a]=(0,s.useState)(!1),{register:o}=Le(),l=te(),c=n=>{t(Ke(Ke({},e),{},{[n.target.name]:n.target.value})),i("")};return(0,Re.jsxs)("div",{className:"min-h-screen bg-academic-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Re.jsx)("div",{className:"flex justify-center",children:(0,Re.jsx)("img",{src:Be,alt:"Research Portal Logo",className:"h-16 w-auto"})}),(0,Re.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-academic-900",children:"Create your account"}),(0,Re.jsxs)("p",{className:"mt-2 text-center text-sm text-academic-600",children:["Or"," ",(0,Re.jsx)(Ce,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),(0,Re.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Re.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&(0,Re.jsx)(Ny,{type:"error",message:n,onClose:()=>i("")}),(0,Re.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e.password!==e.confirmPassword?(i("Passwords do not match"),0):e.password.length<6?(i("Password must be at least 6 characters long"),0):e.name.trim()?e.email.trim()?e.affiliation.trim()?e.role||(i("Please select a role"),0):(i("Affiliation is required"),0):(i("Email is required"),0):(i("Name is required"),0)){a(!0),i("");try{const{confirmPassword:t}=e,n=_b(e,Cy),s=await o(n);if(s.success){const e=n.role;l("reviewer"===e?"/reviewer-dashboard":"admin"===e||"editor"===e?"/admin-dashboard":"/author-dashboard")}else i(s.error)}catch(n){i("Registration failed. Please try again.")}finally{a(!1)}}},children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"name",className:"label",children:"Full Name"}),(0,Re.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:c,className:"input-field",placeholder:"Enter your full name"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"email",className:"label",children:"Email address"}),(0,Re.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:c,className:"input-field",placeholder:"Enter your email"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"affiliation",className:"label",children:"Affiliation"}),(0,Re.jsx)("input",{id:"affiliation",name:"affiliation",type:"text",required:!0,value:e.affiliation,onChange:c,className:"input-field",placeholder:"University, Institution, or Organization"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"department",className:"label",children:"Department"}),(0,Re.jsx)("input",{id:"department",name:"department",type:"text",value:e.department,onChange:c,className:"input-field",placeholder:"Department or Field of Study"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"role",className:"label",children:"Register As"}),(0,Re.jsxs)("select",{id:"role",name:"role",value:e.role,onChange:c,className:"input-field",required:!0,children:[(0,Re.jsx)("option",{value:"author",children:"Author"}),(0,Re.jsx)("option",{value:"reviewer",children:"Reviewer"}),(0,Re.jsx)("option",{value:"editor",children:"Editor"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),(0,Re.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:c,className:"input-field",placeholder:"Create a password"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"}),(0,Re.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:c,className:"input-field",placeholder:"Confirm your password"})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 border-academic-300 rounded"}),(0,Re.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-academic-900",children:["I agree to the"," ",(0,Re.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",(0,Re.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),(0,Re.jsx)("div",{children:(0,Re.jsxs)("button",{type:"submit",disabled:r,className:"button-auth w-full justify-center",children:[(0,Re.jsx)("span",{className:"dots_border"}),(0,Re.jsxs)("svg",{className:"sparkle",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Re.jsx)("path",{className:"path",d:"M14.8285 14.8285C16.105 13.552 16.105 11.448 14.8285 10.1716C13.552 8.89502 11.448 8.89502 10.1716 10.1716C8.89502 11.448 8.89502 13.552 10.1716 14.8285C11.448 16.105 13.552 16.105 14.8285 14.8285Z"}),(0,Re.jsx)("path",{className:"path",d:"M12 2V4M12 20V22M4 12H2M22 12H20M19.071 19.071L17.657 17.657M6.343 6.343L4.929 4.929M19.071 4.929L17.657 6.343M6.343 17.657L4.929 19.071"})]}),(0,Re.jsx)("span",{className:"text_button",children:r?"Creating Account...":"Create Account"})]})})]}),(0,Re.jsxs)("div",{className:"mt-6",children:[(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Re.jsx)("div",{className:"w-full border-t border-academic-300"})}),(0,Re.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Re.jsx)("span",{className:"px-2 bg-white text-academic-500",children:"Or continue with"})})]}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsxs)("button",{type:"button",onClick:()=>{alert("Google Sign-In will be available soon.")},className:"w-full flex justify-center items-center gap-3 py-2 px-4 border border-academic-300 rounded-md shadow-sm bg-white text-sm font-medium text-academic-700 hover:bg-academic-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Re.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,Re.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,Re.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,Re.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,Re.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})})]}),(0,Re.jsxs)("div",{className:"mt-6",children:[(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Re.jsx)("div",{className:"w-full border-t border-academic-300"})}),(0,Re.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Re.jsx)("span",{className:"px-2 bg-white text-academic-500",children:"Note"})})]}),(0,Re.jsx)("div",{className:"mt-6 text-center",children:(0,Re.jsxs)("p",{className:"text-sm text-academic-600",children:["By registering, you will be able to submit research papers for review. Your account will be created as an ",e.role,"."]})})]})]})})]})},My=()=>{const{user:e}=Le(),[t,n]=(0,s.useState)("submissions"),[i,r]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)([]),[d,h]=(0,s.useState)(!0),u=te(),[p,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)(""),[v,x]=(0,s.useState)("recent"),[b,y]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[j,_]=(0,s.useState)({title:"",authors:"",abstract:"",keywords:"",category:"",wordCount:"",pdfFile:null}),[A,N]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[E,M]=(0,s.useState)(null),[P,T]=(0,s.useState)(null),[R,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{L(),I()},[]);const L=async()=>{try{o(!0);const t=(await Te.getAllPapers()).filter(t=>t.authors.some(t=>t.includes(e.name.split(" ")[0])));r(t)}catch(t){console.error("Error loading papers:",t)}finally{o(!1)}},I=async()=>{try{h(!0);const t=await Te.getNotifications(e.id);c(t)}catch(t){console.error("Error loading notifications:",t)}finally{h(!1)}},F=e=>{const{name:t,value:n,files:s}=e.target;_(Ke(Ke({},j),{},{[t]:s?s[0]:n}))},O=async e=>{try{const t=i.find(t=>t.id===e);t&&(t.paymentStatus="paid",C({type:"success",message:"Payment processed successfully!"}),L())}catch(t){C({type:"error",message:"Payment failed. Please try again."})}},B={submitted:i.filter(e=>"submitted"===e.status).length,under_review:i.filter(e=>"under_review"===e.status).length,published:i.filter(e=>"published"===e.status).length,rejected:i.filter(e=>"rejected"===e.status).length},W=l.filter(e=>!e.read).length,z=f.trim().toLowerCase(),U=["submitted","under_review","revisions_requested"];let H=(i||[]).filter(e=>{if(!z)return!0;const t=(e.title||"").toLowerCase(),n=(e.abstract||"").toLowerCase(),s=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(z)||n.includes(z)||s.includes(z)||i.includes(z)});return b||(H=H.filter(e=>U.includes(e.status))),H=[...H].sort((e,t)=>{if("title_az"===v)return(e.title||"").localeCompare(t.title||"");if("title_za"===v)return(t.title||"").localeCompare(e.title||"");const n=e.submissionDate?new Date(e.submissionDate):new Date(0),s=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===v?n-s:s-n}),a?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading your papers..."})}):(0,Re.jsx)("div",{className:"min-h-screen bg-academic-50",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Re.jsxs)("div",{className:"mb-10 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold text-academic-900 mb-3 leading-tight",children:"Author Dashboard"}),(0,Re.jsxs)("p",{className:"text-academic-600 text-lg",children:["Welcome back, ",(0,Re.jsx)("span",{className:"font-medium",children:e.name}),". Track your research submissions and manage your academic portfolio."]})]}),(0,Re.jsxs)("button",{type:"button",onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-white border border-academic-200 rounded-lg shadow-sm text-sm font-medium text-academic-700 hover:bg-academic-50 transition-colors duration-200",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-academic-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),W>0&&(0,Re.jsx)("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:W})]})]}),S&&(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)(Ny,{type:S.type,message:S.message,onClose:()=>C(null)})}),p&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Re.jsx)("h2",{className:"text-xl font-bold text-academic-900",children:"Notifications"}),(0,Re.jsx)("button",{type:"button",onClick:()=>m(!1),className:"text-academic-400 hover:text-academic-600",children:"\xd7"})]}),d?(0,Re.jsx)("p",{className:"text-sm text-academic-500",children:"Loading notifications..."}):0===l.length?(0,Re.jsx)("p",{className:"text-sm text-academic-500",children:"You have no notifications."}):(0,Re.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,Re.jsx)("div",{onClick:()=>(async e=>{c(t=>t.map(t=>t.id===e?Ke(Ke({},t),{},{read:!0}):t));try{await Te.markNotificationRead(e)}catch(t){console.error("Error marking notification read:",t)}})(e.id),className:"p-3 rounded-lg border text-sm cursor-pointer transition-colors duration-200 ".concat(e.read?"bg-academic-50 border-academic-100 text-academic-600":"bg-white border-primary-100 text-academic-700 hover:bg-primary-50"),children:(0,Re.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Re.jsx)("span",{className:"font-medium",children:e.title}),e.timestamp&&(0,Re.jsx)("span",{className:"text-xs text-academic-400",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,Re.jsx)("p",{className:"text-xs",children:e.message})]}),(0,Re.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),(async e=>{c(t=>t.filter(t=>t.id!==e));try{await Te.deleteNotification(e)}catch(t){console.error("Error deleting notification:",t)}})(e.id)},className:"ml-2 text-xs text-red-600 hover:text-red-800",children:"Delete"})]})},e.id))})]})})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-blue-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Submitted"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.submitted})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,Re.jsxs)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Under Review"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.under_review})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Published"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.published})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-red-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Rejected"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.rejected})]})]})})]}),(0,Re.jsx)("div",{className:"mb-10",children:(0,Re.jsx)("button",{onClick:()=>u("/submitform"),className:"btn-glow",children:(0,Re.jsx)("strong",{children:"Submit New Paper"})})}),w&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-8",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-academic-900",children:"Submit New Paper"}),(0,Re.jsx)("button",{onClick:()=>k(!1),className:"text-academic-400 hover:text-academic-600 hover:bg-academic-100 rounded-full p-2 transition-colors duration-200",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N(!0);try{const e={title:j.title,authors:j.authors.split(",").map(e=>e.trim()),abstract:j.abstract,keywords:j.keywords.split(",").map(e=>e.trim()),category:j.category,wordCount:parseInt(j.wordCount),submissionFee:150,paymentStatus:"pending"};(await Te.submitPaper(e)).success?(C({type:"success",message:"Paper submitted successfully!"}),k(!1),_({title:"",authors:"",abstract:"",keywords:"",category:"",wordCount:"",pdfFile:null}),L()):C({type:"error",message:"Failed to submit paper. Please try again."})}catch(t){C({type:"error",message:"An error occurred while submitting the paper."})}finally{N(!1)}},className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Paper Title"}),(0,Re.jsx)("input",{type:"text",name:"title",value:j.title,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",placeholder:"Enter paper title",required:!0})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Authors (comma-separated)"}),(0,Re.jsx)("input",{type:"text",name:"authors",value:j.authors,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",placeholder:"Author 1, Author 2, Author 3",required:!0}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"Include all contributing authors in order of contribution"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Abstract"}),(0,Re.jsx)("textarea",{name:"abstract",value:j.abstract,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 resize-none",placeholder:"Enter paper abstract (150-300 words)",rows:"6",required:!0})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Keywords (comma-separated)"}),(0,Re.jsx)("input",{type:"text",name:"keywords",value:j.keywords,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",placeholder:"keyword1, keyword2, keyword3",required:!0}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"3-8 keywords that best represent your paper"})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Category"}),(0,Re.jsxs)("select",{name:"category",value:j.category,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",required:!0,children:[(0,Re.jsx)("option",{value:"",children:"Select category"}),(0,Re.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,Re.jsx)("option",{value:"Environmental Science",children:"Environmental Science"}),(0,Re.jsx)("option",{value:"Biomedical Engineering",children:"Biomedical Engineering"}),(0,Re.jsx)("option",{value:"Physics",children:"Physics"}),(0,Re.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,Re.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Word Count"}),(0,Re.jsx)("input",{type:"number",name:"wordCount",value:j.wordCount,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",placeholder:"e.g., 5000",min:"500",required:!0}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"Minimum 500 words"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"PDF File"}),(0,Re.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-academic-300 border-dashed rounded-lg hover:border-academic-400 transition-colors duration-200",children:(0,Re.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Re.jsx)("svg",{className:"mx-auto h-12 w-12 text-academic-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,Re.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Re.jsxs)("div",{className:"flex text-sm text-academic-600",children:[(0,Re.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[(0,Re.jsx)("span",{children:"Upload a file"}),(0,Re.jsx)("input",{type:"file",name:"pdfFile",accept:".pdf",onChange:F,className:"sr-only",required:!0})]}),(0,Re.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Re.jsx)("p",{className:"text-xs text-academic-500",children:"PDF up to 20MB"}),j.pdfFile&&(0,Re.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),j.pdfFile.name]})]})})]}),(0,Re.jsx)("div",{className:"bg-academic-50 p-5 rounded-xl border border-academic-200",children:(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:(0,Re.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-3",children:[(0,Re.jsx)("h3",{className:"text-sm font-medium text-academic-900",children:"Submission Information"}),(0,Re.jsxs)("div",{className:"mt-2 text-sm text-academic-600",children:[(0,Re.jsxs)("p",{children:["Submission fee: ",(0,Re.jsx)("strong",{className:"text-lg text-primary-600",children:"$150"})]}),(0,Re.jsx)("p",{className:"mt-1",children:"Payment is required to initiate the review process. You can pay immediately after submission."})]})]})]})}),(0,Re.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,Re.jsx)("button",{type:"submit",disabled:A,className:"flex-1 py-3 px-4 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 flex items-center justify-center",children:A?(0,Re.jsxs)("span",{className:"flex items-center",children:[(0,Re.jsx)(Fe,{size:"sm",text:""}),(0,Re.jsx)("span",{className:"ml-2",children:"Submitting..."})]}):"Submit Paper"}),(0,Re.jsx)("button",{type:"button",onClick:()=>k(!1),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"Cancel"})]})]})]})})}),(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)("div",{className:"border-b border-academic-200",children:(0,Re.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Re.jsxs)("button",{onClick:()=>n("submissions"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("submissions"===t?"border-primary-500 text-primary-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["All Submissions (",i.length,")"]}),(0,Re.jsxs)("button",{onClick:()=>n("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("pending"===t?"border-primary-500 text-primary-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Pending Payment (",B.submitted,")"]})]})})}),"submissions"===t&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Re.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-academic-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsxs)("select",{value:v,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Re.jsx)("option",{value:"recent",children:"Newest first"}),(0,Re.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,Re.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,Re.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,Re.jsx)("button",{type:"button",onClick:()=>y(e=>!e),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm font-medium text-academic-700 hover:bg-academic-50",children:b?"Show unfinished only":"View all papers"})]})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:H.map(e=>(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:e.title}),(0,Re.jsx)("span",{className:"".concat("published"===e.status?"badge-success":"under_review"===e.status?"badge-warning":"submitted"===e.status?"badge-info":"badge-danger"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Authors:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:e.authors.join(", ")})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Submitted:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.submissionDate).toLocaleDateString()})]}),e.publicationDate&&(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Published:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.publicationDate).toLocaleDateString()})]})]}),(0,Re.jsx)("div",{className:"mb-5",children:(0,Re.jsx)("p",{className:"text-academic-700 text-sm leading-relaxed line-clamp-3",children:e.abstract})}),e.pdfUrl&&(0,Re.jsx)("div",{className:"mb-5",children:(0,Re.jsx)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-academic-100 hover:bg-academic-200 text-academic-700 text-xs font-medium rounded-lg border border-black transition-colors duration-200",children:"View Manuscript (latest version)"})}),"submitted"===e.status&&"pending"===e.paymentStatus&&(0,Re.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("span",{className:"text-sm text-academic-600 font-medium",children:["Submission fee: ",(0,Re.jsx)("span",{className:"text-lg font-bold text-primary-600",children:"$150"})]}),(0,Re.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Complete payment to initiate review"})]}),(0,Re.jsxs)("button",{onClick:()=>O(e.id),className:"Btn",children:[(0,Re.jsxs)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Re.jsx)("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Re.jsx)("path",{d:"M2 6L12 13L22 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),"Pay Now"]})]})}),"submitted"===e.status&&"paid"===e.paymentStatus&&(0,Re.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Re.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Payment completed"})]}),(0,Re.jsx)("span",{className:"text-sm text-academic-500",children:"Awaiting reviewer assignment"})]})}),"under_review"===e.status&&(0,Re.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,Re.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:"Currently under review"})]}),e.reviewDeadline&&(0,Re.jsxs)("p",{className:"text-xs text-academic-500",children:["Estimated completion: ",new Date(e.reviewDeadline).toLocaleDateString()]})]})}),"revisions_requested"===e.status&&(0,Re.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,Re.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-orange-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M12 18a9 9 0 110-18 9 9 0 010 18z"})}),(0,Re.jsx)("span",{className:"text-sm text-academic-700 font-medium",children:"Revisions requested - please upload a revised manuscript."})]}),(0,Re.jsx)("button",{type:"button",onClick:()=>{M(e),T(null)},className:"btn-glow mt-1",children:(0,Re.jsx)("strong",{children:"Upload Revised"})})]})}),"published"===e.status&&(0,Re.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Congratulations! Your paper has been published."})]}),e.doi&&(0,Re.jsxs)("p",{className:"text-xs text-academic-600 mt-1",children:["DOI: ",e.doi]})]}),"rejected"===e.status&&(0,Re.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{className:"text-sm text-red-600",children:"This paper was not accepted for publication."})]}),(0,Re.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Consider revising based on feedback and resubmitting."})]})]},e.id))})]}),"pending"===t&&(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.filter(e=>"submitted"===e.status&&"pending"===e.paymentStatus).map(e=>(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-academic-900 mb-4 line-clamp-2",children:e.title}),(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"text-sm text-academic-600 font-medium",children:["Submission fee: ",(0,Re.jsx)("span",{className:"text-lg font-bold text-primary-600",children:"$150"})]}),(0,Re.jsxs)("p",{className:"text-xs text-academic-500 mt-1",children:["Submitted on ",new Date(e.submissionDate).toLocaleDateString()]}),(0,Re.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Complete payment to initiate review process"})]}),(0,Re.jsxs)("button",{onClick:()=>O(e.id),className:"Btn",children:[(0,Re.jsxs)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Re.jsx)("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Re.jsx)("path",{d:"M2 6L12 13L22 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),"Pay Now"]})]})]},e.id))}),0===i.length&&(0,Re.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,Re.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,Re.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Papers Submitted Yet"}),(0,Re.jsx)("p",{className:"text-academic-500 max-w-md mx-auto mb-6",children:"Start your academic journey by submitting your first research paper. We're excited to review your work!"}),(0,Re.jsx)("button",{onClick:()=>k(!0),className:"py-3 px-6 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md",children:"Submit Your First Paper"})]}),E&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Re.jsx)("h2",{className:"text-xl font-bold text-academic-900",children:"Upload Revised Manuscript"}),(0,Re.jsx)("button",{type:"button",onClick:()=>{M(null),T(null)},className:"text-academic-400 hover:text-academic-600",children:"\xd7"})]}),(0,Re.jsxs)("div",{className:"mb-4 p-4 bg-academic-50 rounded-lg border border-academic-200",children:[(0,Re.jsx)("h3",{className:"font-semibold text-academic-900 mb-1 line-clamp-2",children:E.title}),(0,Re.jsx)("p",{className:"text-xs text-academic-600",children:"Upload a revised version of your manuscript in response to reviewer/editor comments."})]}),(0,Re.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),E&&P){D(!0);try{const t=await Te.uploadRevision(E.id,e.id,P);t.success?(C({type:"success",message:"Revised manuscript uploaded successfully."}),M(null),T(null),L()):C({type:"error",message:t.error||"Failed to upload revised manuscript."})}catch(n){console.error("Error uploading revised manuscript:",n),C({type:"error",message:"An error occurred while uploading the revised manuscript."})}finally{D(!1)}}else C({type:"error",message:"Please choose a revised manuscript file before submitting."})},className:"space-y-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Revised Manuscript (PDF)"}),(0,Re.jsx)("div",{className:"mt-1 flex justify-center px-4 pt-5 pb-6 border-2 border-dashed border-academic-300 rounded-lg hover:border-academic-400 transition-colors duration-200",children:(0,Re.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Re.jsx)("svg",{className:"mx-auto h-10 w-10 text-academic-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,Re.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Re.jsxs)("div",{className:"flex text-sm text-academic-600 justify-center",children:[(0,Re.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-primary-600 hover:text-primary-500",children:[(0,Re.jsx)("span",{children:"Select file"}),(0,Re.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{const t=e.target.files&&e.target.files[0]?e.target.files[0]:null;T(t)},className:"sr-only"})]}),(0,Re.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Re.jsx)("p",{className:"text-xs text-academic-500",children:"PDF format only, up to 20MB."}),P&&(0,Re.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["Selected file: ",(0,Re.jsx)("span",{className:"font-medium",children:P.name})]})]})})]}),(0,Re.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,Re.jsx)("button",{type:"submit",disabled:R||!P,className:"flex-1 py-2 px-4 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white text-sm font-medium rounded-lg transition-colors duration-200 flex items-center justify-center",children:R?"Uploading...":"Submit Revised Manuscript"}),(0,Re.jsx)("button",{type:"button",onClick:()=>{M(null),T(null)},className:"flex-1 py-2 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 text-sm font-medium rounded-lg transition-colors duration-200",children:"Cancel"})]})]})]})})})]})})},Py=()=>{const{user:e}=Le(),t=te(),[n,i]=(0,s.useState)("assigned"),[r,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(null),[f,g]=(0,s.useState)({rating:"",recommendation:"",comments:""}),[v,x]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),[w,k]=(0,s.useState)([]),[j,_]=(0,s.useState)(""),[A,N]=(0,s.useState)("recent"),[S,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{E()},[]);const E=async()=>{try{d(!0);const t=(await Te.getAllPapers()).filter(t=>t.assignedReviewers&&t.assignedReviewers.includes(e.id));a(t);const n=await Te.getReviewsByReviewer(e.id);l(n);const s=await Te.getNotifications(e.id);k(Array.isArray(s)?s:[])}catch(t){console.error("Error loading reviewer data:",t)}finally{d(!1)}},M=e=>{g(t=>Ke(Ke({},t),{},{[e.target.name]:e.target.value}))},P=e=>{if(!e||!e.title||!Array.isArray(w))return 1;return 1+w.filter(t=>t&&"Revised manuscript uploaded"===t.title&&"string"===typeof t.message&&t.message.includes(e.title)).length},T=(()=>{const e=r.filter(e=>o.filter(t=>t.paperId===e.id).length<P(e)).length;return{assigned:r.length,completed:o.length,pending:e}})(),R=j.trim().toLowerCase();let D=(r||[]).map(e=>{const t=o.filter(t=>t.paperId===e.id),n=P(e),s=t.length,i=s>=n;return{paper:e,reviewsForPaper:t,totalRounds:n,reviewCount:s,isCompleted:i,isRevisionRound:!i&&n>1}}).filter(e=>{let{paper:t}=e;return(e=>{if(!R)return!0;const t=(e.title||"").toLowerCase(),n=(e.abstract||"").toLowerCase(),s=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(R)||n.includes(R)||s.includes(R)||i.includes(R)})(t)});return S||(D=D.filter(e=>!e.isCompleted)),D=[...D].sort((e,t)=>{const n=e.paper,s=t.paper;if("title_az"===A)return(n.title||"").localeCompare(s.title||"");if("title_za"===A)return(s.title||"").localeCompare(n.title||"");const i=n.submissionDate?new Date(n.submissionDate):new Date(0),r=s.submissionDate?new Date(s.submissionDate):new Date(0);return"oldest"===A?i-r:r-i}),c?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading your assignments..."})}):(0,Re.jsx)("div",{className:"min-h-screen bg-academic-50",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Re.jsxs)("div",{className:"mb-10",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold text-academic-900 mb-3 leading-tight",children:"Reviewer Dashboard"}),(0,Re.jsxs)("p",{className:"text-academic-600 text-lg",children:["Welcome back, ",(0,Re.jsx)("span",{className:"font-medium",children:e.name}),". Manage your review assignments with precision."]})]}),b&&(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)(Ny,{type:b.type,message:b.message,onClose:()=>y(null)})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-blue-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Assigned Papers"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.assigned})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Pending Reviews"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.pending})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Completed Reviews"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.completed})]})]})})]}),(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)("div",{className:"border-b border-academic-200",children:(0,Re.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Re.jsxs)("button",{onClick:()=>i("assigned"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("assigned"===n?"border-primary-500 text-primary-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Assigned Papers (",T.assigned,")"]}),(0,Re.jsxs)("button",{onClick:()=>i("completed"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("completed"===n?"border-primary-500 text-primary-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Completed Reviews (",T.completed,")"]})]})})}),"assigned"===n&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Re.jsx)("input",{type:"text",value:j,onChange:e=>_(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-academic-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsxs)("select",{value:A,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Re.jsx)("option",{value:"recent",children:"Newest first"}),(0,Re.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,Re.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,Re.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,Re.jsx)("button",{type:"button",onClick:()=>C(e=>!e),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm font-medium text-academic-700 hover:bg-academic-50",children:S?"Show unfinished only":"View all papers"})]})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.map(e=>{let{paper:n,reviewsForPaper:s,totalRounds:i,reviewCount:r,isCompleted:a,isRevisionRound:o}=e;const l=s[0]||null;return(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:n.title}),(0,Re.jsx)("span",{className:"".concat(a?"badge-success":o?"badge-info":"badge-warning"),children:a?"REVIEWED":o?"REVISION PENDING":"PENDING"})]}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Authors:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:n.authors.join(", ")})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Category:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:n.category})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Submitted:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(n.submissionDate).toLocaleDateString()})]}),n.reviewDeadline&&(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Deadline:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(n.reviewDeadline).toLocaleDateString()})]})]}),(0,Re.jsx)("div",{className:"mb-5",children:(0,Re.jsx)("p",{className:"text-academic-700 text-sm leading-relaxed line-clamp-3",children:n.abstract})}),(0,Re.jsx)("div",{className:"flex flex-wrap gap-2 mb-5",children:n.keywords.map((e,t)=>(0,Re.jsx)("span",{className:"px-3 py-1 bg-academic-100 text-academic-700 text-xs rounded-full font-medium",children:e},t))}),a&&l&&(0,Re.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Re.jsx)("span",{className:"text-sm font-medium text-academic-600",children:"Your Review Summary"}),(0,Re.jsxs)("span",{className:"text-sm text-academic-500 font-medium",children:["Rating: ",l.rating,"/5"]})]}),(0,Re.jsxs)("p",{className:"text-sm text-academic-600 mb-2",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Recommendation:"})," ",(0,Re.jsx)("span",{className:"font-semibold capitalize",children:l.recommendation.replace("_"," ")})]}),(0,Re.jsx)("p",{className:"text-sm text-academic-700 line-clamp-2 bg-academic-50 p-3 rounded-md",children:l.comments})]}),(0,Re.jsxs)("div",{className:"pt-4 border-t border-academic-200 flex flex-col sm:flex-row gap-3",children:[(0,Re.jsx)("button",{onClick:()=>t("/review/paper/".concat(n.id)),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"View Manuscript"}),!a&&(0,Re.jsx)("button",{onClick:()=>(e=>{m(e),g({rating:"",recommendation:"",comments:""}),u(!0)})(n),className:"Btn",children:(0,Re.jsx)("strong",{children:"Start Review"})})]})]},"".concat(n.id,"-").concat(i))})})]}),"completed"===n&&(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(e=>{const t=r.find(t=>t.id===e.paperId);return t?(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:t.title}),(0,Re.jsx)("span",{className:"badge-success",children:"COMPLETED"})]}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Authors:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:t.authors.join(", ")})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Submitted:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(t.submissionDate).toLocaleDateString()})]}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Reviewed On:"}),(0,Re.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.submittedDate).toLocaleDateString()})]})]}),(0,Re.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,Re.jsxs)("div",{className:"mb-4",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Re.jsx)("span",{className:"text-sm font-medium text-academic-600",children:"Rating"}),(0,Re.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((t,n)=>(0,Re.jsx)("svg",{className:"w-5 h-5 ".concat(n<e.rating?"text-yellow-400":"text-academic-300"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n)),(0,Re.jsxs)("span",{className:"ml-2 text-sm text-academic-600 font-medium",children:["(",e.rating,"/5)"]})]})]}),(0,Re.jsx)("div",{className:"mb-3",children:(0,Re.jsxs)("p",{className:"text-sm text-academic-600",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Recommendation:"}),(0,Re.jsx)("span",{className:"ml-2 font-semibold capitalize",children:e.recommendation.replace("_"," ")})]})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-academic-600 mb-2",children:"Review Comments"}),(0,Re.jsx)("div",{className:"bg-academic-50 p-4 rounded-lg border-l-4 border-academic-200",children:(0,Re.jsx)("p",{className:"text-sm text-academic-700 leading-relaxed",children:e.comments})})]})]})})]},e.id):null})}),"assigned"===n&&0===r.length&&(0,Re.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,Re.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,Re.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Papers Assigned for Review"}),(0,Re.jsx)("p",{className:"text-academic-500 max-w-md mx-auto",children:"You will be notified when new papers are assigned to you. Thank you for your contribution to the academic review process."})]}),"completed"===n&&0===o.length&&(0,Re.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,Re.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,Re.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Completed Reviews Yet"}),(0,Re.jsx)("p",{className:"text-academic-500 max-w-md mx-auto",children:"Your completed reviews will appear here once you've submitted them. Start reviewing your assigned papers to build your review history."})]}),h&&p&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-8",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-academic-900",children:"Submit Review"}),(0,Re.jsx)("button",{onClick:()=>u(!1),className:"text-academic-400 hover:text-academic-600 hover:bg-academic-100 rounded-full p-2 transition-colors duration-200",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("div",{className:"mb-8 p-5 bg-academic-50 rounded-xl border border-academic-200",children:[(0,Re.jsx)("h3",{className:"font-semibold text-academic-900 text-lg mb-3",children:p.title}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700",children:"Authors:"}),(0,Re.jsx)("p",{className:"text-academic-600 mt-1",children:p.authors.join(", ")})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700",children:"Category:"}),(0,Re.jsx)("p",{className:"text-academic-600 mt-1",children:p.category})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700",children:"Submitted:"}),(0,Re.jsx)("p",{className:"text-academic-600 mt-1",children:new Date(p.submissionDate).toLocaleDateString()})]}),p.reviewDeadline&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-academic-700",children:"Deadline:"}),(0,Re.jsx)("p",{className:"text-academic-600 mt-1",children:new Date(p.reviewDeadline).toLocaleDateString()})]})]})]}),(0,Re.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),x(!0);try{const t={paperId:p.id,reviewerId:e.id,reviewerName:e.name,rating:parseInt(f.rating),recommendation:f.recommendation,comments:f.comments};(await Te.submitReview(t)).success?(y({type:"success",message:"Review submitted successfully!"}),u(!1),m(null),E()):y({type:"error",message:"Failed to submit review. Please try again."})}catch(n){y({type:"error",message:"An error occurred while submitting the review."})}finally{x(!1)}},className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Overall Rating (1-5)"}),(0,Re.jsxs)("select",{name:"rating",value:f.rating,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",required:!0,children:[(0,Re.jsx)("option",{value:"",children:"Select a rating"}),(0,Re.jsx)("option",{value:"1",children:"1 - Poor"}),(0,Re.jsx)("option",{value:"2",children:"2 - Below Average"}),(0,Re.jsx)("option",{value:"3",children:"3 - Average"}),(0,Re.jsx)("option",{value:"4",children:"4 - Good"}),(0,Re.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Recommendation"}),(0,Re.jsxs)("select",{name:"recommendation",value:f.recommendation,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200",required:!0,children:[(0,Re.jsx)("option",{value:"",children:"Select a recommendation"}),(0,Re.jsx)("option",{value:"accept",children:"Accept"}),(0,Re.jsx)("option",{value:"accept_with_revisions",children:"Accept with Minor Revisions"}),(0,Re.jsx)("option",{value:"reject_with_revisions",children:"Reject with Major Revisions"}),(0,Re.jsx)("option",{value:"reject",children:"Reject"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Detailed Comments"}),(0,Re.jsx)("textarea",{name:"comments",value:f.comments,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 resize-none",placeholder:"Provide detailed feedback on the paper's strengths, weaknesses, and suggestions for improvement...",rows:"6",required:!0}),(0,Re.jsx)("p",{className:"mt-2 text-xs text-academic-500",children:"Your comments will help authors improve their work and assist editors in making informed decisions."})]}),(0,Re.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,Re.jsx)("button",{type:"submit",disabled:v,className:"Btn",children:v?(0,Re.jsxs)("span",{className:"flex items-center",children:[(0,Re.jsx)(Fe,{size:"sm",text:""}),(0,Re.jsx)("span",{className:"ml-2",children:"Submitting..."})]}):"Submit Review"}),(0,Re.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"Cancel"})]})]})]})})})]})})},Ty=()=>{const{user:e}=Le(),[t,n]=(0,s.useState)("submissions"),[i,r]=(0,s.useState)([]),[a,o]=(0,s.useState)({}),[l,c]=(0,s.useState)([]),[d,h]=(0,s.useState)(!0),[u,p]=(0,s.useState)([]),[m,f]=(0,s.useState)(!0),[g,v]=(0,s.useState)({}),[x,b]=(0,s.useState)(null),[y,w]=(0,s.useState)({}),[k,j]=(0,s.useState)(null),[_,A]=(0,s.useState)(!1),[N,S]=(0,s.useState)(null),[C,E]=(0,s.useState)(""),[M,P]=(0,s.useState)(!1),[T,R]=(0,s.useState)(null),[D,L]=(0,s.useState)([]),[I,F]=(0,s.useState)(!1),[O,B]=(0,s.useState)(null),[W,z]=(0,s.useState)([]),[U,H]=(0,s.useState)({volume:"",issue:"",month:"",year:""}),[V,G]=(0,s.useState)(""),[q,X]=(0,s.useState)(!1),[Y,K]=(0,s.useState)("name_az"),J=(0,s.useRef)(null),Q=(0,s.useRef)(null),[$,Z]=(0,s.useState)(""),[ee,te]=(0,s.useState)("recent"),[ne,se]=(0,s.useState)(!1);(0,s.useEffect)(()=>{ie()},[]),(0,s.useEffect)(()=>{const e=e=>{J.current&&!J.current.contains(e.target)&&X(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.useEffect)(()=>{(async()=>{if(e&&e.id)try{const t=await Te.getNotifications(e.id);L(Array.isArray(t)?t:[])}catch(t){console.error("Error loading admin notifications in AdminDashboard",t),L([])}else L([])})()},[e]);const ie=async()=>{try{h(!0),f(!0);const n=await Te.getAllPapers(),s=await Promise.all(n.map(async e=>{const t=await Te.getReviewsByPaper(e.id);return{paperId:e.id,reviews:t}})),i={};s.forEach(e=>{let{paperId:t,reviews:n}=e;i[t]=n}),o(i);const a=await Te.getReviewers();c(a);const l=await Te.getIssues();if(p(l),e&&e.id)try{const t=await Te.getNotifications(e.id);L(Array.isArray(t)?t:[])}catch(t){console.error("Error loading admin notifications in dashboard",t),L([])}else L([]);const d=await Te.getIssueAssignments(),u={};d.forEach(e=>{e&&e.paperId&&e.issue&&(u[e.paperId]=e.issue)}),v(u);const m=(n||[]).map(e=>Ke(Ke({},e),{},{assignedIssue:u[e.id]||null}));r(m)}catch(n){console.error("Error loading admin ",n)}finally{h(!1),f(!1)}},re=e=>{const{name:t,value:n}=e.target;H(e=>Ke(Ke({},e),{},{[t]:n}))},ae=V.trim().toLowerCase();let oe=l.filter(e=>{const t=(e.name||"").toLowerCase(),n=(e.email||"").toLowerCase(),s=(e.affiliation||"").toLowerCase();return!ae||(t.includes(ae)||n.includes(ae)||s.includes(ae))});oe=[...oe].sort((e,t)=>"name_az"===Y?(e.name||"").localeCompare(t.name||""):"name_za"===Y?(t.name||"").localeCompare(e.name||""):"affiliation_az"===Y?(e.affiliation||"").localeCompare(t.affiliation||""):0);const le={submitted:i.filter(e=>"submitted"===e.status).length,under_review:i.filter(e=>"under_review"===e.status).length,published:i.filter(e=>"published"===e.status).length,rejected:i.filter(e=>"rejected"===e.status).length},ce=$.trim().toLowerCase(),de=e=>{if(!ce)return!0;const t=(e.title||"").toLowerCase(),n=(e.abstract||"").toLowerCase(),s=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(ce)||n.includes(ce)||s.includes(ce)||i.includes(ce)},he=["submitted","under_review","revisions_requested"];let ue=(i||[]).filter(de);ne||(ue=ue.filter(e=>he.includes(e.status))),ue=[...ue].sort((e,t)=>{if("title_az"===ee)return(e.title||"").localeCompare(t.title||"");if("title_za"===ee)return(t.title||"").localeCompare(e.title||"");const n=e.submissionDate?new Date(e.submissionDate):new Date(0),s=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===ee?n-s:s-n});let pe=(i||[]).filter(e=>"under_review"===e.status||"revisions_requested"===e.status).filter(de);pe=[...pe].sort((e,t)=>{if("title_az"===ee)return(e.title||"").localeCompare(t.title||"");if("title_za"===ee)return(t.title||"").localeCompare(e.title||"");const n=e.submissionDate?new Date(e.submissionDate):new Date(0),s=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===ee?n-s:s-n});const me=e=>!!(e&&e.title&&Array.isArray(D))&&D.some(t=>t&&"Revised manuscript uploaded"===t.title&&"string"===typeof t.message&&t.message.includes(e.title));return d?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading admin data..."})}):(0,Re.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Re.jsxs)("div",{className:"mb-10",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Admin Dashboard"}),(0,Re.jsxs)("p",{className:"text-gray-600 text-lg",children:["Welcome back, ",(0,Re.jsx)("span",{className:"font-medium",children:e.name}),". Manage submissions and reviewer assignments."]})]}),T&&(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)(Ny,{type:T.type,message:T.message,onClose:()=>R(null)})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-blue-50 rounded-xl",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Submitted"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:le.submitted})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,Re.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Under Review"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:le.under_review})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Published"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:le.published})]})]})}),(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 bg-red-50 rounded-xl",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Rejected"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:le.rejected})]})]})})]}),(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)("div",{className:"border-b border-gray-200",children:(0,Re.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Re.jsxs)("button",{onClick:()=>n("submissions"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("submissions"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["All Submissions (",i.length,")"]}),(0,Re.jsxs)("button",{onClick:()=>n("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("pending"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Pending Assignment (",le.submitted,")"]}),(0,Re.jsxs)("button",{onClick:()=>n("issues"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("issues"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Journal Issues (",u.length,")"]}),(0,Re.jsxs)("button",{onClick:()=>n("review"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("review"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Under Review (",le.under_review,")"]})]})})}),"submissions"===t&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Re.jsx)("input",{type:"text",value:$,onChange:e=>Z(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsxs)("select",{value:ee,onChange:e=>te(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Re.jsx)("option",{value:"recent",children:"Newest first"}),(0,Re.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,Re.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,Re.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,Re.jsx)("button",{type:"button",onClick:()=>se(e=>!e),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:ne?"Show unfinished only":"View all papers"})]})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ue.map(e=>(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,Re.jsx)("span",{className:"".concat("published"===e.status?"badge-success":"under_review"===e.status?"badge-warning":"submitted"===e.status?"badge-info":"badge-danger"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Authors:"})," ",e.authors.join(", ")]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Category:"})," ",e.category]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]}),e.doi&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"DOI:"})," ",e.doi]})]}),(0,Re.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),"published"===e.status&&u.length>0&&(0,Re.jsx)("div",{className:"pt-4 border-t border-gray-200",children:e.assignedIssue?(0,Re.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:(0,Re.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-green-50 text-green-700 rounded-full font-medium",children:["Assigned to Volume ",e.assignedIssue.volume,", Issue ",e.assignedIssue.issue]})}):(0,Re.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!e)return;if(!u||0===u.length)return void R({type:"error",message:"No issues available. Please create an issue first in the Journal Issues tab."});const t=u.map(e=>"".concat(e.id,": Volume ").concat(e.volume,", Issue ").concat(e.issue).concat(e.month?" (".concat(e.month," ").concat(e.year,")"):" (".concat(e.year,")"))).join("\n"),n=window.prompt("Enter the Issue ID to assign this paper to:\n".concat(t));if(null===n)return;const s=parseInt(n,10);if(Number.isNaN(s))R({type:"error",message:"Invalid issue ID."});else try{const t=await Te.assignPaperToIssue(e.id,s);t.success?(R({type:"success",message:"Paper assigned to issue successfully."}),ie()):R({type:"error",message:t.error||"Failed to assign paper to issue."})}catch(i){console.error("Error assigning paper to issue:",i),R({type:"error",message:"An error occurred while assigning the paper to an issue."})}})(e),className:"inline-flex items-center px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 text-xs font-medium rounded-lg transition",children:"Assign to Journal Issue"})}),(0,Re.jsx)("div",{className:"flex flex-wrap gap-2 mb-5",children:e.keywords.map((e,t)=>(0,Re.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded font-medium",children:e},t))}),e.assignedReviewers&&(0,Re.jsxs)("div",{className:"pt-4 border-t border-gray-200 text-sm text-gray-600",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Assigned Reviewers:"})," ",e.assignedReviewers.length]})]},e.id))})]}),"pending"===t&&(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.filter(e=>"submitted"===e.status).map(e=>(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,Re.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"PENDING ASSIGNMENT"})]}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Authors:"})," ",e.authors.join(", ")]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Category:"})," ",e.category]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]})]}),(0,Re.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),(0,Re.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Re.jsx)("button",{onClick:()=>{S(e),A(!0)},className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Assign Reviewer"})})]},e.id))}),"review"===t&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Re.jsx)("input",{type:"text",value:$,onChange:e=>Z(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,Re.jsx)("div",{className:"flex items-center gap-3",children:(0,Re.jsxs)("select",{value:ee,onChange:e=>te(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Re.jsx)("option",{value:"recent",children:"Newest first"}),(0,Re.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,Re.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,Re.jsx)("option",{value:"title_za",children:"Title Z-A"})]})})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:pe.map(e=>{var t;const n=a[e.id]||[],s=(null===(t=n[0])||void 0===t?void 0:t.recommendation)||"";return(0,Re.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Re.jsxs)("div",{className:"flex-1 mr-3 space-y-1",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),"revisions_requested"===e.status&&(0,Re.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-orange-50 text-orange-700 text-xs font-medium rounded-full",children:"Revision requested / waiting for updated manuscript"}),me(e)&&(0,Re.jsx)("span",{className:"badge-revised",children:"Revised manuscript received"})]}),(0,Re.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap",children:"UNDER REVIEW"})]}),n.length>0&&(0,Re.jsx)("div",{className:"mb-3",children:(0,Re.jsx)("button",{type:"button",onClick:()=>{B(e),z(n),F(!0)},className:"mt-1 text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View all reviews"})}),(0,Re.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Authors:"})," ",e.authors.join(", ")]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Category:"})," ",e.category]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]}),e.reviewDeadline&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Deadline:"})," ",new Date(e.reviewDeadline).toLocaleDateString()]})]}),(0,Re.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),e.assignedReviewers&&(0,Re.jsxs)("div",{className:"mb-5 text-sm text-gray-600",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Assigned Reviewers:"})," ",e.assignedReviewers.length]}),n.length>0&&(0,Re.jsxs)("div",{className:"mb-5 text-sm text-gray-700",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Completed Reviews:"})," ",n.length,s&&(0,Re.jsxs)("span",{className:"ml-2",children:["Latest recommendation:"," ",(0,Re.jsx)("span",{className:"font-semibold capitalize",children:s.replace("_"," ")})]})]}),0===n.length&&(0,Re.jsx)("p",{className:"mb-5 text-xs text-gray-500",children:"At least one completed review is required before making a final decision."}),(0,Re.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Re.jsxs)("div",{className:"flex space-x-3",children:[(0,Re.jsx)("button",{onClick:()=>(async e=>{try{const t=await Te.publishPaper(e);t.success?(R({type:"success",message:"Paper published successfully."}),ie()):R({type:"error",message:t.error||"Failed to publish paper."})}catch(t){R({type:"error",message:"An error occurred while publishing the paper."})}})(e.id),disabled:0===n.length,className:"Btn disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Re.jsx)("strong",{children:"Publish Paper"})}),(0,Re.jsx)("button",{onClick:()=>{S(e),A(!0)},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Assign More"})]})})]},e.id)})})]}),"issues"===t&&(0,Re.jsx)("div",{children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Re.jsxs)("div",{className:"lg:col-span-2",children:[(0,Re.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"All Issues"}),(0,Re.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,Re.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 ".concat(e.isCurrent?"border-green-500":"border-gray-200"),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"font-bold text-gray-900",children:["Volume ",e.volume,", Issue ",e.issue," (",e.month," ",e.year,")"]}),e.isCurrent&&(0,Re.jsx)("span",{className:"text-xs font-semibold bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Current Issue"})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{onClick:()=>(async e=>{if(e)if(x!==e.id){if(b(e.id),!y[e.id])try{j(e.id);const t=await Te.getIssuePapers(e.id);w(n=>Ke(Ke({},n),{},{[e.id]:t||[]}))}catch(t){console.error("Error loading papers for issue",e.id,t),w(t=>Ke(Ke({},t),{},{[e.id]:[]})),j(null)}}else b(null)})(e),className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 px-3 py-1 rounded-md",children:x===e.id?"Hide Papers":"View Papers"}),!e.isCurrent&&(0,Re.jsx)("button",{onClick:()=>(async e=>{try{const t=await Te.setCurrentIssue(e);if(t.success&&t.issue){const e=t.issue;p(t=>t.map(t=>Ke(Ke({},t),{},{isCurrent:t.id===e.id}))),R({type:"success",message:"Current issue has been updated."})}else R({type:"error",message:t.error||"Failed to update current issue."})}catch(t){R({type:"error",message:"An error occurred while updating the current issue."})}})(e.id),className:"text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded-md",children:"Set as Current"}),(0,Re.jsx)("button",{onClick:()=>(async e=>{try{const t=await Te.deleteIssue(e);t.success?(p(t=>t.filter(t=>t.id!==e)),R({type:"success",message:"Issue deleted successfully."})):R({type:"error",message:t.error||"Failed to delete issue."})}catch(t){R({type:"error",message:"An error occurred while deleting the issue."})}})(e.id),className:"text-xs bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-md",children:"Delete"})]})]}),x===e.id&&(0,Re.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:k===e.id?(0,Re.jsx)("p",{className:"text-gray-500",children:"Loading papers for this issue..."}):0===(y[e.id]||[]).length?(0,Re.jsx)("p",{className:"text-gray-500",children:"No papers have been assigned to this issue yet."}):(y[e.id]||[]).map(e=>(0,Re.jsxs)("div",{className:"flex flex-col",children:[(0,Re.jsx)("a",{href:e.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:text-blue-900 hover:underline",children:e.title}),(0,Re.jsx)("span",{className:"text-xs text-gray-600",children:Array.isArray(e.authors)?e.authors.join(", "):e.authors})]},e.id))})]},e.id))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add New Issue"}),(0,Re.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=parseInt(U.volume,10),t=parseInt(U.issue,10),n=parseInt(U.year,10),s=await Te.createIssue({volume:e,issue:t,month:U.month,year:n});s.success&&s.issue?(p(e=>[s.issue,...e].sort((e,t)=>t.year-e.year||t.issue-e.issue)),H({volume:"",issue:"",month:"",year:""}),R({type:"success",message:"New issue added successfully."})):R({type:"error",message:s.error||"Failed to add issue."})}catch(t){R({type:"error",message:"An error occurred while adding the issue."})}},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"volume",className:"block text-sm font-medium text-gray-700",children:"Volume"}),(0,Re.jsx)("input",{type:"number",name:"volume",id:"volume",value:U.volume,onChange:re,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 3"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"issue",className:"block text-sm font-medium text-gray-700",children:"Issue"}),(0,Re.jsx)("input",{type:"number",name:"issue",id:"issue",value:U.issue,onChange:re,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 4"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700",children:"Month"}),(0,Re.jsx)("input",{type:"text",name:"month",id:"month",value:U.month,onChange:re,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., December"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,Re.jsx)("input",{type:"number",name:"year",id:"year",value:U.year,onChange:re,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 2025"})]}),(0,Re.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition",children:"Add Issue"})]})]})]})}),"pending"===t&&0===i.filter(e=>"submitted"===e.status).length&&(0,Re.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"All Papers Assigned"}),(0,Re.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"All submitted papers have been assigned to reviewers. Check back later for new submissions."})]}),"review"===t&&0===i.filter(e=>"under_review"===e.status).length&&(0,Re.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Papers Under Review"}),(0,Re.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Papers currently under review will appear here. You can assign reviewers to pending papers."})]}),_&&N&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Re.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Assign Reviewer"}),(0,Re.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,Re.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:N.title}),(0,Re.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Authors:"})," ",N.authors.join(", ")]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Category:"})," ",N.category]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",new Date(N.submissionDate).toLocaleDateString()]})]})]}),(0,Re.jsxs)("div",{className:"mb-6",ref:J,children:[(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[(0,Re.jsxs)("div",{className:"relative flex-1",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Reviewers"}),(0,Re.jsx)("input",{ref:Q,type:"text",value:V,onChange:e=>G(e.target.value),placeholder:"Search by name, email, or affiliation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10"}),(0,Re.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none mt-5 sm:mt-0",children:(0,Re.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,Re.jsxs)("div",{className:"w-full sm:w-56",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,Re.jsxs)("select",{value:Y,onChange:e=>K(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Re.jsx)("option",{value:"name_az",children:"Name A-Z"}),(0,Re.jsx)("option",{value:"name_za",children:"Name Z-A"}),(0,Re.jsx)("option",{value:"affiliation_az",children:"Affiliation A-Z"})]})]})]}),(0,Re.jsx)("div",{className:"border border-gray-200 rounded-lg max-h-72 overflow-y-auto divide-y",children:oe.length>0?oe.map(e=>(0,Re.jsx)("button",{type:"button",onClick:()=>{E(String(e.id)),G(e.name||e.email||"")},className:"w-full text-left px-3 py-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 ".concat(C===String(e.id)?"bg-blue-50 border-l-4 border-blue-400":"hover:bg-gray-50"),children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900",children:e.name||"Unnamed reviewer"}),(0,Re.jsxs)("div",{className:"text-xs text-gray-500",children:[e.email&&(0,Re.jsx)("span",{children:e.email}),e.affiliation&&(0,Re.jsxs)("span",{className:"ml-1",children:["\u2022 ",e.affiliation]})]})]})},e.id)):(0,Re.jsx)("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No reviewers found. Try a different search."})})]}),(0,Re.jsxs)("div",{className:"flex space-x-3",children:[(0,Re.jsx)("button",{onClick:async()=>{if(N&&C){P(!0);try{const e=await Te.assignReviewer(N.id,parseInt(C));e.success?(R({type:"success",message:"Reviewer assigned successfully."}),A(!1),S(null),E(""),G(""),ie()):R({type:"error",message:e.error||"Failed to assign reviewer."})}catch(e){R({type:"error",message:"An error occurred while assigning the reviewer."})}finally{P(!1)}}},disabled:M||!C,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm font-medium rounded-lg transition flex items-center justify-center",children:M?"Assigning...":"Assign Reviewer"}),(0,Re.jsx)("button",{onClick:()=>A(!1),className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Cancel"})]})]})})}),I&&O&&(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Re.jsx)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Re.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Reviews for this paper"}),(0,Re.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,Re.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:O.title}),(0,Re.jsxs)("p",{className:"text-sm text-gray-600",children:["Authors: ",O.authors.join(", ")]})]}),0===W.length?(0,Re.jsx)("p",{className:"text-sm text-gray-600",children:"No reviews have been submitted yet."}):(0,Re.jsx)("div",{className:"space-y-4",children:W.map(e=>(0,Re.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"text-sm font-medium text-gray-800",children:["Reviewer: ",e.reviewerName||"#".concat(e.reviewerId)]}),(0,Re.jsxs)("p",{className:"text-xs text-gray-500",children:["Submitted on ",e.submittedDate?new Date(e.submittedDate).toLocaleDateString():"N/A"]})]}),(0,Re.jsxs)("div",{className:"text-sm font-semibold text-gray-800",children:["Rating: ",e.rating,"/5"]})]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Recommendation:"})," ",(0,Re.jsx)("span",{className:"capitalize",children:e.recommendation.replace("_"," ")})]}),(0,Re.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.comments})]},e.id))}),(0,Re.jsxs)("div",{className:"flex flex-wrap gap-3 mt-6",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!e)return;const t=window.prompt("Please describe the required changes for the author. This message will be sent to them:");if(null===t)return;const n=t.trim();if(n)try{const t=await Te.requestRevisions(e.id,n);t.success?R({type:"success",message:"Revision request sent to the author."}):R({type:"error",message:t.error||"Failed to request revisions."})}catch(s){R({type:"error",message:"An error occurred while requesting revisions."})}else R({type:"error",message:"Please describe the requested changes before sending a revision request."})})(O),className:"py-2 px-4 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-sm font-medium rounded-lg transition",children:"Request Revisions"}),(0,Re.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!e)return;const t=window.prompt("Optional note to the author explaining the rejection (leave blank for a generic message):");if(null!==t)try{const n=await Te.rejectPaper(e.id,t.trim()||void 0);n.success?(R({type:"success",message:"Paper rejected and author notified."}),ie()):R({type:"error",message:n.error||"Failed to reject paper."})}catch(n){R({type:"error",message:"An error occurred while rejecting the paper."})}})(O),className:"py-2 px-4 bg-red-100 hover:bg-red-200 text-red-700 text-sm font-medium rounded-lg transition",children:"Reject Paper"}),(0,Re.jsx)("button",{type:"button",onClick:()=>F(!1),className:"ml-auto py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Close"})]})]})})})]})})};kd.workerSrc="https://unpkg.com/pdfjs-dist@".concat(Ru,"/build/pdf.worker.min.mjs");const Ry=()=>{var e;const{id:t}=function(){let{matches:e}=s.useContext(J),t=e[e.length-1];return t?t.params:{}}(),n=te(),{user:i}=Le(),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(1),[f,g]=(0,s.useState)(1);(0,s.useEffect)(()=>{(async()=>{try{l(!0),d("");const e=await Te.getPaperById(t);e?a(e):d("Paper not found.")}catch(Vy){console.error("Failed to load paper",Vy),d("Failed to load paper. Please try again.")}finally{l(!1)}})()},[t]);if(o)return(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-academic-50",children:(0,Re.jsx)(Fe,{size:"lg",text:"Loading manuscript..."})});if(c||!r)return(0,Re.jsx)("div",{className:"min-h-screen bg-academic-50 flex items-center justify-center px-4",children:(0,Re.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-xl p-6 text-center",children:[(0,Re.jsx)("h1",{className:"text-xl font-semibold text-academic-900 mb-3",children:"Unable to open manuscript"}),(0,Re.jsx)("p",{className:"text-academic-600 mb-6",children:c||"Paper not found."}),(0,Re.jsx)("button",{onClick:()=>n(-1),className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium",children:"Go Back"})]})});const v=r.pdfUrl&&r.pdfUrl.toLowerCase().endsWith(".pdf");return(0,Re.jsx)("div",{className:"min-h-screen bg-academic-50 py-6 sm:py-10",children:(0,Re.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-3",children:[(0,Re.jsxs)("button",{onClick:()=>n("/reviewer-dashboard"),className:"inline-flex items-center text-sm text-academic-600 hover:text-academic-900",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Reviewer Dashboard"]}),(0,Re.jsxs)("span",{className:"text-xs text-academic-500",children:["Paper ID: ",r.id]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-academic-200 overflow-hidden",children:[(0,Re.jsxs)("div",{className:"px-6 py-5 border-b border-academic-200 flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold text-academic-900 mb-2 leading-snug",children:r.title}),(0,Re.jsxs)("p",{className:"text-sm text-academic-600 mb-1",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Authors:"})," ",(null===(e=r.authors)||void 0===e?void 0:e.join(", "))||"N/A"]}),(0,Re.jsxs)("p",{className:"text-sm text-academic-600 mb-1",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Category:"})," ",r.category||"N/A"]}),(0,Re.jsxs)("p",{className:"text-sm text-academic-600",children:[(0,Re.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",r.submissionDate?new Date(r.submissionDate).toLocaleDateString():"N/A"]})]}),(0,Re.jsxs)("div",{className:"text-right text-xs text-academic-500",children:[(0,Re.jsx)("p",{className:"mb-1",children:"Confidential review copy"}),i&&(0,Re.jsxs)("p",{children:["Reviewer: ",i.name," (",i.email,")"]})]})]}),!v&&(0,Re.jsx)("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200 text-sm text-amber-800",children:"This manuscript is not a PDF file, so inline viewing may be limited. You may need to request a PDF version from the editor."}),(0,Re.jsx)("div",{className:"relative bg-academic-900/95",style:{maxHeight:"80vh",overflowY:"auto"},children:v?(0,Re.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-start py-6",children:[(0,Re.jsx)(iy,{file:r.pdfUrl,onLoadSuccess:e=>{let{numPages:t}=e;u(t),m(1)},loading:(0,Re.jsx)("div",{className:"flex items-center justify-center text-academic-100 text-sm",children:(0,Re.jsx)(Fe,{size:"sm",text:"Loading PDF..."})}),error:(0,Re.jsx)("div",{className:"flex items-center justify-center text-red-200 text-sm",children:"Failed to load PDF."}),children:(0,Re.jsx)(_y,{pageNumber:p,height:650,scale:f})}),h&&(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-academic-100 justify-center",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.max(e-.25,.5))},className:"px-2 py-1 rounded bg-academic-800 disabled:opacity-50",disabled:f<=.5,children:"-"}),(0,Re.jsxs)("span",{children:[Math.round(100*f),"%"]}),(0,Re.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.min(e+.25,2))},className:"px-2 py-1 rounded bg-academic-800 disabled:opacity-50",disabled:f>=2,children:"+"}),(0,Re.jsx)("button",{type:"button",onClick:()=>{g(1)},className:"px-3 py-1 rounded bg-academic-800/70 hover:bg-academic-800",children:"Reset"})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>{m(e=>Math.max(e-1,1))},disabled:p<=1,className:"px-3 py-1 rounded bg-academic-800 disabled:opacity-50",children:"Previous"}),(0,Re.jsxs)("span",{children:["Page ",p," of ",h]}),(0,Re.jsx)("button",{type:"button",onClick:()=>{m(e=>h?Math.min(e+1,h):e+1)},disabled:h&&p>=h,className:"px-3 py-1 rounded bg-academic-800 disabled:opacity-50",children:"Next"})]})]})]}):(0,Re.jsx)("div",{className:"flex items-center justify-center h-full min-h-[70vh] px-6 py-10",children:(0,Re.jsxs)("div",{className:"max-w-md text-center",children:[(0,Re.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Inline view not available"}),(0,Re.jsx)("p",{className:"text-sm text-academic-200 mb-4",children:"This manuscript is stored in a format the browser cannot preview directly. Please contact the editor to obtain a PDF version for easier inline review."})]})})}),(0,Re.jsxs)("div",{className:"px-6 py-4 border-t border-academic-200 bg-academic-50 text-[11px] text-academic-500 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,Re.jsx)("p",{children:"Screenshots and copying cannot be fully prevented by a web application. To discourage leaks, this view includes a visible watermark with your reviewer identity."}),(0,Re.jsx)("p",{className:"italic",children:"All access is logged. Do not share this content outside the review process."})]})]})]})})};var Dy=n(997);const Ly=()=>{const e=(0,s.useRef)();(0,Dy.useReactToPrint)({content:()=>e.current,documentTitle:"IJEPA_Author_Guidelines",pageStyle:"\n      @media print {\n        body { -webkit-print-color-adjust: exact; }\n        .no-print { display: none !important; }\n        .print-only { display: block !important; }\n      }\n      @screen {\n        .print-only { display: none !important; }\n      }\n    "});return(0,Re.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,Re.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Re.jsxs)("div",{ref:e,className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 print:p-6",children:[(0,Re.jsxs)("div",{className:"text-center mb-10 pb-6 border-b border-slate-200",children:[(0,Re.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-3",children:"Author Guidelines"}),(0,Re.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"International Journal of Engineering Practices and Applications (IJEPA)"})]}),(0,Re.jsxs)("p",{className:"text-slate-700 mb-8 leading-relaxed",children:["The ",(0,Re.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," welcomes high-quality research contributions from scholars, academicians, industry professionals, and practitioners across all engineering domains. Authors are requested to carefully read and follow the guidelines below before submitting their manuscripts."]}),(0,Re.jsxs)("div",{className:"space-y-10",children:[(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"1. Manuscript Preparation"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Language:"})," All manuscripts must be written in clear, concise, and grammatically correct English."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Format:"})," Manuscripts should be submitted in MS Word (DOC/DOCX) format. PDF files will not be accepted for initial submission."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Length:"})," Research papers should typically range between 6\u201312 pages. Review articles may be longer, subject to editorial approval."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Structure:"})," The manuscript should be organized as follows:",(0,Re.jsxs)("ol",{className:"list-decimal pl-6 mt-2 space-y-1",children:[(0,Re.jsx)("li",{children:"Title Page (with author details)"}),(0,Re.jsx)("li",{children:"Abstract (150\u2013250 words) and Keywords (3\u20136)"}),(0,Re.jsx)("li",{children:"Introduction"}),(0,Re.jsx)("li",{children:"Methodology / Materials and Methods"}),(0,Re.jsx)("li",{children:"Results and Discussion"}),(0,Re.jsx)("li",{children:"Conclusion"}),(0,Re.jsx)("li",{children:"Acknowledgements (if any)"}),(0,Re.jsx)("li",{children:"References"})]})]})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"2. Formatting Requirements"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Font:"})," Times New Roman, size 12, single-column, 1.5 line spacing."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Headings:"})," Use a clear hierarchy (e.g., 1. Introduction, 1.1 Subheading)."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Figures & Tables:"})," Must be numbered consecutively, with descriptive captions. Ensure high resolution and clarity."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"Equations:"})," Should be typed using an equation editor and numbered sequentially."]}),(0,Re.jsxs)("li",{children:[(0,Re.jsx)("strong",{children:"References:"})," Follow ",(0,Re.jsx)("span",{className:"font-semibold",children:"IEEE"})," referencing style consistently throughout."]})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"3. Originality & Plagiarism Policy"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsx)("li",{children:"Submissions must be original and not under review or published elsewhere."}),(0,Re.jsx)("li",{children:"All manuscripts will be checked for plagiarism. Papers exceeding the acceptable similarity index will be rejected."})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"4. Peer Review Process"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsx)("li",{children:"All submissions undergo a double-blind peer-review process."}),(0,Re.jsx)("li",{children:"Authors may be asked to revise their manuscripts based on reviewer feedback."}),(0,Re.jsx)("li",{children:"Final acceptance is subject to editorial approval."})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"5. Submission Process"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsxs)("li",{children:["Manuscripts should be submitted via the ",(0,Re.jsx)("a",{href:"/SubmitForm",className:"text-indigo-600 hover:underline",children:"Online Submission System"})," or emailed directly to ",(0,Re.jsx)("span",{className:"font-mono",children:"editor@ijepa.org"}),"."]}),(0,Re.jsxs)("li",{children:["Along with the manuscript, authors must provide:",(0,Re.jsxs)("ul",{className:"list-none pl-4 mt-2 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 A cover letter highlighting the contribution of the paper."}),(0,Re.jsx)("li",{children:"\u2022 A signed copyright form (see below)."})]})]})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"6. Publication Charges"}),(0,Re.jsx)("p",{className:"text-slate-700 mb-3",children:"To support the open-access policy and editorial process, the following Article Processing Charges (APC) apply:"}),(0,Re.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsxs)("li",{className:"flex justify-between",children:[(0,Re.jsx)("span",{children:"Indian Authors:"}),(0,Re.jsx)("span",{className:"font-semibold",children:"INR 1500/- per accepted paper"})]}),(0,Re.jsxs)("li",{className:"flex justify-between",children:[(0,Re.jsx)("span",{children:"International Authors:"}),(0,Re.jsx)("span",{className:"font-semibold",children:"USD 50 per accepted paper"})]})]}),(0,Re.jsx)("p",{className:"mt-3 text-sm text-blue-800 italic",children:"Note: No submission fees are charged. Authors are required to pay only after acceptance of the manuscript."})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"7. Paper Template"}),(0,Re.jsx)("p",{className:"text-slate-700 mb-4",children:"Authors must prepare their manuscripts using the official IJEPA Paper Template to ensure uniformity."}),(0,Re.jsxs)("a",{href:"#",className:"inline-flex items-center px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Paper Template"]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"8. Copyright Form"}),(0,Re.jsx)("p",{className:"text-slate-700 mb-4",children:"Upon acceptance, authors must complete and submit the IJEPA Copyright Transfer Form. This form ensures that:"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 mb-4 space-y-1 text-slate-700",children:[(0,Re.jsx)("li",{children:"The work is original and not published elsewhere."}),(0,Re.jsx)("li",{children:"Authors transfer publication rights to IJEPA while retaining intellectual property rights."})]}),(0,Re.jsxs)("a",{href:"#",className:"inline-flex items-center px-5 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Copyright Form"]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"9. Publication Ethics"}),(0,Re.jsx)("p",{className:"text-slate-700 mb-3",children:"IJEPA adheres to strict ethical standards. Authors are expected to:"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsx)("li",{children:"Properly cite all sources of information."}),(0,Re.jsx)("li",{children:"Acknowledge contributions and funding support."}),(0,Re.jsx)("li",{children:"Disclose any potential conflicts of interest."}),(0,Re.jsx)("li",{children:"Refrain from multiple submissions of the same work."})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"10. Copyright & Open Access Policy"}),(0,Re.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,Re.jsx)("li",{children:"By submitting to IJEPA, authors agree to transfer copyright of the accepted article to the journal."}),(0,Re.jsx)("li",{children:"All published papers are made freely accessible under the journal\u2019s open-access policy, ensuring maximum visibility."})]})]}),(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"11. Contact Information"}),(0,Re.jsx)("p",{className:"text-slate-700",children:"For queries regarding manuscript preparation and submission, please contact:"}),(0,Re.jsxs)("div",{className:"mt-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,Re.jsx)("p",{className:"font-medium",children:"Editorial Office, IJEPA"}),(0,Re.jsx)("p",{className:"mt-1 font-mono text-slate-700",children:"Email: editor@ijepa.org"})]})]})]}),(0,Re.jsx)("div",{className:"mt-12 pt-6 border-t border-slate-200 text-center",children:(0,Re.jsx)("p",{className:"text-slate-600 italic",children:"We strongly encourage authors to review recent articles published in IJEPA to familiarize themselves with the journal\u2019s style and scope before submission."})})]})})})},Iy=()=>(0,Re.jsxs)("div",{className:"bg-[#f8fafc] min-h-screen py-8 px-4",children:[(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Re.jsxs)("div",{className:"text-center mb-10",children:[(0,Re.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Call for Papers"}),(0,Re.jsx)("p",{className:"text-gray-600"})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Scope of the Journal"}),(0,Re.jsx)("p",{className:"mb-3 text-gray-700",children:"Topics of interest include (but are not limited to):"}),(0,Re.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,Re.jsx)("li",{children:"Civil, Mechanical, Electrical, and Electronics Engineering"}),(0,Re.jsx)("li",{children:"Computer Science, Artificial Intelligence, and Information Technology"}),(0,Re.jsx)("li",{children:"Industrial and Manufacturing Engineering"}),(0,Re.jsx)("li",{children:"Materials Science and Engineering Applications"}),(0,Re.jsx)("li",{children:"Communication, Signal Processing, and Control Systems"}),(0,Re.jsx)("li",{children:"Renewable Energy, Green Technologies, and Sustainable Engineering"}),(0,Re.jsx)("li",{children:"Emerging Trends and Interdisciplinary Engineering Practices"})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Why Publish with IJEPA?"}),(0,Re.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Peer-reviewed and high-quality publications","Open access for global visibility and readership","Rapid and transparent review process","International editorial and reviewer panel","Opportunities for academic recognition and collaboration"].map((e,t)=>(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u2713"}),(0,Re.jsx)("span",{children:e})]},t))})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Submission Guidelines"}),(0,Re.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Re.jsxs)("li",{children:["\u2022 Authors are requested to submit their manuscripts in accordance with the journal\u2019s formatting guidelines, available on the"," ",(0,Re.jsx)(Ce,{to:"/author-guidelines",className:"text-blue-500 hover:underline",children:"Author Guidelines"})," ","page."]}),(0,Re.jsx)("li",{children:"\u2022 Submissions should be original, unpublished, and not under consideration elsewhere."}),(0,Re.jsxs)("li",{children:["\u2022 Manuscripts can be submitted online via our"," ",(0,Re.jsx)(Ce,{to:"/SubmitForm",className:"text-blue-500 hover:underline",children:"Online Submission System"})," ","or by email to"," ",(0,Re.jsx)("a",{href:"mailto:editor@ijepa.org",className:"text-blue-500 hover:underline",children:"editor@ijepa.org"}),"."]})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Literature Review (Point Form)"}),(0,Re.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[(0,Re.jsx)("li",{children:"Previous studies highlight that digital research platforms significantly improve accessibility and information retrieval for researchers."}),(0,Re.jsx)("li",{children:"Literature suggests that user-friendly website interfaces enhance engagement, reduce confusion, and support effective learning."}),(0,Re.jsx)("li",{children:"Researchers emphasize the importance of structured content organization to help users navigate academic material efficiently."}),(0,Re.jsx)("li",{children:"Studies indicate that open-access repositories and online archives promote transparency and broaden participation in research."}),(0,Re.jsx)("li",{children:"Prior work identifies common challenges such as information overload, credibility issues, and gaps in digital literacy."}),(0,Re.jsx)("li",{children:"Scholars recommend using intelligent search systems and reliable citation tools to overcome these challenges."}),(0,Re.jsx)("li",{children:"Existing research shows a growing trend toward digital platforms being essential tools for modern academic collaboration."}),(0,Re.jsx)("li",{children:"Literature also highlights the need for secure, efficient, and accessible research websites to support scholarly communication."})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Important Dates"}),(0,Re.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[["Manuscript Submission Deadline","20/12/2024"],["Notification of Acceptance","[Insert Date]"],["Final Camera-Ready Paper Due","[Insert Date]"],["Publication Date","[Insert Date]"]].map((e,t)=>{let[n,s]=e;return(0,Re.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex flex-col justify-between hover:shadow-md transition-shadow",children:[(0,Re.jsx)("p",{className:"font-semibold text-slate-800",children:n}),(0,Re.jsx)("p",{className:"text-blue-600 font-bold text-lg mt-2",children:s})]},t)})})]}),(0,Re.jsx)("div",{className:"text-center mt-6",children:(0,Re.jsx)(Ce,{to:"/SubmitForm",className:"inline-block bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:"Submit Your Manuscript"})})]}),(0,Re.jsxs)("footer",{className:"mt-12 text-center text-gray-500 text-sm",children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved."]})]}),Fy=()=>(0,Re.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,Re.jsxs)("main",{className:"flex-grow",children:[(0,Re.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,Re.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Re.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,Re.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,Re.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Re.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Indexing & ",(0,Re.jsx)("span",{className:"text-indigo-300",children:"Abstracting"})]}),(0,Re.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Enhancing global visibility, accessibility, and impact of your research through strategic database partnerships."})]})]}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,Re.jsx)("div",{className:"text-center mb-16",children:(0,Re.jsxs)("p",{className:"text-lg text-slate-700 max-w-4xl mx-auto leading-relaxed",children:["The ",(0,Re.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," is committed to increasing the visibility, accessibility, and citation of published research. To achieve this, we actively pursue indexing in leading academic and research databases."]})}),(0,Re.jsxs)("section",{className:"mb-20",children:[(0,Re.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Re.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Currently Indexed In"})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Google Scholar",description:"Global academic search engine"},{name:"CrossRef",description:"DOI registration agency"},{name:"ResearchGate",description:"Research networking platform"},{name:"Academia.edu",description:"Academic sharing platform"},{name:"Semantic Scholar",description:"AI-powered research discovery"},{name:"BASE",description:"Bielefeld Academic Search Engine"}].map((e,t)=>(0,Re.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300",children:(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,Re.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:e.name}),(0,Re.jsx)("p",{className:"text-slate-600 text-sm",children:e.description})]})]})},t))})]}),(0,Re.jsxs)("section",{className:"mb-20",children:[(0,Re.jsx)("div",{className:"flex items-center mb-8",children:(0,Re.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4"})}),(0,Re.jsx)("div",{className:"space-y-6"})]}),(0,Re.jsx)("section",{className:"mb-16",children:(0,Re.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[(0,Re.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-6 text-center",children:"Why Indexing Matters"}),(0,Re.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["Greater visibility and global readership for published papers","Increased citations and academic recognition for authors","Long-term preservation and accessibility of research","Compliance with academic and institutional requirements for quality publications."].map((e,t)=>(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-indigo-100 text-indigo-700 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Re.jsx)("p",{className:"text-slate-700",children:e})]},t))})]})}),(0,Re.jsx)("section",{className:"mb-16",children:(0,Re.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,Re.jsx)("div",{className:"flex-shrink-0 mb-6 md:mb-0 md:mr-8",children:(0,Re.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"DOIs & CrossRef Membership"}),(0,Re.jsxs)("p",{className:"text-slate-700 leading-relaxed",children:["Each article published in IJEPA is assigned a unique ",(0,Re.jsx)("strong",{children:"Digital Object Identifier (DOI)"}),", ensuring permanent online availability, reliable citation tracking, and integration with global scholarly infrastructure through our CrossRef membership."]})]})]})})}),(0,Re.jsxs)("div",{className:"text-center py-12 bg-slate-900 rounded-2xl text-white",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Our Commitment"}),(0,Re.jsx)("p",{className:"text-slate-300 max-w-3xl mx-auto mb-6 leading-relaxed",children:"We are continuously working to expand our indexing coverage so that IJEPA remains a trusted platform for impactful engineering research."}),(0,Re.jsxs)("a",{href:"/contact-us",className:"inline-flex items-center px-6 py-3 bg-white text-slate-900 font-semibold rounded-xl hover:bg-slate-100 transition-all duration-300 shadow-lg",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Editorial Office"]})]})]})]})}),Oy=()=>{const[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[r,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[h,u]=(0,s.useState)({}),[p,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=(await Te.getIssues()||[]).slice().sort((e,t)=>t.year-e.year||t.issue-e.issue);t(e)}catch(e){console.error("Error loading issues:",e)}finally{i(!1)}})()},[]);const f=e.find(e=>e.isCurrent),g=e.filter(e=>!e.isCurrent);(0,s.useEffect)(()=>{e&&e.length>0?(async()=>{const t=e.find(e=>e.isCurrent);if(t)try{l(!0);const e=await Te.getIssuePapers(t.id);a(e||[])}catch(n){console.error("Error loading current issue papers:",n),a([])}finally{l(!1)}else a([])})():a([])},[e]);const v=g.reduce((e,t)=>{const n="Volume ".concat(t.volume);return e[n]||(e[n]=[]),e[n].push(t),e},{}),x=e=>({id:e.id,title:e.title,authors:e.authors||[],category:e.category||"N/A",doi:e.doi||"N/A",abstract:e.abstract||"",keywords:e.keywords||[],submittedDate:e.submissionDate?new Date(e.submissionDate).toLocaleDateString():"N/A",publishedDate:e.publicationDate?new Date(e.publicationDate).toLocaleDateString():"N/A",citations:e.citationCount||0,status:(e.status||"Published").replace("_"," ").toUpperCase(),pdfUrl:e.pdfUrl||null}),b=e=>{let{paper:t}=e;return(0,Re.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 hover:shadow-lg transition-all duration-300 overflow-hidden",children:(0,Re.jsxs)("div",{className:"p-5",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Re.jsx)("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2",children:t.title}),(0,Re.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:t.status})]}),(0,Re.jsxs)("div",{className:"mb-3",children:[(0,Re.jsxs)("p",{className:"text-sm text-slate-600 mb-1",children:[(0,Re.jsx)("strong",{children:"Authors:"})," ",t.authors.join(", ")]}),(0,Re.jsxs)("p",{className:"text-sm text-slate-600",children:[(0,Re.jsx)("strong",{children:"Category:"})," ",t.category]})]}),(0,Re.jsx)("div",{className:"mb-3",children:(0,Re.jsxs)("p",{className:"text-sm text-slate-600 mb-1",children:[(0,Re.jsx)("strong",{children:"DOI:"})," ",(0,Re.jsx)("a",{href:"https://doi.org/".concat(t.doi),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 underline",children:t.doi})]})}),(0,Re.jsx)("p",{className:"text-sm text-slate-700 mb-4 line-clamp-3",children:t.abstract}),(0,Re.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.keywords.map((e,t)=>(0,Re.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-slate-100 text-slate-800 text-xs rounded-full",children:e},t))}),(0,Re.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 mb-4",children:[(0,Re.jsxs)("span",{children:["Submitted: ",t.submittedDate]}),(0,Re.jsxs)("span",{children:["Published: ",t.publishedDate]}),(0,Re.jsxs)("span",{children:["Citations: ",t.citations]})]}),(0,Re.jsx)("a",{href:t.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex items-center justify-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors duration-200",children:"View Full Paper"})]})})};return(0,Re.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,Re.jsxs)("main",{className:"flex-grow",children:[(0,Re.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,Re.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Re.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,Re.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,Re.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Re.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Journal ",(0,Re.jsx)("span",{className:"text-indigo-300",children:"Issues"})]}),(0,Re.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Explore current and archived issues of IJEPA featuring peer-reviewed research across engineering disciplines."})]})]}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,Re.jsx)("div",{className:"text-center mb-16",children:(0,Re.jsxs)("p",{className:"text-lg text-slate-700 max-w-4xl mx-auto leading-relaxed",children:["The ",(0,Re.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," publishes regular issues featuring high-quality research articles, reviews, and case studies across diverse engineering domains. Our issues provide a global platform for disseminating knowledge and fostering innovation in engineering practices and applications."]})}),(0,Re.jsxs)("section",{className:"mb-20",children:[(0,Re.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center mr-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Re.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Current Issue"})]}),n?(0,Re.jsx)("div",{className:"text-center text-slate-500",children:"Loading current issue..."}):f?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"text-center mb-8",children:[(0,Re.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:["Volume ",f.volume,", Issue ",f.issue," \u2013 ",f.month,", ",f.year]}),(0,Re.jsx)("p",{className:"text-slate-600",children:"Articles published in this issue."})]}),o?(0,Re.jsx)("div",{className:"text-center text-slate-500",children:"Loading papers for this issue..."}):r.length>0?(0,Re.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(e=>(0,Re.jsx)(b,{paper:x(e)},e.id))}):(0,Re.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 text-center",children:(0,Re.jsx)("p",{className:"text-slate-600",children:"No papers have been assigned to this issue yet."})})]}):(0,Re.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 text-center",children:(0,Re.jsx)("p",{className:"text-slate-600",children:"No current issue is available at the moment."})})]}),(0,Re.jsxs)("section",{className:"mb-20",children:[(0,Re.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center mr-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M9 11a2 2 0 11-4 0m8 0a2 2 0 11-4 0m-4 8a2 2 0 012-2h8a2 2 0 012 2v2M5 19h14a2 2 0 002-2v-2"})})}),(0,Re.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Archives"})]}),(0,Re.jsx)("p",{className:"text-slate-700 mb-6",children:"Explore previously published volumes and issues of IJEPA. All articles are available in full text under our open-access policy."}),n?(0,Re.jsx)("div",{className:"text-center text-slate-500",children:"Loading archives..."}):(0,Re.jsx)("div",{className:"space-y-12",children:Object.entries(v).map(e=>{let[t,n]=e;return(0,Re.jsxs)("section",{children:[(0,Re.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-4 pb-2 border-b border-slate-200",children:t}),(0,Re.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,Re.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>(async e=>{if(e)if(c!==e.id){if(d(e.id),!h[e.id])try{m(e.id);const t=await Te.getIssuePapers(e.id);u(n=>Ke(Ke({},n),{},{[e.id]:t||[]}))}catch(t){console.error("Error loading archive issue papers:",t),u(t=>Ke(Ke({},t),{},{[e.id]:[]}))}finally{m(null)}}else d(null)})(e),children:[(0,Re.jsxs)("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center justify-between",children:[(0,Re.jsxs)("span",{children:["Issue ",e.issue,", ",e.year]}),(0,Re.jsx)("span",{className:"text-xs text-indigo-600",children:c===e.id?"Hide Articles":"View Articles"})]}),c===e.id&&(0,Re.jsx)("div",{className:"mt-4 border-t border-slate-200 pt-4 space-y-3",children:p===e.id?(0,Re.jsx)("p",{className:"text-sm text-slate-500",children:"Loading papers for this issue..."}):0===(h[e.id]||[]).length?(0,Re.jsx)("p",{className:"text-sm text-slate-500",children:"No papers have been assigned to this issue yet."}):(h[e.id]||[]).map(e=>(0,Re.jsxs)("div",{className:"text-sm",children:[(0,Re.jsx)("a",{href:e.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-700 hover:text-indigo-900 hover:underline",children:e.title}),(0,Re.jsx)("p",{className:"text-slate-600 text-xs mt-1",children:Array.isArray(e.authors)?e.authors.join(", "):e.authors})]},e.id))})]},e.id))})]},t)})})]}),(0,Re.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:[(0,Re.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[(0,Re.jsxs)("div",{className:"flex items-start mb-4",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,Re.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Publication Frequency"})]}),(0,Re.jsxs)("p",{className:"text-slate-700",children:["IJEPA publishes ",(0,Re.jsx)("strong",{children:"Monthly"}),". Special issues on emerging topics in engineering may also be announced periodically."]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[(0,Re.jsxs)("div",{className:"flex items-start mb-4",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,Re.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Re.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Access Policy"})]}),(0,Re.jsxs)("p",{className:"text-slate-700",children:["All journal issues are published online and made ",(0,Re.jsx)("strong",{children:"freely accessible"})," under our open-access policy, ensuring maximum visibility and citation for authors."]})]})]}),(0,Re.jsxs)("div",{className:"text-center py-10 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl border border-indigo-100",children:[(0,Re.jsx)("p",{className:"text-lg text-slate-700 mb-4",children:"To publish in upcoming issues, please visit our Call for Papers page."}),(0,Re.jsxs)("a",{href:"/call-for-papers",className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Call for Papers",(0,Re.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]})})},By=()=>{const e="editor@ijepa.org";return(0,Re.jsx)("div",{className:"bg-[#f8fafc] min-h-screen py-8 px-4",children:(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Re.jsxs)("div",{className:"text-center mb-10",children:[(0,Re.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Join Us as Associate Editor or Reviewer"}),(0,Re.jsx)("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"The International Journal of Engineering Practices and Applications (IJEPA) invites academicians, researchers, and industry experts with strong academic and research credentials to join our editorial community as Associate Editors or Reviewers."})]}),(0,Re.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:(0,Re.jsx)("p",{className:"text-gray-700",children:"We believe that the quality of a journal is a reflection of the dedication and expertise of its editorial board and reviewers. By joining IJEPA, you will have the opportunity to contribute to the advancement of engineering research worldwide while gaining valuable recognition for your service."})}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Eligibility Criteria"}),(0,Re.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Re.jsx)("li",{children:"\u2022 A Ph.D. or Master\u2019s degree in a relevant engineering or technology discipline."}),(0,Re.jsx)("li",{children:"\u2022 Proven research record with publications in peer-reviewed journals or conferences."}),(0,Re.jsx)("li",{children:"\u2022 Commitment to maintaining high ethical standards in research and publication."}),(0,Re.jsx)("li",{children:"\u2022 Willingness to review manuscripts in your area of expertise within stipulated timelines."})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Roles & Responsibilities"}),(0,Re.jsxs)("div",{className:"mb-4",children:[(0,Re.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Associate Editors"}),(0,Re.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,Re.jsx)("li",{children:"Assist in managing the peer-review process."}),(0,Re.jsx)("li",{children:"Provide editorial decisions and recommendations."}),(0,Re.jsx)("li",{children:"Contribute to the strategic development of the journal."})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Reviewers"}),(0,Re.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,Re.jsx)("li",{children:"Provide constructive, detailed, and timely reviews of assigned manuscripts."}),(0,Re.jsx)("li",{children:"Help uphold the quality and integrity of published research."})]})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Benefits"}),(0,Re.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-gray-700",children:[(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u2713"}),(0,Re.jsx)("span",{children:"Recognition as an Associate Editor/Reviewer on the IJEPA website."})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u2713"}),(0,Re.jsx)("span",{children:"Opportunity to stay updated with cutting-edge research in your field."})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u2713"}),(0,Re.jsx)("span",{children:"Certificate of appreciation for your editorial/reviewing contribution."})]}),(0,Re.jsxs)("li",{className:"flex items-start",children:[(0,Re.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u2713"}),(0,Re.jsx)("span",{children:"Networking with international researchers and professionals."})]})]})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"How to Apply"}),(0,Re.jsx)("p",{className:"text-gray-700 mb-4",children:"Interested candidates are invited to complete the application form via the link below:"}),(0,Re.jsx)("a",{href:"https://forms.gle/ThKT31uW4K4F3dUX7",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors duration-200",children:"\ud83d\udc49 Apply Here"}),(0,Re.jsxs)("p",{className:"mt-6 text-gray-600",children:["For queries, please contact:",(0,Re.jsx)("br",{}),(0,Re.jsx)("span",{className:"font-medium",children:"Editorial Office, IJEPA"}),(0,Re.jsx)("br",{}),"Email: ",(0,Re.jsx)("a",{href:"mailto:".concat(e),className:"text-blue-500 hover:underline",children:e})]})]}),(0,Re.jsxs)("footer",{className:"mt-12 text-center text-gray-500 text-sm",children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved."]})]})})},Wy={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:4000",zy=()=>{const{user:e}=Le(),t=te(),[n,i]=(0,s.useState)(!0),[r,a]=(0,s.useState)({fullName:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",affiliation:"",paperTitle:"",keywords:"",manuscript:null,copyrightForm:null,comments:""}),[o,l]=(0,s.useState)({}),[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)("");(0,s.useEffect)(()=>{e?i(!1):t("/login",{state:{from:"/submitform"}})},[e,t]);const f=e=>{const{name:t,value:n}=e.target;a(e=>Ke(Ke({},e),{},{[t]:n})),o[t]&&l(e=>Ke(Ke({},e),{},{[t]:""}))},g=e=>{const{name:t,files:n}=e.target;a(e=>Ke(Ke({},e),{},{[t]:n[0]})),o[t]&&l(e=>Ke(Ke({},e),{},{[t]:""}))},v=e=>e?(0,Re.jsxs)("div",{className:"flex items-center mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{className:"text-green-800 font-medium truncate",children:e.name})]}):null;return n?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,Re.jsx)(Fe,{size:"lg",text:"Authenticating..."})}):h?(0,Re.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center p-8",children:[(0,Re.jsx)("div",{className:"mx-auto mb-6 w-24 h-24 flex items-center justify-center bg-green-100 rounded-full",children:(0,Re.jsx)("svg",{className:"w-16 h-16 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Re.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Paper Submitted Successfully!"}),(0,Re.jsx)("p",{className:"text-lg text-slate-600 max-w-md mx-auto mb-8",children:"Thank you for your submission. You will receive a confirmation email shortly. Our team will review your paper and get back to you."}),(0,Re.jsx)("button",{onClick:()=>t("/author-dashboard"),className:"py-3 px-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Back to Dashboard"})]})}):(0,Re.jsx)("div",{className:"min-h-screen bg-slate-50 py-12",children:(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Re.jsxs)("div",{className:"text-center mb-12",children:[(0,Re.jsxs)("button",{onClick:()=>t("/author-dashboard"),className:"mb-6 flex items-center text-slate-600 hover:text-slate-900 transition-colors self-start",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),(0,Re.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Submit Your Research Paper"}),(0,Re.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Please fill in all required fields and upload the necessary documents to submit your manuscript for review."})]}),(0,Re.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:(0,Re.jsx)("div",{className:"p-6 sm:p-8",children:(0,Re.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.fullName.trim()||(e.fullName="Full name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.affiliation.trim()||(e.affiliation="Affiliation is required"),r.paperTitle.trim()||(e.paperTitle="Paper title is required"),r.manuscript||(e.manuscript="Manuscript file is required"),r.copyrightForm||(e.copyrightForm="Copyright form is required"),l(e),0===Object.keys(e).length})()){d(!0),m("");try{const t=new FormData;t.append("fullName",r.fullName),t.append("email",r.email),t.append("affiliation",r.affiliation),t.append("paperTitle",r.paperTitle),t.append("keywords",r.keywords||""),t.append("comments",r.comments||""),null!==e&&void 0!==e&&e.id&&t.append("userId",String(e.id)),r.manuscript&&t.append("manuscript",r.manuscript),r.copyrightForm&&t.append("copyrightForm",r.copyrightForm);const n=await fetch("".concat(Wy,"/api/submissions"),{method:"POST",body:t}),s=await n.json();n.ok&&s.success?u(!0):m(s.error||"Failed to submit paper. Please try again.")}catch(n){console.error("Submission failed",n),m("Submission failed. Please try again.")}finally{d(!1)}}},className:"space-y-8",children:[p&&(0,Re.jsx)("div",{className:"mb-4 rounded-lg bg-red-50 border border-red-200 px-4 py-3 text-sm text-red-700",children:p}),(0,Re.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,Re.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"1"}),"Author Information"]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.fullName?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"Enter your full name"}),o.fullName&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.fullName})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:["Email Address ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.email?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"your.email@institution.edu"}),o.email&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsxs)("label",{htmlFor:"affiliation",className:"block text-sm font-medium text-slate-700 mb-2",children:["Affiliation / Institution ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"text",id:"affiliation",name:"affiliation",value:r.affiliation,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.affiliation?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"University, Company, or Organization"}),o.affiliation&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.affiliation})]})]})]}),(0,Re.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,Re.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"2"}),"Paper Details"]}),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"paperTitle",className:"block text-sm font-medium text-slate-700 mb-2",children:["Paper Title ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"text",id:"paperTitle",name:"paperTitle",value:r.paperTitle,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.paperTitle?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"Enter the title of your research paper"}),o.paperTitle&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.paperTitle})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"keywords",className:"block text-sm font-medium text-slate-700 mb-2",children:"Keywords (Optional)"}),(0,Re.jsx)("input",{type:"text",id:"keywords",name:"keywords",value:r.keywords,onChange:f,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"e.g., AI, Civil Engineering, Renewable Energy"}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Separate keywords with commas"})]})]})]}),(0,Re.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,Re.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"3"}),"Document Uploads"]}),(0,Re.jsxs)("div",{className:"space-y-8",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Upload Manuscript ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl hover:border-indigo-400 transition-colors\r ${errors.manuscript ? 'border-red-500 bg-red-50' : 'border-slate-300'}",children:(0,Re.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Re.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,Re.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Re.jsxs)("div",{className:"flex text-sm text-slate-600 justify-center",children:[(0,Re.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500",children:[(0,Re.jsx)("span",{children:"Upload a file"}),(0,Re.jsx)("input",{type:"file",name:"manuscript",accept:".pdf,.doc,.docx",onChange:g,className:"sr-only"})]}),(0,Re.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Re.jsx)("p",{className:"text-xs text-slate-500",children:"PDF, DOC, or DOCX format only (Max 20MB)"}),v(r.manuscript)]})}),o.manuscript&&(0,Re.jsx)("p",{className:"mt-2 text-sm text-red-600",children:o.manuscript})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Upload Signed Copyright Form ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl hover:border-indigo-400 transition-colors\r ${errors.copyrightForm ? 'border-red-500 bg-red-50' : 'border-slate-300'}",children:(0,Re.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Re.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,Re.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Re.jsxs)("div",{className:"flex text-sm text-slate-600 justify-center",children:[(0,Re.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500",children:[(0,Re.jsx)("span",{children:"Upload a file"}),(0,Re.jsx)("input",{type:"file",name:"copyrightForm",accept:".pdf,.doc,.docx",onChange:g,className:"sr-only"})]}),(0,Re.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Re.jsx)("p",{className:"text-xs text-slate-500",children:"PDF, DOC, or DOCX format (Max 10MB)"}),v(r.copyrightForm)]})}),o.copyrightForm&&(0,Re.jsx)("p",{className:"mt-2 text-sm text-red-600",children:o.copyrightForm})]})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,Re.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"4"}),"Additional Information"]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"comments",className:"block text-sm font-medium text-slate-700 mb-2",children:"Additional Comments / Cover Letter (Optional)"}),(0,Re.jsx)("textarea",{id:".comments",name:"comments",value:r.comments,onChange:f,rows:"4",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Share any additional context, special requests, or cover letter details..."}),(0,Re.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Max 500 characters"})]})]}),(0,Re.jsxs)("div",{className:"pt-6",children:[(0,Re.jsx)("button",{type:"submit",disabled:c,className:"w-full py-4 px-6 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",children:c?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(Fe,{size:"sm",text:""}),(0,Re.jsx)("span",{className:"ml-3",children:"Submitting Paper..."})]}):"Submit Paper for Review"}),(0,Re.jsxs)("p",{className:"mt-4 text-center text-sm text-slate-500",children:["By submitting, you agree to our ",(0,Re.jsx)("a",{href:"/author-guidelines",className:"text-indigo-600 hover:underline",children:"Author Guidelines"})," and ",(0,Re.jsx)("a",{href:"#",className:"text-indigo-600 hover:underline",children:"Publication Ethics"}),"."]})]})]})})})]})})},Uy=()=>{const[e,t]=(0,s.useState)({name:"",email:"",subject:"",message:""}),[n,i]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),c=e=>{const{name:n,value:s}=e.target;t(e=>Ke(Ke({},e),{},{[n]:s})),o&&l("")};return(0,Re.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,Re.jsxs)("main",{className:"flex-grow",children:[(0,Re.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,Re.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Re.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,Re.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,Re.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Re.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Contact ",(0,Re.jsx)("span",{className:"text-indigo-300",children:"Us"})]}),(0,Re.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"We're here to assist you with any questions about submissions, editorial policies, or journal operations."})]})]}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Re.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Get in Touch"}),(0,Re.jsxs)("p",{className:"text-slate-700 mb-8 leading-relaxed",children:["The ",(0,Re.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," values communication with authors, reviewers, editors, and readers. We encourage you to reach out to us for any queries, clarifications, or support related to manuscript submission, editorial policies, or publication processes."]}),(0,Re.jsxs)("div",{className:"mb-10",children:[(0,Re.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-indigo-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2M7 21h10"})}),"Editorial Office"]}),(0,Re.jsxs)("div",{className:"space-y-3 text-slate-700",children:[(0,Re.jsx)("p",{className:"font-medium",children:"International Journal of Engineering Practices and Applications (IJEPA)"}),(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Re.jsx)("span",{children:"editor@ijepa.org"})]}),(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Re.jsx)("span",{children:"+91 98765 43210"})]}),(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})}),(0,Re.jsx)("span",{children:"www.ijepa.org"})]})]})]}),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"For Authors"]}),(0,Re.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 Questions about manuscript preparation or submission guidelines"}),(0,Re.jsx)("li",{children:"\u2022 Status updates on submitted papers"}),(0,Re.jsx)("li",{children:"\u2022 Queries regarding publication charges or templates"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"For Reviewers / Editors"]}),(0,Re.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 Interest in joining as an Associate Editor or Reviewer"}),(0,Re.jsx)("li",{children:"\u2022 Support regarding the review process or editorial roles"})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"General Inquiries"]}),(0,Re.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 Feedback about the journal or published papers"}),(0,Re.jsx)("li",{children:"\u2022 Technical support with website or submission system"})]})]})]}),(0,Re.jsx)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,Re.jsxs)("p",{className:"text-blue-800 font-medium",children:["We aim to respond to all inquiries within ",(0,Re.jsx)("strong",{children:"2\u20133 business days"}),"."]})})]}),(0,Re.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Send us a Message"}),r&&(0,Re.jsx)("div",{className:"mb-6 p-4 bg-green-50 text-green-800 rounded-lg border border-green-200",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{children:"Message sent successfully! We'll get back to you soon."})]})}),o&&(0,Re.jsx)("div",{className:"mb-6 p-4 bg-red-50 text-red-800 rounded-lg border border-red-200",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("span",{children:o})]})}),(0,Re.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),l("");try{await new Promise(e=>setTimeout(e,1500)),a(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(n){l("Failed to send message. Please try again later.")}finally{i(!1)}},className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Enter your full name"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:["Email Address ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"your.email@example.com"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-2",children:["Subject ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"What is this regarding?"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-2",children:["Message ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:c,required:!0,rows:"6",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors resize-none",placeholder:"Please provide details about your inquiry.."})]}),(0,Re.jsx)("button",{type:"submit",disabled:n,className:"w-full py-3 px-6 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center",children:n?(0,Re.jsxs)("span",{className:"flex items-center",children:[(0,Re.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})]})]})]})})]})})};const Hy=function(){return(0,Re.jsx)(Ie,{children:(0,Re.jsx)(Ae,{children:(0,Re.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Re.jsx)(We,{}),(0,Re.jsx)("main",{className:"flex-1",children:(0,Re.jsxs)(be,{children:[(0,Re.jsx)(ve,{path:"/",element:(0,Re.jsx)(Ve,{})}),(0,Re.jsx)(ve,{path:"/login",element:(0,Re.jsx)(Sy,{})}),(0,Re.jsx)(ve,{path:"/register",element:(0,Re.jsx)(Ey,{})}),(0,Re.jsx)(ve,{path:"/papers",element:(0,Re.jsx)(Ay,{})}),(0,Re.jsx)(ve,{path:"/author-guidelines",element:(0,Re.jsx)(Ly,{})}),(0,Re.jsx)(ve,{path:"/indexing",element:(0,Re.jsx)(Fy,{})}),(0,Re.jsx)(ve,{path:"/callforpapers",element:(0,Re.jsx)(Iy,{})}),(0,Re.jsx)(ve,{path:"/journal-issues",element:(0,Re.jsx)(Oy,{})}),(0,Re.jsx)(ve,{path:"/joinusedito",element:(0,Re.jsx)(By,{})}),(0,Re.jsx)(ve,{path:"/submitform",element:(0,Re.jsx)(zy,{})}),(0,Re.jsx)(ve,{path:"/contact-us",element:(0,Re.jsx)(Uy,{})}),(0,Re.jsx)(ve,{path:"/contact-us",element:(0,Re.jsx)(Uy,{})}),(0,Re.jsx)(ve,{path:"/author-dashboard",element:(0,Re.jsx)(Oe,{requiredRole:"author",children:(0,Re.jsx)(My,{})})}),(0,Re.jsx)(ve,{path:"/reviewer-dashboard",element:(0,Re.jsx)(Oe,{requiredRole:"reviewer",children:(0,Re.jsx)(Py,{})})}),(0,Re.jsx)(ve,{path:"/review/paper/:id",element:(0,Re.jsx)(Oe,{requiredRole:"reviewer",children:(0,Re.jsx)(Ry,{})})}),(0,Re.jsx)(ve,{path:"/admin-dashboard",element:(0,Re.jsx)(Oe,{requiredRole:"admin",children:(0,Re.jsx)(Ty,{})})}),(0,Re.jsx)(ve,{path:"*",element:(0,Re.jsx)(ge,{to:"/",replace:!0})})]})}),(0,Re.jsx)(ze,{}),(0,Re.jsx)(Ue,{})]})})})};r.createRoot(document.getElementById("root")).render((0,Re.jsx)(s.StrictMode,{children:(0,Re.jsx)(Hy,{})}))})()})();
//# sourceMappingURL=main.94c6cfee.js.map